!function(ke){ke.jqx.scheduler||(ke.jqx.scheduler={}),ke.jqx.jqxWidget("jqxScheduler","",{}),ke.extend(ke.jqx._jqxScheduler.prototype,{defineInstance:function(){var e={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:ke.jqx.utilities.scrollBarSize,touchScrollBarSize:ke.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new ke.jqx.date(0),max:new ke.jqx.date(9999,12,31),date:new ke.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===ke.jqx._jqxScheduler.prototype||(ke.extend(!0,this,e),this.that=this),e},_applyThemeSettings:function(){var e=this,t=window.getComputedStyle(e.element),i=t.getPropertyValue("--jqx-grid-row-height"),o=t.getPropertyValue("--jqx-grid-column-height");t.getPropertyValue("--jqx-scrollbar-size");i&&(e.rowsHeight=parseInt(i)),o&&(e.columnsHeight=parseInt(o))},createInstance:function(e){var n=this;n._views=new Array,n._view=n.view,this._applyThemeSettings();for(var t=0;t<n.views.length;t++)"string"===ke.type(n.views[t])?n._views.push({type:n.views[t]}):n._views.push(n.views[t]);for(t=0;t<n._views.length;t++)if(n._views[t].type==n.view){n._view=t;break}15!=ke.jqx.utilities.scrollBarSize&&(n.scrollBarSize=ke.jqx.utilities.scrollBarSize),n.source&&!n.source.dataBind&&(n.source=new ke.jqx.dataAdapter(n.source));var i=n.source._source.datafields;i&&0<i.length&&(n._camelCase=void 0!==n.source._source.dataFields,n.selectionMode=n.selectionMode.toLowerCase()),null==n.host.attr("tabindex")&&n.host.attr("tabindex","0"),n.host.attr("role","grid"),n.host.attr("align","left"),n.host.addClass(n.toTP("jqx-grid")),n.host.addClass(n.toTP("jqx-scheduler")),n.host.addClass(n.toTP("jqx-reset")),n.host.addClass(n.toTP("jqx-rc-all")),n.host.addClass(n.toTP("jqx-widget")),n.host.addClass(n.toTP("jqx-widget-content jqx-disableselect")),n._testmodules()||(n.overlay=ke("<div style='z-index: 999; position:absolute;'></div>"),n.overlay.hide(),n.overlay.appendTo(n.host),n.render(!0),ke.jqx.utilities.resize(n.host,function(){var e=ke(window).width(),t=ke(window).height(),i=(n._hostWidth=null,n._hostHeight=null,n.host.width()),o=n.host.height();n._hostWidth=i,n._hostHeight=o,n._lastHostWidth==i&&n._lastHostHeight==o||n._updatesize(n._lastHostWidth!=i,n._lastHostHeight!=o),n._lastWidth=e,n._lastHeight=t,n._lastHostWidth=i,n._lastHostHeight=o}),n.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this,i=(t.editRecurrenceDialog=null,ke("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>")),e=(t.editRecurrenceDialog=i,ke(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1}),i.find("button")),o=(e.jqxButton({theme:t.theme,width:"50%"}),!1);e.mousedown(function(){o=!0,0<=this.id.indexOf("editRecurringAppointmentOccurrence")?t.editSeries(!1):t.editSeries(!0),ke(i).jqxWindow("close")}),this.addHandler(ke(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(ke(i),"keydown",function(e){if(13==e.keyCode&&ke(document.activeElement).ischildof(ke(i))&&"button"==document.activeElement.nodeName.toLowerCase())return ke(document.activeElement).trigger("mousedown"),ke(document.activeElement).trigger("mouseup"),!0}),this.addHandler(ke(i),"close",function(e){if(!o)return t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1;o=!1,t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||6<i)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){(t=(t=this.date)<this.min?this.min:t)>this.max&&(t=this.max);var e=this._views[this._view].type,t=(this._views[this._view],t.clearTime());switch(e){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return t}e=t.day();return t=t.addDays(1-e)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=ke('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=ke('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url&&(e=!1,(e="auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight?e:!0)?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height)),e=!1,(e="auto"!==this.width&&null!==this.width&&!this.autoWidth?e:!0)?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width)))},_measureElement:function(e){var t=ke("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),ke(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){function e(){""!=t.length&&(t+=",")}var t="";this.host.jqxScrollBar||(e(),t+=" jqxscrollbar.js"),this.host.jqxButton||(e(),t+=" jqxbuttons.js"),ke.jqx.dataAdapter||(e(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(e(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(e(),t+=" jqxcalendar.js");try{Globalize||(e(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen"))return e=this,setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0);if(document.activeElement==this.element)return;this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return ke.jqx.isHidden(this.host)},_updatesize:function(e,t){var i,o,n,s;this._loading||(o=(i=this).host.width(),n=i.host.height(),i._oldWidth||(i._oldWidth=o),i._oldHeight||(i._oldHeight=n),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null),(s=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,ke.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=o,i._oldHeight=n,i.resizingGrid=!1)})(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||s()},300))},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=ke.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchMode?(e=!0,ke.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e):0==this.touchMode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,ke.jqx.dataFormat&&ke.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=e){for(var i in this.schedulerLocalization)e[i]&&(this.schedulerLocalization[i]=e[i]);e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),ke(this.dataloadelement).css("visibility","hidden"),ke(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this,o=("auto"!==i.width&&null!==i.width&&!i.autowidth||999999!=i.maxWidth||(t=!0),i._views[i._view].type),n=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!n.monthRowAutoHeight)return a=i.vScrollBar[0].style.visibility,i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(a!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths());var o=parseInt(i.scrollBarSize),n=i.table?i.table.height():0,s=0,r="inherit",a=i.vScrollBar[0].style.visibility,l=(i.hScrollBar[0].style.visibility,e=e||i.host.height(),i.columnGroups?e-=i.showHeader?i.columnsheader.height():0:e-=i.showHeader?i.columnsHeight:0,i.filterable&&(e-=i.filter.height()),i.pageable&&(e-=i.pagerHeight,"both"===i.pagerPosition&&(e-=i.pagerHeight)),i.showToolbar&&(e-=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(e-=i.legendHeight),!1),a=(!(l="auto"!==i.height&&null!==i.height&&!i.autoheight||999999!=i.maxHeight?l:!0)&&e<n&&0<i.getRows().length?(i.vScrollBar[0].style.visibility=r,s=4+parseInt(o),i.vScrollBar.jqxScrollBar({max:n-e})):i.vScrollBar[0].style.visibility="hidden",a!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths(),i.table?i.table.width():0),d=(4<a&&(a-=4),parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width"))),h=d+i.host.width()-s;h<a&&!t?(i.hScrollBar[0].style.visibility=r,i.hScrollBar.jqxScrollBar({max:2+d+a-h}),s=4+parseInt(o),0==o&&(s=0),l||n==e||(e-s+4<n&&0<i.getRows().length&&(i.hScrollBar.jqxScrollBar({max:d+a-h}),t="hidden"===i.vScrollBar[0].style.visibility,i.vScrollBar[0].style.visibility=r,i._updatecolumnwidths(),t&&i.hScrollBar.jqxScrollBar({max:a-h+d}),3<(l=i.table?i.table.width():0)&&(l-=3),l!=a&&(l<h?(i.hScrollBar.jqxScrollBar({max:d+l-h}),i.hScrollBar[0].style.visibility="hidden",s=0):t?h<l&&i.hScrollBar.jqxScrollBar({max:d+l-h}):i.hScrollBar.jqxScrollBar({max:a-h+d-o}))),0<n-e?i.vScrollBar.jqxScrollBar({max:n-e+s}):i.vScrollBar[0].style.visibility="hidden")):i.hScrollBar[0].style.visibility="hidden",0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var e=ke("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>"),t=(e.addClass(this.toTP("jqx-widget")),e.addClass(this.toTP("jqx-grid")),e.addClass(this.toTP("jqx-grid-column-header")),e.addClass(this.toTP("jqx-widget-header")),ke(document.body).append(e),e.outerWidth()+20);return e.remove(),t},_arrangeAutoHeight:function(e){var t,i,o;return e=e||0,!("auto"!==this.height&&null!==this.height&&!this.autoheight)&&(i=this.table.height(),t=0,this._hostHeight=null,this.columnGroups?t+=this.showHeader?this.columnsheader.height():-1:t+=this.showHeader?this.columnsHeight:-1,t=(t=(t+=this.showLegend&&0<this._resources.length?this.legendHeight:0)+(this.showToolbar?this.toolbarHeight:0))+(this.pageable?this.pagerHeight:0),"both"===this.pagerPosition&&(t+=this.pageable?this.pagerHeight:0),t+=i,this.filterable&&(i=this.filter.find(".filterrow"),o=1,0<this.filter.find(".filterrow-hidden").length&&(o=0),t+=this.filterHeight-1+this.filterHeight*i.length*o),t+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(t+e),!0)},_arrangeAutoWidth:function(e){if(e=e||0,"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==o?o=this._measureElementWidth(this.columns.records[i].text):o)}var n=t;return n+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(n+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&0<this._resources.length&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){var e,t,i,o,n,s,r,a,l,d,h,c;this.table&&(this._arrangeAutoHeight(),this._arrangeAutoWidth(),e=this.legendHeight,0==this._resources.length&&(e=0),t=this._hostWidth||this.host.width(),i=a=this._hostHeight||this.host.height(),this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden",r=0,this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",r+=this.toolbarHeight,a-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition&&(this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=r+"px"&&(this.legendbartop[0].style.top=r+"px"),o=r+e+"px",r+=e,this.content[0].style.top!=o&&(this.content[0].style.top=r+"px")),this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(i),o=parseInt(this.scrollBarSize),n=2,"hidden"!=this.vScrollBar[s=0].style.visibility&&(s=o+4),"hidden"!=this.hScrollBar[0].style.visibility&&(n=o+4+2),0==o&&(s=n=0),"hidden"==this.vScrollBar[0].style.visibility&&"hidden"==this.hScrollBar[0].style.visibility||(h=this._arrangeAutoHeight(n-2),d=this._arrangeAutoWidth(s+1),(h||d)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),h&&(r=(d=this._measureTopAndHeight()).top,a=d.height)),h=0,this.showLegend&&"bottom"==this.legendPosition?(n+=e,h+=e):this.showLegend&&(n+=e),this.hScrollBar[0].style.height!=o+"px"&&(this.hScrollBar[0].style.height=parseInt(o)+"px"),this.hScrollBar[0].style.top==r+a-4-o-h+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+a-4-o-h-1+"px",this.hScrollBar[0].style.left="0px"),d=this.hScrollBar[0].style.width,l=h=!1,0==s?d!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",h=!0):d!=t-o-4+"px"&&(this.hScrollBar[0].style.width=t-o-4+"px",h=!0),this.vScrollBar[0].style.width!=o+"px"&&(this.vScrollBar[0].style.width=o+"px",l=!0),this.vScrollBar[0].style.height!=parseInt(a)-n+"px"&&(this.vScrollBar[0].style.height=parseInt(a)-n+"px",l=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(o)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(o)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:o+2})),(d=this.vScrollInstance).disabled=this.disabled,(c=this.hScrollInstance).disabled=this.disabled,h&&c.refresh(),l&&d.refresh(),"hidden"!=(h=this).vScrollBar[0].style.visibility&&"hidden"!=h.hScrollBar[0].style.visibility?(h.bottomRight[0].style.visibility="inherit",h.bottomRight[0].style.left=1+parseInt(h.vScrollBar.css("left"))+"px",h.bottomRight[0].style.top=parseInt(h.hScrollBar.css("top"))+"px",h.rtl&&h.bottomRight.css("left","0px"),h.bottomRight[0].style.width=parseInt(o)+3+"px",h.bottomRight[0].style.height=parseInt(o)+4+"px"):h.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-s+"px"&&(this.content[0].style.width=t-s+"px"),this.content[0].style.height!=a-n+3+"px"&&(this.content[0].style.height=a-n+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&this.content.css("left",s),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",r-1+a-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),a!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=i,c=this.schedulercontent.coord(),this._tableOffset=c)},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};null!=e&&"object"==typeof e&&(t=e.left,e=e.top),null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,t,i){var o,x,n,b,A;!0!==this.loadingstate&&(o=window,"block"==this.host.css("display")&&(this.autoShowLoadElement?(ke(this.dataloadelement).css("visibility","visible"),ke(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(ke(this.dataloadelement).css("visibility","hidden"),ke(this.dataloadelement).css("display","none"))),x=this,null!=(e=null==e?{}:e).sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),null!=e&&(null!=e._source?e._source:e).url,this.dataview=this.dataview||new ke.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new ke.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,((this.dataview.scheduler=this).resourcesDataView.scheduler=this)._loading=!0,this.appointments=new Array,this.uiappointments=new Array,n=1,this.resources&&this.resources.source&&(n=2),b=0,this._resourcesBinding=!(A=function(){var e,t;b==n&&(x._resourcesBinding=!1,e=1<x._resources.length?x._resources.length:1,x.resources&&"horizontal"===x.resources.orientation?(x.tableColumns=e,x.tableRows=1):x.resources&&"vertical"===x.resources.orientation?(x.tableRows=e,x.tableColumns=1):(x.tableColumns=1,x.tableRows=1),x._render(),x.autoShowLoadElement&&!x._loading&&(ke(x.dataloadelement).css("visibility","hidden"),ke(x.dataloadelement).css("display","none")),x._updateTouchScrolling(),x._raiseEvent("bindingComplete"),i&&i(),x.initializedcall||(x.initializedcall=!0,x.isInitialized=!0,(null!=x.width&&-1!=x.width.toString().indexOf("%")||null!=x.height&&-1!=x.height.toString().indexOf("%"))&&x._updatesize(!0),x.ready&&x.ready(),x._rendercelltexts&&x._rendercelltexts(),x._gridRenderElement&&(ke(x._gridRenderElement).show("slow"),e=6e3+Math.floor(4e3*Math.random()+1),t=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),o[ke.camelCase(t)](function(){ke(x._gridRenderElement).hide("slow",function(){ke(x._gridRenderElement).remove()})},e)),"hidden"==x.host.css("visibility")&&(ke.jqx.browser.msie&&ke.jqx.browser.version,"visible"==x.vScrollBar.css("visibility")&&x.vScrollBar.css("visibility","inherit"),"visible"==x.hScrollBar.css("visibility")&&x.hScrollBar.css("visibility","inherit"),x._intervalTimer=setInterval(function(){"visible"==x.host.css("visibility")&&(x._updatesize(!0),clearInterval(x._intervalTimer))},100))))}),this.dataview.update=function(e){x._loading=!1,x.appointmentsByKey=new Array,x.appointments=new Array,x.uiappointments=new Array;x.source._source.datafields;for(var t=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],i=new Array,o=0;o<x.source.records.length;o++){var n,s,r=x.source.records[o],a={};for(s in x.appointmentDataFields){var l,d=r[x.appointmentDataFields[s]];if("from"!=s&&"to"!=s||(d=new ke.jqx.date(d)),"style"==s&&d&&(l=x.getAppointmentColors(d),a.color=l.color,a.background=l.background,a.borderColor=l.border),"recurrencePattern"==s&&d&&((d=new ke.jqx.scheduler.recurrencePattern(d)).timeZone=r.timeZone||x.timeZone),"recurrenceException"==s){var h=new Array;if(d){0<=d.indexOf("EXDATE:")&&(d=d.substring(d.indexOf("EXDATE:")+7));var c=new Array;0<=d.indexOf(",")?c=d.split(","):c.push(d);for(var u=0;u<c.length;u++){var p,m=c[u];0<=m.indexOf(";")&&(p=m.split(";")[1],m=m.split(";")[0],0<=p.toLowerCase().indexOf("display")&&p.toLowerCase().indexOf("none")&&(a.hidden=!0));try{"Invalid Date"!=(f=ke.jqx.scheduler.utilities.untilStringToDate(m))&&(f=a.timeZone?new ke.jqx.date(f,a.timeZone):x.timeZone?f.toTimeZone(x.timeZone):new ke.jqx.date(f))}catch(e){var f=new ke.jqx.date(m,x.timeZone)}h.push(f)}}d=h}a[s]=d}for(n in t)null==a[s=t[n]]&&(d="","originalData"!=s&&("ownerId"==s&&(d=null),"timeZone"==s&&(d=null),"recurrencePattern"==s&&(d=null),"recurrenceException"==s&&(d=[]),"allDay"==s&&(d=!1),"draggable"==s&&(d=!0),"resizable"==s&&(d=!0),"hidden"==s&&(d=!1),"resourceId"==s&&(d=null),"from"==s&&(d=new ke.jqx.date),"to"==s&&(d=(new ke.jqx.date).addHours(1)),a[s]=d));a.originalData=r,!x.resources||x.resources.source||x._resourcesBinding||-1==i.indexOf(a.resourceId)&&i.push(a.resourceId),x.appointmentsByKey[r.uid]=a,x.appointments.push(a);var g=new ke.jqx.scheduler.appointment(a);if(a.timeZone&&(g.from=g.from.toTimeZone(a.timeZone),g.to=g.to.toTimeZone(a.timeZone)),x.timeZone?(a.timeZone||(g.timeZone=x.timeZone),g.from=g.from.toTimeZone(x.timeZone),g.to=g.to.toTimeZone(x.timeZone)):(g.from=g.from.toTimeZone(null),g.to=g.to.toTimeZone(null)),a.jqxAppointment=g,a.recurrenceException)for(var w=0;w<a.recurrenceException.length;w++){var f=g.recurrenceException[w],v=g.clone(),y=(v.occurrenceFrom=f,g.duration());x.allDay&&(y=new ke.jqx.timeSpan(1e4*(x.to-x.from))),v.from=f,v.to=f.add(y),v.rootAppointment=g,v.hidden=!0,g.exceptions.push(v)}g.boundAppointment=a,(g.scheduler=x).uiappointments.push(g)}x._resourcesBinding||(x._resources=i),b++,A()},this.resourcesDataView.update=function(e){if(x.resources.dataField){x._resources=new Array;for(var t=0;t<e.length;t++)0<=x._resources.indexOf(e[t][x.resources.dataField])||e[t][x.resources.dataField]&&x._resources.push(e[t][x.resources.dataField])}else x._resources=e;null==x.resources.orientation&&(x.resources.orientation="none"),b++,A()},this.dataview.databind(e),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source)))},_raiseEvent:function(e,t){var i=t=null==t?{owner:null}:t,e=(i.owner=this,new ke.Event(e)),i=(e.owner=this,e.args=i,this.host.trigger(e));return t=e.args,i},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!e)return!1;var t=this.getViewStart(),i=this.getViewEnd();if(!ke.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,t,i))return this.navigateTo(e.from),this._ensureAppointmentVisible(e);t=e.id,i=ke('[data-key="'+t+'"]');if(0<i.length)var o=i[0];else{if(!(e.elements&&0<e.elements.length))return!1;o=e.elements[0].element}var t=this.vScrollInstance.value,i=this.hScrollInstance.value,n=(this.rtl&&(i=this.hScrollInstance.max-i),this.element.clientHeight),s=this.element.clientWidth,r=0,a=(this.columnGroups?r+=this.showHeader?this.columnsheader.height():0:r+=this.showHeader?this.columnsHeight:0,this._views[this._view].type),l=this._views[this._view],d=0;if("dayView"==a||"weekView"==a){var h=this.showAllDayRow,h=(!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(h=l.timeRuler.showAllDayRow),h&&(d=(1==this.tableRows?this.table[0].rows[0]:this.table[0].rows[1]).clientHeight),1<=e.duration().days()||e.allDay);if(h&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(r+=this.toolbarHeight),n-=r,this.showLegend&&0<this._resources.length&&(n-=this.legendHeight);var c,a=+t,l=n+a-d,e=+i,r=s+e,t=o,n=((t=ke(t))[0].clientHeight,t.position().top-d),i=(n<=a?((c=n)<0&&(c=0),(!h||1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",c)):l<=n&&((c=n)<0&&(c=0),(!h||1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",c-2)),t.position().left);i=Math.round(i),t.outerWidth();0===Math.round(t.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),i<=e&&(t.outerWidth(),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-i):this.hScrollBar.jqxScrollBar("setPosition",i)),r<i&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-i):this.hScrollBar.jqxScrollBar("setPosition",i))},ensureVisible:function(e,t){for(var i=this,o="date"==ke.type(e)?e:e.toDate(),n=0;n<i.rows.length;n++)for(var s=0;s<i.rows[n].cells.length;s++){var r=i.rows[n].cells[s];if(!t||r.getAttribute("data-view")===t){var a=r.getAttribute("data-date");if(i._getDateByString(a).valueOf()==o.valueOf())return i._ensureVisible(r)}}},_ensureVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var t=this.vScrollBar.jqxScrollBar("value"),i=this.hScrollBar.jqxScrollBar("value"),o=(this.rtl&&(i=this.hScrollBar.jqxScrollBar("max")-i),this._hostHeight),n=this._hostWidth,s=0,s=(this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(s+=this.toolbarHeight),o-=s,this.showLegend&&0<this._resources.length&&(o-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(o-=20),this._views[this._view].type),r=this._views[this._view],a=0,s=("dayView"!=s&&"weekView"!=s||(l=this.showAllDayRow,!r.timeRuler||"dayView"!==s&&"weekView"!==s||null!=r.timeRuler.showAllDayRow&&(l=r.timeRuler.showAllDayRow),l&&(a=(1==this.tableRows?this.table[0].rows[0]:this.table[0].rows[1]).clientHeight)),+t),r=o+s-a,l=+i,t=n+l,i=e,e=(i=ke(i)).position().top-a,d=e+i.outerHeight(),h=i.position().left,c=(h=Math.round(h))+i.outerWidth(),h=(0===Math.round(i.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),h<=l&&((l=h-i.outerWidth()+0)<0&&(l=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-l):this.hScrollBar.jqxScrollBar("setPosition",l)),t<=c&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+c-n)):this.hScrollBar.jqxScrollBar("setPosition",2+c-n)),i.parent().index());if(0<this.tableRows&&h--,0===Math.round(i.position().top)||0===h)return this.vScrollBar.jqxScrollBar("setPosition",0);l=this.table[0].rows.length-1;return this.table[0].rows[l][0]===i.parent()[0]?this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max")):e<=s?this.vScrollBar.jqxScrollBar("setPosition",e<0?0:e):r<=d?this.vScrollBar.jqxScrollBar("setPosition",4+d-o+a):void 0},getColumn:function(e){var t=null;return this.columns.records&&ke.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;e=this.getColumn(e);switch(null!=e&&(e[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():"width"!=t&&"maxwidth"!=t&&"minwidth"!=t||(o._width=null,o._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){1==e||ke.jqx.isHidden((e=this).host)||(e.table[0].style.top="0px",e.vScrollInstance.setPosition(0),e._renderrows(),e._arrange(),e._renderhorizontalscroll(),e._updateTouchScrolling(),e._refreshToolBar(),e._updateFocusedCell())},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),0<=e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=null;for(var n=0;n<this.rows.length;n++){for(var s=0;s<this.rows[n].cells.length;s++){var r=this.rows[n].cells[s];if(-1==r.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=r;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var e,t,i,o=this.that;o.isTouchDevice()&&(e=ke.jqx.mobile.getTouchEventName("touchstart"),t=ke.jqx.mobile.getTouchEventName("touchend"),i=ke.jqx.mobile.getTouchEventName("touchmove"),o.schedulercontent&&(o.removeHandler(o.table,e+".touchScroll"),o.removeHandler(o.table,i+".touchScroll"),o.removeHandler(o.table,t+".touchScroll"),o.removeHandler(o.table,"touchcancel.touchScroll"),ke.jqx.mobile.touchScroll(o._table[0],Math.max(o.vScrollInstance.max,o.hScrollInstance.max),function(e,t){o.dragOrResize||(null!=t&&"hidden"!=o.vScrollBar.css("visibility")&&(o.vScrollInstance.value,o.vScrollInstance.setPosition(t)),null!=e&&"hidden"!=o.hScrollBar.css("visibility")&&(o.hScrollInstance.value,o.hScrollInstance.setPosition(e)),o.scrolled=new Date)},this.element.id,this.hScrollBar,this.vScrollBar)))},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>",t=(this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset")),this.host.find("#verticalScrollBar"+this.element.id)),i=this.host.find("#horizontalScrollBar"+this.element.id),o=(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=t.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=i.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=ke.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=ke.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns,this.source.datafields);if(o=null==o&&this.source._source?this.source._source.datafields:o)for(var n=0;n<this.columns.length;n++){var s=this.columns[n];if(s&&s.cellsFormat&&2<s.cellsFormat.length)for(var r=0;r<o.length;r++)if(o[r].name==s.datafield&&!o[r].format){o[r].format=s.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var a=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.schedulercontent&&(a.schedulercontent[0].scrollLeft=0,a.schedulercontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e,t,i,r=this;null==r.dataview||r._loading||(25==r.columnsHeight&&!r.columnGroups||r._measureElement("column"),r.rowinfo=new Array,r._removeHandlers(),null==r.columns?r.columns=new ke.jqx.schedulerDataCollection(r.element):r._initializeColumns(),r.host.height(r.height),r.host.width(r.width),ke.jqx.utilities.html(r.content,""),r.columnsheader=r.columnsheader||ke('<div style="overflow: hidden;"></div>'),r.columnsheader.remove(),r.columnsheader.addClass(r.toTP("jqx-widget-header")),r.columnsheader.addClass(r.toTP("jqx-grid-header")),r.showHeader?r.columnsheader&&r.columnsheader.css("display","block"):r.columnsheader.css("display","none"),r.schedulercontent=r.schedulercontent||ke('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),r.schedulercontent.remove(),e=r.columnsHeight,e=r._preparecolumnGroups(),r.columnsheader.height(e),r.content.append(r.columnsheader),r.content.append(r.schedulercontent),r._rendercolumnheaders(),r.tableheight=null,r.schedulercontent.find("#contenttable"+r.element.id).remove(),null!=r.table&&(r.table.remove(),r.table=null),null!=r.pinnedtable&&(r.pinnedtable.remove(),r.pinnedtable=null),r.table=ke('<div id="contenttable'+r.element.id+'" style="overflow: hidden; position: relative;"></div>'),r.pinnedtable=ke('<div id="contenttable2'+r.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),r.schedulercontent.addClass(r.toTP("jqx-grid-content")),r.schedulercontent.addClass(r.toTP("jqx-widget-content")),r.schedulercontent.append(r.table),1==r.tableRows&&r.schedulercontent.append(r.pinnedtable),r._renderrows(),r._arrange(),r._resourcesElements=new Array,(e=function(n,s){n.children().remove();n=ke("<div style='margin:5px; position: relative;'></div>").appendTo(n);r._resourcesElements[s]=new Array,ke.each(r._resources,function(e){function t(){"on"==o.attr("data-toggle")?r.hideAppointmentsByResource(i):r.showAppointmentsByResource(i)}var e=r.getColors(e),i=this.toString(),o=ke("<div data-toggle='on' style='border-color: "+e.border+"; background: "+e.background+";' class='"+r.toThemeProperty("jqx-scheduler-legend")+"'></div>"),e=(o.appendTo(n),ke("<div class='"+r.toThemeProperty("jqx-scheduler-legend-label")+"'>"+i+"</div>"));e.appendTo(n),r._resourcesElements[s][i]=o;r.addHandler(o,"mousedown",function(){return t(),!1}),r.addHandler(e,"mousedown",function(){return t(),!1})})})(r.legendbarbottom,"bottom"),e(r.legendbartop,"top"),("top"==r.legendPosition?r.legendbarbottom:r.legendbartop).hide(),0==r._resources.length&&(r.legendbarbottom.hide(),r.legendbartop.hide()),r.renderToolBar?r.renderToolBar(r.toolbar):r._renderToolBar(),r.disabled&&r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r._renderhorizontalscroll(),r._addHandlers(),r.clearSelection(),e=r._views[r._view].type,t=r._views[r._view],i=r.showAllDayRow,!t.timeRuler||"dayView"!==e&&"weekView"!==e||null!=t.timeRuler.showAllDayRow&&(i=t.timeRuler.showAllDayRow),r.focusedCell=(!i||"dayView"!=e&&"weekView"!=e?r.rows[0]:r.rows[1]).cells[0],r._lastSelectedCell=r.focusedCell,r._updateCellsSelection())},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){for(var t=null,i=(0<=e.className.indexOf("jqx-scheduler-appointment")&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e),e),o=0;o<4&&i.parentNode;o++)0<=i.className.indexOf("jqx-scheduler-appointment")&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t,e=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");return 0<=e.indexOf(".")?(t=e.substring(0,e.indexOf(".")),e.substring(e.indexOf(".")+1),this.appointmentsByKey[t].jqxAppointment.renderedAppointments[e]):this.appointmentsByKey[e].jqxAppointment},_renderToolBar:function(){function e(e){var t=ke.jqx.formatDate(n.getViewStart().toDate(),e,n.schedulerLocalization),e=ke.jqx.formatDate(n.getViewEnd().toDate(),e,n.schedulerLocalization);"dayView"===l||"timelineDayView"===l?n.toolbarDetails.html(t):n.toolbarDetails.html(t+" - "+e),n.rtl?(n.toolbarDetails.addClass("jqx-rtl"),n.toolbarDetails.html("<span style='direction:rtl;'>"+e+"<span> - <span style='direction:rtl;'>"+t+"</span>")):n.toolbarDetails[0].style.direction="ltr"}var n=this,t=ke('<div style="width: 100%; height: 100%; position: relative;"></div>'),i=(this.toolbarHeight-20)/2,o=(t.css("top",i),n.toolbarLeftButton=ke('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-left: 3px; margin-right: 3px; height: 24px; width: 27px; float: left;"></div>'),n.toolbarRightButton=ke('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-right: 3px; width: 27px; height: 24px; float: left;"></div>'),n.toolbarLeftButton.attr("title",n.schedulerLocalization.toolBarPreviousButtonString),n.toolbarRightButton.attr("title",n.schedulerLocalization.toolBarNextButtonString),n.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:n.disabled,theme:n.theme}),n.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:n.disabled,theme:n.theme}),n.dateTimeInput=ke('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),n.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),n.toolbarRightButton.find(".jqx-icon-arrow-right").remove(),ke("<div style='outline: none;  width: 15px; height: 15px;'></div>")),s=(o.addClass(n.toThemeProperty("jqx-icon-arrow-left")),n.toolbarLeftButton.wrapInner(o),ke("<div style='outline: none; width: 15px; height: 15px;'></div>")),r=(s.addClass(n.toThemeProperty("jqx-icon-arrow-right")),n.toolbarRightButton.wrapInner(s),n.rtl&&(n.toolbarLeftButton.css("float","right"),n.toolbarRightButton.css("float","right"),n.dateTimeInput.css("float","right")),n.addHandler(n.toolbarRightButton,"mouseenter",function(){s.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(n.toolbarLeftButton,"mouseenter",function(){o.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(n.toolbarRightButton,"mouseleave",function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(n.toolbarLeftButton,"mouseleave",function(){o.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(n.toolbarRightButton,"mousedown",function(){s.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(n.toolbarRightButton,"mouseup",function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(n.toolbarLeftButton,"mousedown",function(){o.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(n.toolbarLeftButton,"mouseup",function(){o.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(ke(document),"mouseup.pagerbuttons"+n.element.id,function(){s.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),o.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(n.toolbarRightButton,"click",function(){n.toolbarRightButton.jqxButton("disabled")||(n.rtl?n.navigateBackward():n.navigateForward(),n.focus())}),n.addHandler(n.toolbarLeftButton,"click",function(){n.toolbarLeftButton.jqxButton("disabled")||(n.rtl?n.navigateForward():n.navigateBackward(),n.focus())}),n.toolbar.children().remove(),n.toolbar.append(t),n.rtl?(t.append(n.toolbarRightButton),t.append(n.dateTimeInput),t.append(n.toolbarLeftButton)):(t.append(n.toolbarLeftButton),t.append(n.dateTimeInput),t.append(n.toolbarRightButton)),n.toolbarDetails=ke('<div class="'+n.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),n.toolbarViews=ke('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),n.rtl&&(n.toolbarDetails.css("float","right"),n.toolbarDetails.css("margin-left","0px"),n.toolbarDetails.css("margin-right","7px"),n.toolbarViews.css("margin-left","10px"),n.toolbarViews.css("margin-right","0px"),n.toolbarViews.css("float","left")),new Array),a=(n.rtl?(r.push(n.toolbarRightButton),r.push(n.dateTimeInput),r.push(n.toolbarLeftButton)):(r.push(n.toolbarLeftButton),r.push(n.dateTimeInput),r.push(n.toolbarRightButton)),n._views.length-1),l=(ke.each(n._views,function(e){var t="",i=e;if(n.rtl&&(i=a-e),null!=n._views[i].text)t=n._views[i].text;else switch(n._views[i].type){case"dayView":t=n.schedulerLocalization.dayViewString;break;case"weekView":t=n.schedulerLocalization.weekViewString;break;case"monthView":t=n.schedulerLocalization.monthViewString;break;case"agendaView":t=n.schedulerLocalization.agendaViewString;break;case"timelineDayView":t=n.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":t=n.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":t=n.schedulerLocalization.timelineMonthViewString}var e='<span data-type="'+n._views[i].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+t+"</span>",o=ke(e);o.addClass(n.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),r.push(o),0==i&&(n.rtl?o.addClass(n.toTP("jqx-rc-r")):o.addClass(n.toTP("jqx-rc-l"))),i==n._views.length-1&&(n.rtl?o.addClass(n.toTP("jqx-rc-l")):o.addClass(n.toTP("jqx-rc-r"))),i===n._view&&o.addClass(n.toTP("jqx-fill-state-pressed")),o.mouseenter(function(){o.addClass(n.toTP("jqx-fill-state-hover"))}),o.mouseleave(function(){o.removeClass(n.toTP("jqx-fill-state-hover"))}),o.mousedown(function(){n._setView(i),n.focus()}),ke(n.toolbarViews).append(o)}),t.append(n.toolbarDetails),t.append(n.toolbarViews),n._views.length<2&&n.toolbarViews.hide(),n.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:n.rtl,localization:n._getDateTimeInputLocalization(),firstDayOfWeek:n.schedulerLocalization.firstDay,todayString:n.schedulerLocalization.todayString,clearString:n.schedulerLocalization.clearString,showFooter:!0,height:25,width:25,renderMode:"simple"}),n.addHandler(n.dateTimeInput,"change",function(e){n.fromNavigate||(n.navigateTo(new ke.jqx.date(e.args.date,n.timeZone)),n.focus())}),n.tabKeyElements=r,n._views[n._view].type),i=(e(n.toolBarRangeFormat),n.toolbarViews.width()+n.toolbarDetails.width()+120);n.toolBarRangeFormat;i>n.host.width()?(e(n.toolBarRangeFormatAbbr),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(n.toolbarDetails.hide(),n.toolbarViews.width()+120>n.host.width()&&n.toolbarViews.hide())):n.currentToolbarFormat=n.toolBarRangeFormat},_setView:function(e){var t,i,o,n=this;n.toolbarViews.find(".jqx-fill-state-pressed").removeClass(n.toTP("jqx-fill-state-pressed")),(n.rtl?ke(n.toolbarViews.children()[n._views.length-1-e]):ke(n.toolbarViews.children()[e])).addClass(n.toTP("jqx-fill-state-pressed")),n._view!==e&&(n.vScrollBar[0].style.visibility&&(n._scrollPosition||(n._scrollPosition=new Array),n._scrollPosition[n._view]=n.vScrollInstance.value),(o=n.hScrollBar[0].style.visibility)&&(n._hscrollPosition||(n._hscrollPosition=new Array),n._hscrollPosition[n._view]=n.hScrollInstance.value),t=n._views[n._view].type,i=n._views[e].type,n._view=e,n._refreshColumns(),n.refresh(),o!==n.hScrollBar[0].style.visibility&&(n._renderrows(),n._updateTouchScrolling()),n._scrollPosition[n._view]&&n.vScrollInstance.setPosition(n._scrollPosition[n._view]),n._hscrollPosition[n._view]&&n.hScrollInstance.setPosition(n._hscrollPosition[n._view]),n.selectedJQXAppointment&&n._ensureAppointmentVisible(n.selectedJQXAppointment),e=n.getViewStart(),o=ke.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd()),n._raiseEvent("viewChange",{date:n.date,from:e,to:o,oldViewType:t,newViewType:i}))},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new ke.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(7);break;case"monthView":case"timelineMonthView":i.day();var o=i.month(),n=i.year(),n=new ke.jqx.date(n,o,1);n.timeZone=this.timeZone,i=n.addMonths(1);break;case"agendaView":i=t.days?i.addDays(t.days):i.addDays(7)}return this.navigateTo(i)},navigateBackward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new ke.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(-1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(-1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(-7);break;case"monthView":case"timelineMonthView":i.day();var o=i.month(),n=i.year(),n=new ke.jqx.date(n,o,1);n.timeZone=this.timeZone,i=n.addMonths(-1);break;case"agendaView":i=t.days?i.addDays(-t.days):i.addDays(-7)}return this.navigateTo(i)},_refreshToolBar:function(e){function t(e){var t=ke.jqx.formatDate(s.toDate(),e,n.schedulerLocalization),i=ke.jqx.formatDate(r.toDate(),e,n.schedulerLocalization),o=n._views[n._view].type;!1===n._views[n._view].showWeekends&&(0!=(s=0!=s.dayOfWeek()&&6!=s.dayOfWeek()?s:s.addDays(1)).dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(1)),0!=(r=0!=r.dayOfWeek()&&6!=r.dayOfWeek()?r:r.addDays(-1)).dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),t=ke.jqx.formatDate(s.toDate(),e,n.schedulerLocalization),i=ke.jqx.formatDate(r.toDate(),e,n.schedulerLocalization)),"dayView"===o||"timelineDayView"===o?n.toolbarDetails.html(t):n.toolbarDetails.html(t+" - "+i),n.rtl?(n.toolbarDetails.addClass("jqx-rtl"),n.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):n.toolbarDetails[0].style.direction="ltr"}var n=this,s=n.getViewStart(),r=n.getViewEnd();e?t(n._lastFormatString||n.toolBarRangeFormat):(t(n.toolBarRangeFormat),n.toolbarDetails.show(),n.toolbarViews.show(),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(t(n.toolBarRangeFormatAbbr),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(n.toolbarDetails.hide(),n.toolbarViews.width()+120>n.host.width()&&n.toolbarViews.hide())))},navigateTo:function(e){var t,i,o=this;(e="date"==ke.type(e)?new ke.jqx.date(e):e)<this.min||e>this.max||(e.timeZone=o.timeZone,o.date=e,o._refreshToolBar(!0),o.fromNavigate=!0,o.dateTimeInput.val(e.toDate()),o.fromNavigate=!1,o._refreshColumnTitles(),o._renderrows(),o._updateFocusedCell(),o.resources&&o._renderhorizontalscroll(),t=o.getViewStart(),i=ke.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd()),o._raiseEvent("dateChange",{date:e,from:t,to:i}))},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var o=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<o.columnGroups.length;t++){var i=o.columnGroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columnGroups.length;t++)(d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(n=i(d.parentgroup))&&((d.parent=n).groups||(n.groups=new Array),-1===n.groups.indexOf(d)&&n.groups.push(d));for(var n,t=0;t<this.columns.records.length;t++)(d=this.columns.records[t]).columngroup&&(n=i(d.columngroup))&&(n.groups||(n.groups=new Array),-1===(d.parent=n).groups.indexOf(d)&&n.groups.push(d));for(var s=0,t=0;t<this.columns.records.length;t++){var r=d=this.columns.records[t];for(d.level=0;r.parent;)r=r.parent,d.level++;for(var r=d,a=d.level,s=Math.max(s,d.level);r.parent;)(r=r.parent)&&(r.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=l(e.groups[i]),n=0;n<o.length;n++)t.push(o[n]);return t},t=0;t<this.columnGroups.length;t++){for(var d=this.columnGroups[t],h=l(d),c=(d.columns=h,new Array),u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+s,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){return!(!t.editRecurrenceDialog||!t.editRecurrenceDialog.jqxWindow("isOpen"))||(!(!t._editDialog||!t._editDialog.jqxWindow("isOpen"))||(t.autoheight&&"hidden"==t.hScrollBar.css("visibility")?e.returnValue=!0:(i=0,(e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i?((t=t._handleDelta(i))&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!t&&(e.returnValue=t=!1)):(e.preventDefault&&e.preventDefault(),void(e.returnValue=!1)))));var i},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var e,t=this,i=(t._mousewheelfunc&&t.removeHandler(this.host,"mousewheel",t._mousewheelfunc),t.removeHandler(ke(document),"keydown.scheduler"+t.element.id),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"selectstart."+t.element.id),t.removeHandler(ke(window),"jqxReady."+t.element.id),t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),"mousedown"),o=(t.isTouchDevice()&&(i=ke.jqx.mobile.getTouchEventName("touchstart"),ke.jqx.browser.msie&&ke.jqx.browser.version<10&&(i="mousedown")),t.table&&t.removeHandler(t.table,"mouseleave"),"mousemove.scheduler"+t.element.id),n="mouseup.scheduler"+t.element.id;if(t.isTouchDevice()&&!0!==t.touchMode&&(o=ke.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+t.element.id,n=ke.jqx.mobile.getTouchEventName("touchend")+".scheduler"+t.element.id),t.removeHandler(ke(document),o),t.removeHandler(ke(document),n),!t.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e=null,(e=window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&t.removeHandler(ke(window.top.document),"mouseup.jqxscheduler"+t.element.id))}catch(e){}t.removeHandler(t.host,o),t.removeHandler(ke(document),"keydown.jqxscheduler"+t.element.id),t.removeHandler(t.host,"keydown"),t.table&&(t.removeHandler(t.table,"dblclick"),t.removeHandler(t.pinnedtable,i),t.removeHandler(t.table,i))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(e,t,i){if(e){var o=this,n=(o.selectedAppointment&&o.clearAppointmentsSelection(),e.id),s=ke('[data-key="'+n+'"]');if(0<s.length){o.selectedJQXAppointment=e,o.selectedAppointment=ke(t||s[0]);n=o._views[o._view].type;o._views[o._view];if("agendaView"==n)return void o.clearSelection();switch(s.addClass(o.toTP("jqx-scheduler-selected-appointment")),e.resizable&&s.find(".jqx-scheduler-appointment-resize-indicator").show(),n){case"dayView":ke(s).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),ke(s).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":1<s.length&&ke.each(s,function(e){o.rtl?(0<e&&ke(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),e<s.length-1&&ke(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(0<e&&ke(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e<s.length-1&&ke(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==i)return void o.clearSelection()}o.clearSelection()}},clearAppointmentsSelection:function(){var e,t=this;t.selectedAppointment&&(e=t.selectedAppointment.attr("data-key"),(e=ke('[data-key="'+e+'"]')).removeClass(t.toTP("jqx-scheduler-selected-appointment")),e.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null)},selectCell:function(e,t,i){for(var o=this,n=e.toDate(),s=0;s<o.rows.length;s++)for(var r=0;r<o.rows[s].cells.length;r++){var a=o.rows[s].cells[r];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),l=o._getDateByString(l);if(t&&a.getAttribute("data-end-date")){if(l.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(l.valueOf()==n.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){for(var n=this,s=(e<this.min&&(e=this.min),t>this.max&&(t=this.max),e.toDate()),r=t.toDate(),a=!1,l=0;l<n.rows.length;l++)for(var d=0;d<n.rows[l].cells.length;d++){var h=n.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),c=n._getDateByString(c);if(i&&h.getAttribute("data-end-date"))c.valueOf()>=s.valueOf()&&c.valueOf()<=r.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;c.valueOf()>=s.valueOf()&&c.valueOf()<=r.valueOf()&&(h.setAttribute("data-selected","true"),a||(n._lastSelectedCell=h,n.focusedCell=h,a=!0))}}n._updateCellsSelection()},_selectRange:function(i,o){var n=this;if("agendaView"!=n._views[n._view].type){var e=i,t=o.getAttribute("data-view");if(i.getAttribute("data-view")===t){var s=o.getAttribute("data-date"),r=e.getAttribute("data-date");if(null!=s&&null!=r){var a,l=o.getAttribute("data-end-date"),d=e.getAttribute("data-end-date"),h=null!=l||null!=d,c=null!=l&&null!=d,l=n._getDateByString(s),d=n._getDateByString(r),u=(l<this.min.toDate()&&(l=this.min.toDate()),d<this.min.toDate()&&(d=this.min.toDate()),l>this.max.toDate()&&(l=this.max.toDate()),d>this.max.toDate()&&(d=this.max.toDate()),Math.min(l,d)),p=Math.max(l,d),m=n.rows,f=0,g=0,w=(0<f&&n.rtl&&(f=0,g=1),m.length);h&&(w=1,null==i.getAttribute("data-end-date")&&(d.setHours(0,0,0,0),a=new ke.jqx.date(d,n.timeZone).toString(),ke(e).parent().index(),ke.each(m[0].cells,function(){var e,t;if(this.getAttribute("data-date")===a)return i=this,c=null!=o.getAttribute("data-end-date")&&null!=i.getAttribute("data-end-date"),e=o.getAttribute("data-date"),t=i.getAttribute("data-date"),e=n._getDateByString(e),t=n._getDateByString(t),u=Math.min(e,t),p=Math.max(e,t),!1})));for(var v=0;v<w;v++)for(var y,x,b=m[v],A=(h&&1<this.tableRows&&(A=m[y=(-1+parseInt(i.getAttribute("data-view")))*(m.length/n.tableRows)],b=m[y]),b.cells),T=f;T<A.length-g;T++)A[T].getAttribute("data-view")===t&&(A[T].removeAttribute("data-selected"),!c&&A[T].getAttribute("data-end-date")||(x=A[T].getAttribute("data-date"),x=n._getDateByString(x).valueOf(),u<=x&&x<=p&&A[T].setAttribute("data-selected","true")));n._updateCellsSelection()}}}},findCell:function(e,t){var i=this,o=null,n=(i._tableOffset||(n=i.schedulercontent.coord(),i._tableOffset=n),i._tableOffset),s=n.top,r=n.left;if(t<s)return null;if(e<r)return null;if(t>s+i._hostHeight)return null;if(e>r+i._hostWidth)return null;for(var a=!1,l=i.rows,d=i._views[i._view],h=d.type,c=i.vScrollInstance.value,u=i.hScrollInstance.value,p=0;p<l.length&&!a;p++){var m=l[p].cells,f=!1;(0==p&&"dayView"==h||"weekView"==h)&&(f=i.showAllDayRow,!d.timeRuler||"dayView"!==h&&"weekView"!==h||null!=d.timeRuler.showAllDayRow&&(f=d.timeRuler.showAllDayRow),f&&i._allDayRowFullHeight);for(var g=0;g<m.length;g++){var w,v,y,x,b=m[g];if(0!=g||!b.getAttribute("data-time-slot"))if(b._left?(w=b._left,v=b._top,y=b._width,x=b._height):(w=b.offsetLeft+r,v=b.offsetTop+s,y=b.offsetWidth,x=b.offsetHeight,b._left=w,b._top=v,b._width=y,b._height=x),b._left=w,b._top=v,b._width=y,b._height=x,0!==y&&0!==x){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(w-=i.hScrollInstance.max-u):w-=u,v-=c,0==p&&f&&(v+=c),!(v<=t&&t<v+x))break;if(w<=e&&e<w+y){o=b,a=!0;break}}}}return o},_removeFeedbackAndStopResize:function(){var e=this;if(e.feedback){if(e.feedback.remove(),e.feedback=null,e.pinnedfeedback.remove(),e.pinnedfeedback=null,e.feedbacks)for(var t=0;t<e.feedbacks.length;t++)e.feedbacks[t].remove();e._resizeDays=0,e._resizeStep=0,e._lastX=null,e.feedbacks=new Array,e.leftResize=!1,e.rightResize=!1,e.topResize=!1,e.bottomResize=!1,e.overlay.hide(),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e._dragStartCell=null,e.resizeTo=null,e.dragOrResize=!1,e.isMouseDown=!1,e.selectedJQXAppointment&&ke('[data-key="'+e.selectedJQXAppointment.id+'"]').removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(e,t,i,o){if(!1===e)if(t.isException()){for(var n=(t.rootAppointment||t).exceptions,s=0;s<n.length;s++)if(n[s].occurrenceFrom.equals(t.occurrenceFrom)){n[s]=t;break}}else t.rootAppointment.recurrenceException||(t.rootAppointment.recurrenceException=new Array),null!=t.rootAppointment?(t.rootAppointment.exceptions.push(t),t.rootAppointment.recurrenceException.push(t.occurrenceFrom)):(t.exceptions.push(t),t.recurrenceException.push(t.occurrenceFrom));else if(!0===e){if(t.isException())for(n=(t.rootAppointment||t).exceptions,s=0;s<n.length;s++)if(n[s].occurrenceFrom.equals(t.occurrenceFrom)){for(var r=0;r<t.rootAppointment.recurrenceException.length;r++)if(t.rootAppointment.recurrenceException[r].equals(n[s].occurrenceFrom)){t.from;var a=new ke.jqx.date(n[s].occurrenceFrom.year(),n[s].occurrenceFrom.month(),n[s].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());t.rootAppointment.recurrenceException[r]=a;break}(n[s]=t).from;a=new ke.jqx.date(n[s].occurrenceFrom.year(),n[s].occurrenceFrom.month(),n[s].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());n[s].occurrenceFrom=a;break}if(null!=t.rootAppointment){t.rootAppointment.recurrencePattern=t.rootAppointment.recurrencePattern.createNewPattern();var l=t.rootAppointment.from,e=t.rootAppointment.duration(),a=null;switch(t.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":a=new ke.jqx.date(l.year(),l.month(),l.day(),t.from.hour(),t.from.minute(),t.from.second())}o?(t.rootAppointment.from=l,t.rootAppointment.to=l.add(t.duration())):(t.rootAppointment.from=a,t.rootAppointment.to=a.add(e)),t.rootAppointment.allDay=t.allDay,t.rootAppointment.resourceId=t.resourceId,t.rootAppointment.color=t.color,t.rootAppointment.borderColor=t.borderColor,t.rootAppointment.background=t.background,t.rootAppointment.timezone=t.timezone,t.rootAppointment.subject=t.subject,t.rootAppointment.description=t.description,t.rootAppointment.location=t.location,t.rootAppointment.category=t.category,t.rootAppointment.status=t.status,this.resizing?t.rootAppointment.recurrencePattern.setFrom(l):t.rootAppointment.recurrencePattern.setFrom(a)}else t.recurrencePattern=t.recurrencePattern.createNewPattern(),t.recurrencePattern.setFrom(t.from);o=ke(i).attr("data-view"),e=this._resources[parseInt(o)-1];null!=e&&(null!=t.rootAppointment?t.rootAppointment.resourceId=e:t.resourceId=e)}},_handleMouseUp:function(e,g,w){var v=this,t=(clearInterval(v._verticalIntervalDragVelocity),clearInterval(v._horizontalIntervalDragVelocity),clearInterval(v._intervalDrag),clearInterval(v._horizontalIntervalDrag),e),i=!1;if(w?v.resizeTo?t.to.equals(v.resizeTo)&&(i=!0):v.resizeFrom&&t.from.equals(v.resizeFrom)&&(i=!0):v._dragStartCell==g&&(i=!0),i)return ke('[data-key="'+e.id+'"]').removeClass(v.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void v._removeFeedbackAndStopResize();function o(e,t){var i;if((t.allDay||x)&&(i=v.getMaxAllDayAppointments(v.appointmentsToRender)),w)v.resizeTo?(v.resizeTo>v.max&&(v.resizeTo=v.max),v.resizeTo<v.min&&(v.resizeTo=v.min),t.to=v.resizeTo):v.resizeFrom&&(v.resizeFrom>v.max&&(v.resizeFrom=v.max),v.resizeFrom<v.min&&(v.resizeFrom=v.min),t.from=v.resizeFrom),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else{var o=v._views[v._view].type,n=v._views[v._view],s=ke(g).attr("data-date"),r=null!=ke(g).attr("data-end-date"),s=new ke.jqx.date(s,v.timeZone);if((s=s<v.min?v.min:s)>v.max&&(s=v.max),!(v.rtl&&x&&r||v.rtl&&("monthView"==o||"timelineMonthView"==o))?!v.rtl||"timelineDayView"!=o&&"timelineWeekView"!=o?t.from=s:(c=v.getMinutesPerScale(),t.to=s.addMinutes(c)):t.to=ke.jqx.scheduler.utilities.getEndOfDay(s),"dayView"===o||"weekView"===o)if(x||r){if(!x&&r)t.to=ke.jqx.scheduler.utilities.getEndOfDay(s),t.allDay=!0;else if(x&&r&&!v.rtl)t.to=s.add(y),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(x&&r&&v.rtl)t.from=ke.jqx.scheduler.utilities.getStartOfDay(t.to.add(new ke.jqx.timeSpan(-y))),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(x&&!r){var a=30;switch(n.timeRuler&&n.timeRuler.scale){case"sixtyMinutes":case"hour":a=60;break;case"fifteenMinutes":case"quarterHour":a=15;break;case"tenMinutes":a=10;break;case"fiveMinutes":a=5}t.to=s.addMinutes(a),t.allDay=!1}}else t.to=s.add(y),t.allDay=!1;else"monthView"===o?v.rtl?t.from=ke.jqx.scheduler.utilities.getStartOfDay(t.to.add(new ke.jqx.timeSpan(-y))):t.to=s.add(y):"timelineDayView"!==o&&"timelineWeekView"!==o&&"timelineMonthView"!==o||(v.rtl?"timelineMonthView"==o?t.from=ke.jqx.scheduler.utilities.getStartOfDay(t.to.add(new ke.jqx.timeSpan(-y))):(c=v.getMinutesPerScale(),t.from=s.addMinutes(c).add(new ke.jqx.timeSpan(-y))):t.to=s.add(y))}v._saveChangesAfterDragOrResize(e,t,g,v.resizing);var l,d,h,c,o=ke(g).attr("data-view"),u=(null!=(r=v._resources[parseInt(o)-1])&&(t.resourceId=r),v.resizing=!1,v.resizeFrom=null,v._dragCell=null,v.resizeTo=null,{}),p={};for(l in v.appointmentDataFields){var m=v.appointmentDataFields[l],f=t[l];u[l]=f,"from"!=l&&"to"!=l||(f=f.toDate()),p[m]=f}u.jqxAppointment=t,u.originalData=p,t.boundAppointment=u,v._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),v.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},v.table.find(".jqx-icon-arrow-down").hide(),"monthView"==v._views[v._view].type&&v._views[v._view].monthRowAutoHeight?v._renderrows():"weekView"!=v._views[v._view].type&&"dayView"!=v._views[v._view].type||!t.allDay&&!x?(d=v.getViewStart(),h=ke.jqx.scheduler.utilities.getEndOfDay(v.getViewEnd()),v._prepareAppointmentsInView(d,h),v._renderAppointments(d,h)):1<v.tableRows?v._renderrows():(d=v.getViewStart(),h=ke.jqx.scheduler.utilities.getEndOfDay(v.getViewEnd()),v._prepareAppointmentsInView(d,h),v._renderAppointments(d,h),(n=v.getMaxAllDayAppointments(v.appointmentsToRender))!=i&&(c=n*(v._defaultRowHeight-2),c=v.isTouchDevice()?Math.max(22+v._defaultRowHeight,17+c):Math.max(3*v._defaultRowHeight,17+c),(1==v.tableRows?ke(ke(v.table[0].rows[0]).find("td")):ke(ke(v.table[0].rows[1]).find("td"))).css("height",c+"px"),ke(v.oldRow).find("td").css("height",c+"px"),ke(v.pinnedTableRow).find("td").css("height",c+"px"),v.pinnedtable.height(c),v._updateScrollbars(v._hostHeight||v.host.height()))),v._removeFeedbackAndStopResize()}var y=t.duration(),x=1<=t.duration().days()||t.allDay;t.isRecurrentAppointment()?o(!1,t):o(null,t)},_handleDayWeekViewResize:function(e,t,i,o,n){var s=this,r=(s._views[s._view].type,s._views[s._view]);if(1<=n.duration().days()||n.allDay||i.getAttribute("data-end-date")){function a(e){return!(e<s.cellWidth-10)}var r=r.appointmentsRenderMode&&"exactTime"==r.appointmentsRenderMode;if(n.allDay||!r)s.leftResize?(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),e>s._lastResizeX+ke(i).width()/2?a(C=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-o.left-s.cellWidth)&&(s.feedback.css("left",5+o.left+s.cellWidth),s.feedback.width(C-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+o.left+s.cellWidth),s.pinnedfeedback.width(C-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(i.getAttribute("data-date"),s.timeZone)).addDays(-1):s.resizeFrom=new ke.jqx.date(i.getAttribute("data-date"),s.timeZone).addDays(1)):e<s._lastResizeX-ke(i).width()/2&&a(C=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-o.left)&&(s.feedback.css("left",5+o.left),s.feedback.width(C-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+o.left),s.pinnedfeedback.width(C-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(i.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new ke.jqx.date(i.getAttribute("data-date"),s.timeZone))):s.rightResize&&(s._lastResizeX||(s._lastResizeX=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left),r=ke(i).width()/2,e>s._lastResizeX+r?(j=ke(i).width()+o.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,a(C=s.selectedAppointmentTableBounds.width+j)&&(s.feedback.hide(),s.feedback.width(C-6),s.feedback.css("left",5+o.left),s.pinnedfeedback.width(C-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+j+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new ke.jqx.date(i.getAttribute("data-date"),s.timeZone):s.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(i.getAttribute("data-date"),s.timeZone)))):e<s._lastResizeX-r&&(j=o.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,a(C=s.selectedAppointmentTableBounds.width+j)&&(s.feedback.hide(),s.feedback.css("left",5+o.left),s.feedback.width(C-6),s.pinnedfeedback.width(C-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+j+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new ke.jqx.date(i.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(i.getAttribute("data-date"),s.timeZone).addDays(-1)))));else{for(var l=new Array,d=new Array,h=-1,c=-1,u=this.host.coord().left,p=0,r=s.hScrollInstance.value,m=(s.rtl&&(r=s.hScrollInstance.max-s.hScrollInstance.value),e+(r="hidden"==s.hScrollBar[0].style.visibility?0:r)-u),u=0,f=0;f<this.columns.records.length;f++)!this.columns.records[f].timeColumn||s.rtl||(u+=this.columns.records[f].width,p++);for(var g=s.getViewStart(),w=s.getViewEnd(),f=0;f<this._getColumnsLengthPerView();f++){var v=this.columns.records[f+p].width;s.leftResize?(s.rtl||(l.push(u),d.push(g.addDays(f)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&u<s.selectedAppointmentTableBounds.left&&u+v>s.selectedAppointmentTableBounds.left&&(l.push(s.selectedAppointmentTableBounds.left),d.push(n.from),h=l.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&u<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&u+v>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(l.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),d.push(n.to),c=l.length-1)),s.rtl&&(l.push(u),d.push(w.addDays(-f-1)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&u<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&u+v>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(l.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),d.push(n.from),h=l.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&u<s.selectedAppointmentTableBounds.left&&u+v>s.selectedAppointmentTableBounds.left&&(l.push(s.selectedAppointmentTableBounds.left),d.push(n.to),c=l.length-1)),u+=v):s.rtl?((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&u<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&u+v>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(l.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),d.push(n.from),h=l.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&u<s.selectedAppointmentTableBounds.left&&u+v>s.selectedAppointmentTableBounds.left&&(l.push(s.selectedAppointmentTableBounds.left),d.push(n.to),c=l.length-1),u+=v,l.push(u),d.push(w.addDays(-f-1))):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&u<s.selectedAppointmentTableBounds.left&&u+v>s.selectedAppointmentTableBounds.left&&(l.push(s.selectedAppointmentTableBounds.left),d.push(n.from),h=l.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&u<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&u+v>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(l.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),d.push(n.to),c=l.length-1),u+=v,l.push(u),d.push(g.addDays(f)))}if(s.leftResize){for(f=0;f<l.length;f++){var y,o=l[f];A=(A=l[f+1])||o,(f<l.length-1?o<=m&&m<=A:o<=m)&&(v=-o+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width,T=s.pinnedfeedback.width(),y=s.pinnedfeedback.css("left"),_=s.resizeTo,S=s.resizeFrom,0<v&&(s.pinnedfeedback.css("left",o),s.pinnedfeedback.width(v),f==h?s.rtl?s.resizeTo=n.from:s.resizeFrom=n.from:f==c?s.rtl?s.resizeTo=n.to:s.resizeFrom=n.to:s.rtl?s.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(d[f]):s.resizeFrom=d[f]))}var x=s.resizeFrom,b=s.resizeTo;s.rtl?x=n.from:b=n.to,new ke.jqx.timeSpan(1e4*(b-x)).days()<1&&(s.pinnedfeedback.css("left",y),s.pinnedfeedback.width(T),s.resizeFrom=S,s.resizeTo=_)}else if(s.rightResize){for(f=0;f<l.length;f++){var A,o=l[f];if(A=(A=l[f+1])||o,f<l.length-1?e>=o-this.cellWidth/3&&e<=A-this.cellWidth/3:e>=o-this.cellWidth/3){var v=o-s.selectedAppointmentTableBounds.left-15,T=s.pinnedfeedback.width(),_=(s.pinnedfeedback.width(v),s.resizeTo),S=s.resizeFrom;if(f==h){s.rtl?s.resizeFrom=n.from:s.resizeTo=n.from;v=o-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(v);break}if(f==c){s.rtl?s.resizeFrom=n.to:s.resizeTo=n.to;v=o-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(v);break}s.rtl?s.resizeFrom=d[f]:s.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(d[f]);break}}x=s.resizeFrom,b=s.resizeTo;s.rtl?b=n.to:x=n.from,new ke.jqx.timeSpan(1e4*(b-x)).days()<1&&(s.pinnedfeedback.width(T),s.resizeFrom=S,s.resizeTo=_)}}}else{function D(e){return!(e<10)}var j,q,C=s.findCell(s.feedback.coord().left,t);s.topResize?(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),t>s._lastResizeY+ke(i).height()/2?D(q=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-o.top-ke(i).height()-3)&&(s.feedback.css("top",2+o.top+ke(i).height()),s.feedback.height(q),s._lastResizeY=s.feedback.coord().top,r=new ke.jqx.date(C.getAttribute("data-date"),s.timeZone),s.resizeFrom=r.addMinutes(s.getMinutesPerScale())):t<s._lastResizeY-ke(i).height()/2&&D(q=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-o.top-3)&&(s.feedback.css("top",2+o.top),s.feedback.height(q),s._lastResizeY=s.feedback.coord().top,s.resizeFrom=new ke.jqx.date(C.getAttribute("data-date"),s.timeZone))):s.bottomResize&&(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),t>s._lastResizeY+ke(i).height()/2?(j=-5+ke(i).height()+o.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top,D(q=s.selectedAppointmentTableBounds.height+j)&&(s.feedback.height(q),s._lastResizeY=s.selectedAppointmentTableBounds.height+j+s.feedback.coord().top,s.resizeTo=new ke.jqx.date(C.getAttribute("data-date"),s.timeZone).addMinutes(s.getMinutesPerScale()))):t<s._lastResizeY-ke(i).height()/2&&(j=-5+o.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top,D(q=s.selectedAppointmentTableBounds.height+j)&&(s.feedback.height(q),s._lastResizeY=s.selectedAppointmentTableBounds.height+j+s.feedback.coord().top,s.resizeTo=new ke.jqx.date(C.getAttribute("data-date"),s.timeZone))))}},_handleTimelineMonthViewResize:function(e,t,i,o,n){function s(e){return!(e<10)}var r,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.findCell(e,l.feedback.coord().top));if(n.allDay)l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+ke(i).width()/2?s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left-ke(i).width())&&(l.feedback.css("left",o.left+ke(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)):l.resizeFrom=new ke.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1)):e<l._lastResizeX-ke(i).width()/2&&s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left)&&(l.feedback.css("left",o.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(d.getAttribute("data-date"),l.timeZone)):l.resizeFrom=new ke.jqx.date(d.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+ke(i).width()/2?(r=ke(i).width()+o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new ke.jqx.date(d.getAttribute("data-date"),l.timeZone):l.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(d.getAttribute("data-date"),l.timeZone)))):e<l._lastResizeX-ke(i).width()/2&&(r=o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new ke.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1):l.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)))));else{for(var h=new Array,c=new Array,u=-1,p=-1,m=this.host.coord().left,f=0,g=0;g<this.columns.records.length;g++)this.columns.records[g].timeColumn&&(m+=this.columns.records[g].width,f++);for(var i=l.hScrollInstance.value,w=(l.rtl&&(i=l.hScrollInstance.max-l.hScrollInstance.value),e+(i="hidden"==l.hScrollBar[0].style.visibility?0:i)-m),m=0,v=l.getViewStart(),y=l.getViewEnd(),g=(this._getColumnsLengthPerView(),0);g<this._getColumnsLengthPerView();g++){var x=this.columns.records[g+f].width;l.leftResize?(h.push(m),l.rtl?c.push(y.addDays(-g)):c.push(v.addDays(g)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+x>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(n.from),u=h.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+x>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width+8),c.push(n.to),p=h.length-1),m+=x):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+x>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(n.from),u=h.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+x>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width),c.push(n.to),p=h.length-1),m+=x,h.push(m),l.rtl?c.push(y.addDays(-g-1)):c.push(v.addDays(g)))}if(l.leftResize){for(g=0;g<h.length;g++){var b,A=h[g];S=(S=h[g+1])||A,(g<h.length-1?A<=w&&w<=S:A<=w)&&(x=-A+l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width,D=l.feedback.width(),b=l.feedback.css("left"),j=l.resizeTo,q=l.resizeFrom,l.feedback.css("left",A),l.feedback.width(x),g==u?l.rtl?l.resizeTo=n.from:l.resizeFrom=n.from:g==p?l.rtl?l.resizeTo=n.to:l.resizeFrom=n.to:l.rtl?l.resizeTo=c[g]:l.resizeFrom=c[g])}var T=l.resizeFrom,_=l.resizeTo;l.rtl?T=n.from:_=n.to,new ke.jqx.timeSpan(1e4*(_-T));l.feedback.width()<20&&(l.feedback.css("left",b),l.feedback.width(D),l.resizeFrom=q,l.resizeTo=j)}else if(l.rightResize){for(g=0;g<h.length;g++){var S,A=h[g];if(S=(S=h[g+1])||A,g<h.length-1?w>=A-this.cellWidth/3&&w<=S-this.cellWidth/3:w>=A-this.cellWidth/3){var x=A-l.selectedAppointmentTableBounds.left-12,D=l.feedback.width(),j=(l.feedback.width(x),l.resizeTo),q=l.resizeFrom;if(g==u){l.rtl?l.resizeFrom=n.from:l.resizeTo=n.from;x=A-l.selectedAppointmentTableBounds.left;l.feedback.width(x);break}if(g==p){l.rtl?l.resizeFrom=n.to:l.resizeTo=n.to;x=A-l.selectedAppointmentTableBounds.left;l.feedback.width(x);break}l.rtl?l.resizeFrom=c[g]:l.resizeTo=ke.jqx.scheduler.utilities.getEndOfDay(c[g]);break}}T=l.resizeFrom,_=l.resizeTo,l.rtl?_=n.to:T=n.from,new ke.jqx.timeSpan(1e4*(_-T));l.feedback.width()<20&&(l.feedback.width(D),l.resizeFrom=q,l.resizeTo=j)}}},_handleMonthViewResize:function(e,t,i,o,n){var s=this;if(s.selectedJQXAppointment){s._views[s._view].type;var r=s._views[s._view],a=-5;1<s.tableColumns&&(a=parseInt(-5/s.tableColumns));for(var l=0;l<s.columns.records.length/s.tableColumns;l++)s.columns.records[l].timeColumn||(a+=s.columns.records[l].width);var d=s.selectedJQXAppointment.resourceId,h=s._resources.indexOf(d),c="0px",u=(-1!=(h=s.resources&&"none"==s.resources.orientation?-1:h)&&1==s.tableRows&&(c=a*h+"px"),!r.showWeekNumbers||s.rtl||(c=parseInt(c)+s.columns.records[0].width+"px"),i.offsetWidth),p=(i.offsetHeight,18);s.isTouchDevice()&&(p=2);for(l=0;l<6;l++)s.feedbacks[l][0].style.left=c,s.feedbacks[l][0].style.width=a+"px",s.feedbacks[l][0].style.display="block",s.feedbacks[l][0].style.top=parseInt(s.rows[l].top)+p+"px",1<s.tableRows&&(s.feedbacks[l][0].style.top=parseInt(s.rows[6*h+l].top)+p+"px"),ke(s.feedbacks[l][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=s.selectedJQXAppointment.elements,d=(m[0].cells[0].cell,m[m.length-1]),f=d.lastCellY,g=d.lastCellX,w=m[0].cellY,v=m[0].cellX,y=parseInt(o.top),x=parseInt(o.left);if(s.rtl){if(s.leftResize){for(k=!1,l=0;l<6;l++){A=s.feedbacks[l],T=parseInt(A[0].style.top)-p,parseInt(A[0].style.left);if(T<y)A[0].style.width=a+"px";else for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.width=m[_].width+"px",A[0].style.top=m[_].y+"px");D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?(A[0].style.left=1+o.left+"px",A[0].style.width=-1+D.x+D.width-o.left+"px",o.left>D.x+D.width&&(A[0].style.width=D.width+"px",A[0].style.left=D.x+"px"),"exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||e-(B=s.host.coord().left)>=D.x-10&&e-B<=D.cellX+s.cellWidth&&(A[0].style.width=D.width+"px",A[0].style.left=D.x+"px",k=!0)):y<w?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):w<y&&(A[0].style.left=c,A[0].style.width=D.x+D.width-parseInt(c)+"px")):T==y&&(A[0].style.width=a-o.left+parseInt(c)+"px",A[0].style.left=o.left+"px"),T<w&&(A[0].style.display="none"),y<T&&(A[0].style.display="none"),y<w)for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.display="block",A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px");if(y==w)for(_=0;_<m.length;_++){q=m[_].cellY;(y<w||y==w)&&q==T&&w!=f&&(A[0].style.left=1+o.left+parseInt(c)+"px",1+o.left+parseInt(c)>D.x+D.width&&(A[0].style.left=D.x+"px"),A[0].style.width=-1+D.x+D.width-o.left+"px")}}(C=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(i.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!k?s.resizeTo=C:s.resizeTo=s.selectedJQXAppointment.to}else if(s.rightResize){for(b=!1,l=0;l<6;l++){A=s.feedbacks[l],T=parseInt(A[0].style.top)-p,parseInt(A[0].style.left);T<y&&(A[0].style.width=a+"px");for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.top=m[_].y+"px");D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?v<=x?(A[0].style.width=x+u-j-5+"px","exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||e-(B=s.host.coord().left)>=D.lastCellX&&e-B<=D.x+D.width+15&&(A[0].style.width=D.width+"px",b=!0)):A[0].style.width=D.width+"px":w<y?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):y<w&&(A[0].style.left=j+"px",A[0].style.width=a-j+parseInt(c)+"px")):T==y&&(A[0].style.width=x+u-5-parseInt(c)+"px"),f<T&&(A[0].style.display="none"),T<y&&(A[0].style.display="none"),f<y)for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.display="block"),T==f&&(A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px");if(y<=f&&T==f)for(_=0;_<m.length;_++){q=m[_].cellY;T!=y&&q==T&&w!=f?(A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px"):T==y&&q==T&&w!=f&&(A[0].style.left=m[_].x+"px",A[0].style.width=x+u-5-parseInt(c)-m[_].x+"px")}}(C=new ke.jqx.date(i.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!b?s.resizeFrom=C:s.resizeFrom=s.selectedJQXAppointment.from}}else if(s.leftResize){for(var b=!1,l=0;l<6;l++){var A=s.feedbacks[l],T=parseInt(A[0].style.top)-p;parseInt(A[0].style.left);if(T<y){A[0].style.width=a+"px";for(var _=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.top=m[_].y+"px")}else for(var _=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.width=m[_].width+"px",A[0].style.top=m[_].y+"px");var S,D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?(A[0].style.left=1+o.left+"px",A[0].style.width=-1+D.x+D.width-o.left+"px","exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||(S=s.cellWidth-(D.x-v),e-(B=s.host.coord().left)>=D.x&&e-B<=D.x+S+2&&(A[0].style.left=j+"px",A[0].style.width=D.width+"px",b=!0))):w<y?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):y<w&&(A[0].style.left=c,A[0].style.width=D.x+D.width-parseInt(c)+"px")):T==y&&(A[0].style.width=a-o.left+parseInt(c)+"px",A[0].style.left=o.left+"px"),f<T&&(A[0].style.display="none"),T<y&&(A[0].style.display="none"),f<=y)for(var _=0;_<m.length;_++){var q=m[_].cellY;f<y||y==f&&g<x?q==T&&(A[0].style.display="block",A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px"):y==f&&x<=g&&w!=f&&(A[0].style.width=m[_].width-o.left+parseInt(c)+"px")}}(C=new ke.jqx.date(i.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!b?s.resizeFrom=C:s.resizeFrom=s.selectedJQXAppointment.from}else if(s.rightResize){for(var C,k=!1,l=0;l<6;l++){var A=s.feedbacks[l],T=parseInt(A[0].style.top)-p;parseInt(A[0].style.left);T<y&&(A[0].style.width=a+"px");for(var _=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.top=m[_].y+"px");var B,D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?v<=x?(A[0].style.width=x+u-j-5+"px","exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||g<=e-(B=s.host.coord().left)&&e-B<=D.x+D.width+15&&(A[0].style.width=D.width+"px",k=!0)):A[0].style.width=D.width+"px":y<w?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):w<y&&(A[0].style.left=j+"px",A[0].style.width=a-j+parseInt(c)+"px")):T==y&&(A[0].style.width=x+u-5-parseInt(c)+"px"),T<w&&(A[0].style.display="none"),y<T&&w<T&&(A[0].style.display="none"),y<=w)for(var _=0;_<m.length;_++){var q=m[_].cellY;(y<w||y==w&&x<v)&&q==T&&(A[0].style.display="block",A[0].style.width=m[_].width+"px")}}(C=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(i.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!k?s.resizeTo=C:s.resizeTo=s.selectedJQXAppointment.to}for(var R=new Array,l=0;l<6;l++)"block"==(A=s.feedbacks[l])[0].style.display&&R.push(A);ke.each(R,function(e){s.rtl?(0<e&&(ke(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),e<R.length-1&&(ke(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(0<e&&(ke(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),e<R.length-1&&(ke(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(e,t,i,o,n){function s(e){return!(e<10)}var r,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.getMinutesPerScale()),h=l.findCell(e,l.feedback.coord().top);l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+ke(i).width()/2?s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left-ke(i).width())&&(l.feedback.css("left",2+o.left+ke(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeFrom=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d)):e<l._lastResizeX-ke(i).width()/2&&s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left)&&(l.feedback.css("left",2+o.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeFrom=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+ke(i).width()/2?(r=ke(i).width()+o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeTo=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d))):e<l._lastResizeX-ke(i).width()/2&&(r=o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeTo=new ke.jqx.date(h.getAttribute("data-date"),l.timeZone))))},_handleResize:function(i,n,e,t,s){var r=this,a=r._views[r._view].type,l=r._views[r._view];"dayView"===a||"weekView"===a?r._handleDayWeekViewResize(i,n,e,t,s):"timelineMonthView"===a?r._handleTimelineMonthViewResize(i,n,e,t,s):"monthView"===a?r._handleMonthViewResize(i,n,e,t,s):"timelineDayView"!==a&&"timelineWeekView"!==a||r._handleTimelineDayWeekViewResize(i,n,e,t,s),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var e=r.host.width(),t=r.host.coord().left+25,e=e+t-45;r.rtl?e<i?r.hScrollInstance.setPosition(r.hScrollInstance.value-5):i<t&&r.hScrollInstance.setPosition(r.hScrollInstance.value+5):i<t?r.hScrollInstance.setPosition(r.hScrollInstance.value-5):e<i&&r.hScrollInstance.setPosition(r.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var e=r.host.height(),t=0,i=(r.columnGroups?t+=r.showHeader?r.columnsheader.height():0:t+=r.showHeader?r.columnsHeight:0,r.showToolbar&&(t+=r.toolbarHeight),e-=t,r.legendHeight),i=(0==r._resources.length&&(i=0),r.showLegend&&(e-=i),t+r.host.coord().top),t=r.showAllDayRow,o=(!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(t=l.timeRuler.showAllDayRow),1<=s.duration().days()||s.allDay),o=(t&&o?i-=20:t&&r.resizing&&(i+=ke(r.table[0].rows[0]).height(),e-=ke(r.table[0].rows[0]).height()),i+25),t=e+o-45;n<o?r.vScrollInstance.setPosition(r.vScrollInstance.value-5):t<n&&r.vScrollInstance.setPosition(r.vScrollInstance.value+5)},5)),r.resizing=!0},_startTimers:function(i,a,l){var d=this,h=d.host.coord(),o=0,c=0;"hidden"!=d.hScrollInstance.element.style.visibility&&(clearInterval(d._horizontalIntervalDragVelocity),d._horizontalIntervalDragVelocity=setInterval(function(){40<++o&&(o=40)},100),clearInterval(d._horizontalIntervalDrag),d._horizontalIntervalDrag=setInterval(function(){var e=d._hostWidth,t=h.left+30,e=e+t-60;d.rtl?i<t?d.hScrollInstance.setPosition(d.hScrollInstance.value+10+o):e<i?d.hScrollInstance.setPosition(d.hScrollInstance.value-10-o):o=0:i<t?d.hScrollInstance.setPosition(d.hScrollInstance.value-10-o):e<i?d.hScrollInstance.setPosition(d.hScrollInstance.value+10+o):o=0},10)),"hidden"!=d.vScrollInstance.element.style.visibility&&(clearInterval(d._verticalIntervalDragVelocity),d._verticalIntervalDragVelocity=setInterval(function(){40<++c&&(c=40)},100),clearInterval(d._intervalDrag),d._intervalDrag=setInterval(function(){var e,t=d._hostHeight,i=0,o=(d.columnGroups?i+=d.showHeader?d.columnsheader.height():0:i+=d.showHeader?d.columnsHeight:0,d._views[d._view].type),n=d._views[d._view],s=(d.showToolbar&&(i+=d.toolbarHeight),t-=i,d.showLegend&&0<d._resources.length&&(t-=d.legendHeight),h.top),r=i+s;"dayView"!=o&&"weekView"!=o||(e=d.showAllDayRow,!n.timeRuler||"dayView"!==o&&"weekView"!==o||null!=n.timeRuler.showAllDayRow&&(e=n.timeRuler.showAllDayRow),o=1<=l.duration().days()||l.allDay,e&&o?r-=20:e&&d.resizing&&(r+=ke(d.table[0].rows[0]).height()));n=s+t+i-30;a<r+30?d.vScrollInstance.setPosition(d.vScrollInstance.value-10-c):n<a?d.vScrollInstance.setPosition(d.vScrollInstance.value+10+c):c=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(0<t._resources.length&&0<=e.className.indexOf("pinned")||(0<=e.className.indexOf("time-column")||(0<=e.className.indexOf("jqx-scheduler-disabled-cell")||(!(!e||e!=t.hoveredCell)||(!(t.hoveredCell=e)||(t._removeHoveredCell(),(t.hoveredCell=e).className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t,i=this;i.hoveredCell&&(e=i.hoveredCell,t=(t=(t=(t=e.className).replace(" "+i.toTP("jqx-fill-state-hover"),"")).replace(" "+i.toTP("jqx-grid-cell-hover"),"")).replace(" "+i.toTP("jqx-scheduler-cell-hover"),""),e.className=t,e.jqxClassName=t),i.hoveredCell=null},_addHandlers:function(){var e,_=this,i=(this._mousewheelfunc=this._mousewheelfunc||function(e){return _.wheel(e,_),!1},this.focused=!1),t=(this.addHandler(ke(document),"keydown.scheduler"+_.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!_.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(e){if(!_.focusedCell||_.selectedAppointment||i||ke(_.focusedCell).addClass(_.toThemeProperty("jqx-scheduler-cell-focus")),_.focused=!0,i)if(0<_.appointmentsToRender.length){var t=_.appointmentsToRender[_.appointmentsToRender.length-1];_._selectAppointment(t),_._lastSelectedAppointment=t}else if(_.focusedCell){if(_.focusedCell&&-1==_.focusedCell.className.indexOf("-focus"))return _._updateCellsSelection(),!1}else _._updateFocusedCell()}),this.addHandler(this.host,"blur",function(e){if(_.focusedCell)return document.activeElement==_.element||(!!ke(document.activeElement).ischildof(_.host)||(ke(_.focusedCell).removeClass(_.toThemeProperty("jqx-scheduler-cell-focus")),void(_.focused=!1)))}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(e){return!!_.enableBrowserSelection||(!(!_.showToolBar||!ke(e.target).ischildof(_.toolbar))||(!!(_.rowDetails&&0<ke(e.target).parents("[data-role=details]").length)||null!=_.editKey&&void 0))}),this.addHandler(ke(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.isTouchDevice()),o=(this.vScrollInstance.valueChanged=function(e){_._timer&&clearTimeout(_._timer),t?_.table&&(_.table[0].style.top=0-_.vScrollInstance.value+"px"):_._timer=setTimeout(function(){_.table&&(_.table[0].style.top=0-_.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){_._htimer&&clearTimeout(_._htimer),t?_.table&&_._renderhorizontalscroll():_._htimer=setTimeout(function(){_.table&&_._renderhorizontalscroll()},1)},"mousedown"),n=(this.isTouchDevice()&&(o=ke.jqx.mobile.getTouchEventName("touchstart"),ke.jqx.browser.msie&&ke.jqx.browser.version<10&&(o="mousedown")),this.addHandler(this.table,"mouseleave",function(e){_._removeHoveredCell()}),_.isTouchDevice()&&(_.enableHover=!1),"mousemove.scheduler"+this.element.id),s="mouseup.scheduler"+this.element.id,r=(this.isTouchDevice()&&!0!==this.touchMode&&(n=ke.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,s=ke.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(ke(document),n,function(e){var t=e.pageX,i=e.pageY;if(_.isTouchDevice()&&(t=(w=ke.jqx.position(e)).left,i=w.top,(isNaN(t)||isNaN(i))&&(t=(w=ke.jqx.position(e.originalEvent)).left,i=w.top)),_.disabled||3===e.which)return!0;if(!_.isMouseDown)return!0;if(_.hScrollInstance.isScrolling()||_.vScrollInstance.isScrolling())return!0;if(_._hostWidth){var o=_.host.coord();if(o.left+_._hostWidth<t||t<o.left)return!0;if(o.top+_._hostHeight<i||i<o.top)return!0}if(_.mouseDownPosition&&(3<=Math.abs(_.mouseDownPosition.left-t)&&Math.abs(_.mouseDownPosition.left-t)<=10||3<=Math.abs(_.mouseDownPosition.top-i)&&Math.abs(_.mouseDownPosition.top-i)<=10)&&(_.dragOrResize=!0),_.selectedAppointment&&_.dragOrResize){var n=null;if(_._hasOpenedMenu)return!0;if(_.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var s,o=_._views[_._view].type,r=_._views[_._view],a=!1;if(!(s="td"===e.target.nodeName.toLowerCase()?e.target:_.findCell(t,i)))return!0;if(null!=s.getAttribute("data-time-slot"))return!0;if(0<=s.className.indexOf("jqx-grid-cell-pinned"))return!0;if(!_.feedback){if(!(n=_.getJQXAppointmentByElement(_.selectedAppointment)).draggable&&!n.resizable)return!(n=null);if(_.beginDrag)if(!_.beginDrag(n))return!0;function l(e){c&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),d.addClass(_.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(_.toTP("jqx-scheduler-feedback-appointment")),e.addClass(_.toTP("jqx-scheduler-feedback-drag-appointment")),c?e.css("z-index",401):e.css("z-index",400)}var d=ke('[data-key="'+n.id+'"]'),h=_.selectedAppointment.position(),c=(_.feedback=_.selectedAppointment.clone(!0),_.pinnedfeedback=_.selectedAppointment.clone(!0),!("row-resize"==_.selectedAppointment[0].style.cursor||"col-resize"==_.selectedAppointment[0].style.cursor||_.resizing));if(l(_.feedback),l(_.pinnedfeedback),"monthView"!=_._views[_._view].type||c){if(_.table.append(_.feedback),(1==_.tableRows?_.pinnedtable:_.table).append(_.pinnedfeedback),_.feedback.css("left",h.left),_.feedback.css("top",h.top),_.pinnedfeedback.css("left",h.left),_.pinnedfeedback.css("top",h.top),"monthView"==_._views[_._view].type&&_.isTouchDevice()){_.feedbacks=new Array;for(var u=0;u<6;u++)_.feedbacks.push(_.feedback.clone(!0)),ke(_.feedbacks[u]).hide(),_.table.append(ke(_.feedbacks[u]))}}else{_.feedbacks=new Array;for(u=0;u<6;u++)_.feedbacks.push(_.feedback.clone(!0)),ke(_.feedbacks[u]).hide(),_.table.append(ke(_.feedbacks[u]))}}if(_.dragging)if(!1===_.dragging(n,s,_.feedback))return!0;var p,m,f,g,w=ke(s).position(),h=(_.endDrag&&(p=_.feedback.css("left"),m=_.feedback.css("top"),f=_.feedback.width(),g=_.feedback.height),(n=n||_.selectedJQXAppointment)||(_.selectAppointment(_.uiappointments[0].id),n=_.selectedJQXAppointment),n.resourceId),h=_._resources.indexOf(h),v=(_.resources&&"none"==_.resources.orientation&&(h=-1),!1),y=_.isTouchDevice();if(y&&!0!==_.touchMode&&null==_._dragCell&&!(_.leftResize||_.rightResize||_.topResize||_.bottomResize||_.resizing))switch(o){case"dayView":case"weekView":(a=1<=n.duration().days()||n.allDay)?(t>=_.selectedAppointmentBounds.left-15&&t<=_.selectedAppointmentBounds.left+15&&(_.leftResize=v=!0),t>=_.selectedAppointmentBounds.left+_.selectedAppointmentBounds.width-15&&t<=_.selectedAppointmentBounds.left+_.selectedAppointmentBounds.width+15&&(_.rightResize=v=!0)):(i>=_.selectedAppointmentBounds.top-15&&i<=_.selectedAppointmentBounds.top+15&&(_.topResize=v=!0),i>=_.selectedAppointmentBounds.top-15+_.selectedAppointmentBounds.height&&i<=_.selectedAppointmentBounds.top+_.selectedAppointmentBounds.height+15&&(_.bottomResize=v=!0));break;default:t>=_.selectedAppointmentBounds.left-15&&t<=_.selectedAppointmentBounds.left+15&&(_.leftResize=v=!0),t>=_.selectedAppointmentBounds.left+_.selectedAppointmentBounds.width-15&&t<=_.selectedAppointmentBounds.left+_.selectedAppointmentBounds.width+15&&(_.rightResize=v=!0)}if(y&&(_.leftResize||_.rightResize||_.topResize||_.bottomResize||_.resizing)||v){if(s.getAttribute("data-view")!=h+1&&0<_._resources.length&&"none"!=_.resources.orientation)return!0;if((T=_._getDateByString(s.getAttribute("data-date")))<_.min.toDate()||T>_.max.toDate())return;_._handleResize(t,i,s,w,n),_._oldResizeTD=s}else if(!y&&"row-resize"==_.selectedAppointment[0].style.cursor||"col-resize"==_.selectedAppointment[0].style.cursor||_.resizing){if(s.getAttribute("data-view")!=h+1&&0<_._resources.length&&_.resources&&"none"!=_.resources.orientation)return!0;if((T=_._getDateByString(s.getAttribute("data-date")))<_.min.toDate()||T>_.max.toDate())return;_._handleResize(t,i,s,w,n),_._oldResizeTD=s}else{if(!n.draggable)return _._removeFeedbackAndStopResize(),!0;if(_._dragCell==s)return _._startTimers(t,i,n),_.isTouchDevice()&&!0!==_.touchMode?(e.stopPropagation(),!1):void 0;if((T=_._getDateByString(s.getAttribute("data-date")))<_.min.toDate()||T>_.max.toDate())return;y=n.duration();if(0<=o.indexOf("month")&&new ke.jqx.date(T).add(y)>_.max)return;var x,b,h="hidden"==_.vScrollBar[0].style.visibility?0:6+_.vScrollBar.outerWidth();if(_._dragCell=s,_.feedback[0].style.left=2+w.left+"px",_.feedback[0].style.top=2+w.top+"px","dayView"===o||"weekView"===o){_.pinnedfeedback.css("left",2+w.left),_.pinnedfeedback.css("top",2+w.top);var A=0;if(s.getAttribute("data-end-date")){var T=_.appointmentsMinHeight;_.isTouchDevice()&&(T=_.touchAppointmentsMinHeight),r.appointmentHeight&&(T=r.appointmentHeight),a=1<=n.duration().days()||n.allDay,_.feedback.css("top",2+w.top+T),_.pinnedfeedback.css("top",2+w.top+18),"dayView"==o&&(y=_.selectedAppointment.coord().left-9,_.feedback.css("left",y),_.pinnedfeedback.css("left",y)),a?(_.pinnedfeedback.css("top",n.elements[0].y),A=_.selectedAppointment.width(),2+w.left+A>_.host.width()-h&&(A-=2+w.left+A-_.host.width()+h+6)):A=ke(s).width()-4,_.feedback.width(A),_.feedback.height(T),_.pinnedfeedback.width(A),_.pinnedfeedback.height(T),_.feedback.hide(),_.pinnedfeedback.show()}else{_.feedback.show(),_.pinnedfeedback.hide();switch(r.timeRuler&&r.timeRuler.scale){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}A=ke(s).width()-4,_.feedback.width(A),(a=1<=n.duration().days()||n.allDay)?_.feedback.height(ke(s).height()-6):_.feedback.height(_.selectedAppointment.height())}_._startTimers(t,i,n)}else"monthView"===o?(_.feedback.css("left",1+w.left),x=_.selectedAppointmentTableBounds,(b=parseInt(x.top))>w.top&&b<w.top+s.offsetHeight?_.feedback.css("top",b+"px"):_.feedback.css("top",_.selectedAppointment.height()+w.top-2),_.isTouchDevice()&&_.feedback.css("top",w.top+2),A=_.selectedAppointment.width(),_.feedback.width(A),_.feedback.height(_.selectedAppointment.height()),_._startTimers(t,i,n)):"timelineDayView"!==o&&"timelineMonthView"!==o&&"timelineWeekView"!==o||(x=_.selectedAppointmentTableBounds,(b=parseInt(x.top))>w.top&&b<w.top+s.offsetHeight&&_.feedback.css("top",b+"px"),_._startTimers(t,i,n))}return _.endDrag?(_.endDrag(n,s,_.feedback)||_.feedback.width(f),_.feedback.height(g),_.feedback.css("top",m),_.feedback.css("left",p),!0):_.isTouchDevice()&&!0!==_.touchMode?(e.stopPropagation(),!1):void 0}}),function(e){if(_.isMouseDown=!1,_.dragOrResize=!1,_.contextMenu&&_.menu&&3!==e.which&&(_.menu.jqxMenu("close"),_._hasOpenedMenu=!1),3===e.which)return!0;_.selectedAppointment&&_.feedback&&(_.editRecurrenceDialog.jqxWindow("isOpen")||_._handleMouseUp(_.selectedJQXAppointment,_._dragCell,_.resizing))});if(this.addHandler(ke(document),s,function(e){return r(e)}),!this.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(e=null,(e=window.parent&&document.referrer?document.referrer:e)&&-1!=e.indexOf(document.location.host)&&_.addHandler(ke(window.top.document),"mouseup.jqxscheduler"+_.element.id,function(e){if(!_.disabled)return r(e)}))}catch(e){}this.addHandler(this.host,n,function(e){var t=e.pageX,i=e.pageY;if(_.disabled||3===e.which)return!0;if(_.selectedAppointment&&_.isMouseDown)return!0;if(_.hScrollInstance.isScrolling()||_.vScrollInstance.isScrolling())return!0;if(_._hasOpenedMenu)return!0;if("none"!==_.overlay[0].style.display)return!0;for(var o,n=null,s=(0<=e.target.className.indexOf("jqx-scheduler-appointment")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=e.target),e.target),r=0;r<4&&s.parentNode;r++)0<=s.className.indexOf("jqx-scheduler-appointment")&&-1==s.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(n=s),s=s.parentNode;if(n){var a=_._views[_._view].type,l=(_._views[_._view],_.getJQXAppointmentByElement(n));if(l.resizable){var d=l.duration(),d=l.allDay||1<=d.days()||23==d.hours()&&59==d.minutes&&59==d.seconds,h=ke(n).coord(),c=ke(n).position(),u=(_.selectedAppointmentBounds={top:h.top,left:h.left,width:ke(n).width(),height:ke(n).height()},_.selectedAppointmentTableBounds={top:c.top,left:c.left,width:ke(n).width(),height:ke(n).height()},_.selectedAppointmentBounds);if("weekView"==a||"dayView"==a)d?"dayView"!=a?t>=u.left-3&&t<=u.left+6?(n.style.cursor="col-resize",_.leftResize=!0,_.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(n.style.cursor="col-resize",_.leftResize=!1,_.rightResize=!0):n.style.cursor="pointer":n.style.cursor="pointer":i>=u.top-3&&i<=u.top+6?(n.style.cursor="row-resize",_.topResize=!0,_.bottomResize=!1):i>=u.top+u.height-6&&i<=u.top+u.height+3?(n.style.cursor="row-resize",_.topResize=!1,_.bottomResize=!0):n.style.cursor="pointer";else if("monthView"==a&&1<l.elements.length)for(var p=_.table.coord(),r=0;r<l.elements.length;r++){var m=l.elements[r],u={top:p.top+m.y,left:p.left+m.x,width:m.width,height:m.height};if(0==r&&!_.rtl||r==l.elements.length-1&&_.rtl)if(t>=u.left-3&&t<=u.left+6){if(i>=u.top&&i<=u.top+u.height){n.style.cursor="col-resize",_.leftResize=!0,_.rightResize=!1,_.selectedAppointment=ke(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer";else if(r==l.elements.length-1&&!_.rtl||0==r&&_.rtl)if(t>=u.left+u.width-6&&t<=u.left+u.width+3){if(i>=u.top&&i<=u.top+u.height){n.style.cursor="col-resize",_.leftResize=!1,_.rightResize=!0,_.selectedAppointment=ke(n);break}n.style.cursor="pointer"}else n.style.cursor="pointer"}else t>=u.left-3&&t<=u.left+6?(n.style.cursor="col-resize",_.leftResize=!0,_.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(n.style.cursor="col-resize",_.leftResize=!1,_.rightResize=!0):n.style.cursor="pointer"}}if(!_.enableHover)return!0;if(!(o="td"===e.target.nodeName.toLowerCase()?e.target:_.findCell(t,i)))return!0;if(_._removeHoveredCell(),_.renderedRecords&&0===_.renderedRecords.length)return!0;if(_.isMouseDown){if(3<Math.abs(_.mousecaptureposition.left-t)||3<Math.abs(_.mousecaptureposition.top-i)){if(0===_.mousecaptureposition.clickedcell.length)return void(_.selectionarea[0].style.visibility="hidden");_.lastHoveredCell!=o&&(_._selectRangeTimer&&clearTimeout(_._selectRangeTimer),_._selectRangeTimer=setTimeout(function(){"agendaView"!=_._views[_._view].type&&_._selectRange(o,_.mousecaptureposition.clickedcell[0])},1)),_.lastHoveredCell=o}}else if(!n){if(1==_.rows.length&&1==_.rows[0].cells.length)return!0;_._hoverCell(o)}return!0}),this.addHandler(ke(document),"keydown.jqxscheduler"+_.element.id,function(e){if(_.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return _._handleKey(e)}),ke.jqx.browser.msie&&ke.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){_.table.trigger("mousedown",e)});function a(t){t.target;var e=null;if(_.disabled)return!0;_.menu||3!=t.which||_._initMenu(),_.table.coord();var i=t.pageX,o=t.pageY,e=(ke.jqx.browser.msie&&ke.jqx.browser.version<9&&arguments&&2==arguments.length&&(i=arguments[1].pageX,o=arguments[1].pageY),_.isTouchDevice()&&(i=(d=ke.jqx.position(t)).left,o=d.top,(isNaN(i)||isNaN(o))&&(i=(d=ke.jqx.position(t.originalEvent)).left,o=d.top)),_.mouseDown={top:o,left:i},_.findCell(i,o)),n=(e="td"===t.target.nodeName.toLowerCase()?t.target:_.findCell(i,o),_._views[_._view].type),s=_._views[_._view];if("monthView"===n&&s.weekViewNavigation&&e&&e.getAttribute("data-time-slot")&&(p=_._getDateByString(e.getAttribute("data-date")),l=new ke.jqx.date(p),_.date=l,_.setView("weekView")),"monthView"===n&&s.dayViewNavigation&&(s=ke(e).coord().top,e&&s<=o&&o<=s+16&&(p=_._getDateByString(e.getAttribute("data-date")),l=new ke.jqx.date(p),_.date=l,_.setView("dayView"))),"span"===t.target.nodeName.toLowerCase()&&(0<=t.target.className.indexOf("jqx-icon-arrow-down")||0<=t.target.className.indexOf("jqx-icon-close")))return t.target.mousedown&&t.target.mousedown(),!0;function r(e){if(3===t.which&&_.contextMenu&&_.menu){e?_.menu.find("li:first").show():_.menu.find("li:first").hide();e=_.menu.coord();if("block"==_.menu.css("display")&&e.left==t.pageX&&e.top==t.pageY)return _._hasOpenedMenu=!0,t.preventDefault(),t.stopPropagation();_.menuOpening=!0,_.menu.jqxMenu("open",t.pageX,t.pageY),_.menuOpening=!1,_._hasOpenedMenu=!0,t.preventDefault(),t.stopPropagation(),setTimeout(function(){_.menu.jqxMenu("focus")},50)}}function a(){for(var e=0;e<f.length;e++)for(var t=f[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")}var l=(s=ke(e).parent()).attr("data-key");if(_.mousecaptureposition={left:t.pageX,top:t.pageY,clickedrow:ke(s).index(),clickedcell:ke(e)},3!==t.which?(_.isMouseDown=!0,_.isMouseDownDate=new Date):_.isMouseDown=!1,_.contextMenu&&_.menu&&3!==t.which&&(_.menu.jqxMenu("close"),_._hasOpenedMenu=!1),(s=0==(s=0<=t.target.className.indexOf("jqx-scheduler-appointment")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-content")?ke(t.target):ke(t.target).parents(".jqx-scheduler-appointment")).length?null:s)&&-1==s[0].className.indexOf("feedback")){if(0<s.parents(".jqx-scheduler-month-cell-popup").length)return!0;_.mouseDownPosition={top:o,left:i};var o=ke(s).coord(),d=(_.selectedAppointmentBounds={top:o.top,left:o.left,width:ke(s).width(),height:ke(s).height()},ke(s).position()),h=(_.selectedAppointmentTableBounds={top:d.top,left:d.left,width:ke(s).width(),height:ke(s).height()},_._dragStartCell||(_._dragStartCell=_.findCell(o.left,o.top)),_.getJQXAppointmentByElement(s)),c=(_._selectAppointment(h,s,"mouse"),_._raiseEvent("appointmentClick",{appointment:h.boundAppointment}),_.clearSelection(),(new Date).getTime()),u=300;return ke.jqx.browser.msie&&ke.jqx.browser.version<9&&(u=1e3),_.clickTime||(_.clickTime=new Date),c-_.clickTime.getTime()<u&&_._lastSelectedAppointment&&h.id==_._lastSelectedAppointment.id&&3!=t.which?(h.readOnly||_.editRecurrenceDialog.jqxWindow("isOpen")||_._editDialog&&(!_._editDialog||_._editDialog.jqxWindow("isOpen"))||!1!==_._initDialog(h)&&_._openDialog(),_.mouseDownPosition=null,_.isMouseDown=!1,t.preventDefault&&t.preventDefault(),_._raiseEvent("appointmentDoubleClick",{appointment:h.boundAppointment})):h.readOnly||3!==t.which&&_.focus(),_._lastSelectedAppointment=h,t.preventDefault&&t.preventDefault(),t.stopPropagation(),_.clickTime=new Date,void(h.readOnly||3==t.which&&r(!0))}if(3===t.which?null!==_.getSelection()?r(!1):(_.clearAppointmentsSelection(),e.setAttribute("data-selected","true"),_._lastSelectedCell=e,_.focusedCell=e,_._updateCellsSelection(e),r(!1),m=new ke.jqx.date(e.getAttribute("data-date"),_.timeZone),_._raiseEvent("cellClick",{cell:e,date:m})):3!=t.which&&_.clearAppointmentsSelection(),"agendaView"==_.view&&(i=!1,!(s=-1!=t.target.className.indexOf("jqx-scheduler-agenda-appointment"))&&t.target&&t.target.parentNode&&(s=-1!=t.target.parentNode.className.indexOf("jqx-scheduler-agenda-appointment"),i=!0),s&&(s=t.target,i&&(s=t.target.parentNode),h=_.getJQXAppointmentByElement(s),_._selectAppointment(h,s,"mouse"),_._raiseEvent("appointmentClick",{appointment:h.boundAppointment}),c=(new Date).getTime(),u=300,ke.jqx.browser.msie&&ke.jqx.browser.version<9&&(u=1e3),_.clickTime||(_.clickTime=new Date),c-_.clickTime.getTime()<u&&_._lastSelectedAppointment&&h.id==_._lastSelectedAppointment.id&&3!=t.which&&(h.readOnly||_.editRecurrenceDialog.jqxWindow("isOpen")||_._editDialog&&(!_._editDialog||_._editDialog.jqxWindow("isOpen"))||!1!==_._initDialog(h)&&_._openDialog(),_.mouseDownPosition=null,_.isMouseDown=!1,t.preventDefault&&t.preventDefault(),_._raiseEvent("appointmentDoubleClick",{appointment:h.boundAppointment})),_._lastSelectedAppointment=h,t.preventDefault&&t.preventDefault(),t.stopPropagation(),_.clickTime=new Date,h.readOnly||3==t.which&&r(!0))),void 0!==l&&3!=t.which){_.clickedTD=e;var p,m=new ke.jqx.date(e.getAttribute("data-date"),_.timeZone),f=(_.rowinfo[l]&&(c=(new Date).getTime(),u=300,_.clickTime||(_.clickTime=new Date),_.focus(),_._lastSelectedCell&&"true"==_._lastSelectedCell.getAttribute("data-selected")&&"true"===e.getAttribute("data-selected")&&c-_.clickTime.getTime()<u&&(m=new ke.jqx.date(e.getAttribute("data-date"),_.timeZone),_._raiseEvent("cellDoubleClick",{cell:e,date:m}),_._initDialog(),_._openDialog(),t.preventDefault&&t.preventDefault())),_.rows);if("true"!=e.getAttribute("data-selected")||t.shiftKey||c-_.clickTime.getTime()>u){if("true"==e.getAttribute("data-time-slot"))return;t.shiftKey||(_.shiftSelectedCell=null),t.shiftKey&&_._lastSelectedCell&&"agendaView"!=n&&(_.shiftSelectedCell||(_.shiftSelectedCell=_._lastSelectedCell),e.getAttribute("data-view")===_.shiftSelectedCell.getAttribute("data-view")&&a(),_._selectRange(e,_.shiftSelectedCell)),t.shiftKey||(a(),(p=_._getDateByString(e.getAttribute("data-date")))>=_.min.toDate()&&p<=_.max.toDate()?e.setAttribute("data-selected","true"):e.setAttribute("data-selected","false")),ke('[data-key="'+l+'"]').removeClass(_.toTP("jqx-scheduler-selected-appointment")),_.selectedAppointment=null,(p=_._getDateByString(e.getAttribute("data-date")))>=_.min.toDate()&&p<=_.max.toDate()&&(_._lastSelectedCell=e,_.focusedCell=e),_._updateCellsSelection(e),_.openedMonthCellPopup&&_.openedMonthCellPopup.remove()}_._raiseEvent("cellClick",{cell:e,date:m}),_.clickTime=new Date,t.stopPropagation&&t.stopPropagation()}}this.addHandler(this.pinnedtable,o,function(e){e=a(e);if(null!=e)return e}),this.addHandler(this.table,o,function(e){e=a(e);if(null!=e)return e})},moveAppointment:function(s,r,a,l,d){var h,c,e,u=this,p=l.getAttribute("data-end-date");s&&!u.editRecurrenceDialog.jqxWindow("isOpen")&&(clearInterval(u._verticalIntervalDragVelocity),clearInterval(u._horizontalIntervalDragVelocity),clearInterval(u._intervalDrag),clearInterval(u._horizontalIntervalDrag),h=s.duration(),c=1<=s.duration().days()||s.allDay,e=function(e){if(!d){var t=u._views[u._view].type,i=u._views[u._view],o=r;if(s.from=o,"dayView"===t||"weekView"===t)if(c||p){if(!c&&p)s.to=ke.jqx.scheduler.utilities.getEndOfDay(o),s.allDay=!0;else if(c&&p)s.to=o.add(h);else if(c&&!p){var n=30;switch(i.timeRuler&&i.timeRuler.scale){case"sixtyMinutes":case"hour":n=60;break;case"fifteenMinutes":case"quarterHour":n=15;break;case"tenMinutes":n=10;break;case"fiveMinutes":n=5}s.to=o.addMinutes(n),s.allDay=!1}}else s.to=o.add(h),s.allDay=!1;else"monthView"!==t&&"timelineDayView"!==t&&"timelineWeekView"!==t&&"timelineMonthView"!==t||(s.to=o.add(h))}u._saveChangesAfterDragOrResize(e,s,l,d),null!=a&&(s.resourceId=a),u.table.find(".jqx-icon-arrow-down").hide(),s.allDay||c?u._renderrows():(i=u.getViewStart(),t=ke.jqx.scheduler.utilities.getEndOfDay(u.getViewEnd()),u._prepareAppointmentsInView(i,t),u._renderAppointments(i,t)),u._raiseEvent("appointmentChange",{appointment:s.boundAppointment}),u.changedAppointments[s.id]={type:"Update",appointment:s.boundAppointment},u._ensureAppointmentVisible(u.selectedJQXAppointment)},s.isRecurrentAppointment()?e(!1):e(null))},getAppointmentProperty:function(e,t){var i=null;if(i=this.appointmentsByKey[e]?this.appointmentsByKey[e].jqxAppointment:i)return i[t]},setAppointmentProperty:function(e,t,i){var o=this,n=null;if(n=this.appointmentsByKey[e]?this.appointmentsByKey[e].jqxAppointment:n)switch(n[t]=i,o.changedAppointments[e]={type:t,appointment:n.boundAppointment},e){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var s=o.getViewStart(),r=ke.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(s,r),o._renderAppointments(s,r);break;case"hidden":case"timeZone":n.isAllDayAppointment()?o._renderrows():(s=o.getViewStart(),r=ke.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd()),o._prepareAppointmentsInView(s,r),o._renderAppointments(s,r));break;default:o._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=(e.rootAppointment||e).exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment})}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom)),t._raiseEvent("appointmentDelete",{appointment:t.editAppointment.boundAppointment});return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});for(var n=e.id,s=(delete t.appointmentsByKey[n],-1),o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){s=o;break}-1!=s&&t.appointments.splice(s,1);for(s=-1,o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){s=o;break}-1!=s&&t.uiappointments.splice(s,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[s+1]?t.selectAppointment(t.uiappointments[s+1].id):t.uiappointments[s-1]?t.selectAppointment(t.uiappointments[s-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[n]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(e){var t=this;if(e.scheduler||(e.scheduler=this),!e.duration)if((e.from||e.to)&&e.appointmentObject){var i=new ke.jqx.scheduler.appointment;for(w in e)i[w]=e[w];e=i}else{var o,n=e,s={},r=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(w in t.appointmentDataFields){var a,l=n[x=t.appointmentDataFields[w]];if("from"!=w&&"to"!=w||(l=new ke.jqx.date(l)),"style"==w&&l&&(a=t.getAppointmentColors(l),s.color=a.color,s.background=a.background,s.borderColor=a.border),"recurrencePattern"==w&&l&&((l=new ke.jqx.scheduler.recurrencePattern(l)).timeZone=n.timeZone||t.timeZone),"recurrenceException"==w){var d=new Array;if(l){0<=l.indexOf("EXDATE:")&&(l=l.substring(l.indexOf("EXDATE:")+7));var h=new Array;0<=l.indexOf(",")?h=l.split(","):h.push(l);for(var c=0;c<h.length;c++){var u,p=h[c];0<=p.indexOf(";")&&(u=p.split(";")[1],p=p.split(";")[0],0<=u.toLowerCase().indexOf("display")&&u.toLowerCase().indexOf("none")&&(s.hidden=!0));try{"Invalid Date"!=(m=ke.jqx.scheduler.utilities.untilStringToDate(p))&&(m=s.timeZone?new ke.jqx.date(m,s.timeZone):t.timeZone?m.toTimeZone(t.timeZone):new ke.jqx.date(m))}catch(e){var m=new ke.jqx.date(p,t.timeZone)}d.push(m)}}l=d}s[w]=l}for(o in r)null==s[w=r[o]]&&(l="","originalData"!=w&&("ownerId"==w&&(l=null),"timeZone"==w&&(l=null),"recurrencePattern"==w&&(l=null),"recurrenceException"==w&&(l=null),"allDay"==w&&(l=!1),"draggable"==w&&(l=!0),"resizable"==w&&(l=!0),"hidden"==w&&(l=!1),"resourceId"==w&&(l=null),"from"==w&&(l=new ke.jqx.date),"to"==w&&(l=(new ke.jqx.date).addHours(1)),s[w]=l));s.originalData=n,s.scheduler=this;e=new ke.jqx.scheduler.appointment(s);s.timeZone&&(e.from=e.from.toTimeZone(s.timeZone),e.to=e.to.toTimeZone(s.timeZone)),t.timeZone?(s.timeZone||(e.timeZone=t.timeZone),e.from=e.from.toTimeZone(t.timeZone),e.to=e.to.toTimeZone(t.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null))}var f,g,w=t.dataview.generatekey(),v=(e.id=w,t.appointmentsByKey[w]=e,t.appointments.push(e),{}),y={};for(f in t.appointmentDataFields){var x=t.appointmentDataFields[f],l=e[f];v[f]=l,"from"!=f&&"to"!=f||(l=(l.toDate?l:new ke.jqx.date(l)).toDate()),y[x]=l}v.originalData=y,((e.boundAppointment=v).jqxAppointment=e).jqxAppointment=e,t._raiseEvent("appointmentAdd",{appointment:e.boundAppointment}),t.uiappointments.push(e),t.changedAppointments[w]={type:"Add",appointment:e.boundAppointment},t.hiddenResources&&t.hiddenResources[e.resourceId]?t.hideAppointmentsByResource(e.resourceId):t._renderrows(),t._selectAppointment(e),t._lastSelectedAppointment=e,t.resources&&(g=e.resourceId,-1===t._resources.indexOf(g)&&(t._resources.push(g),t._renderrows()))},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;0<i&&e.rtl&&(i=0,o=1);for(var n=0;n<t.length;n++)for(var s=t[n].cells,r=i;r<s.length-o;r++){var a,l=s[r];"true"==l.getAttribute("data-selected")?(0<=(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")?l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))):(a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a):-1==(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")?(l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a):(l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a),a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a,l.removeAttribute("data-selected"))}},_getuikey:function(e,t){var i=null,o=this.table[0].rows,i=ke(o[e]).attr("data-key");if(ke(o[e]).attr("data-role")){var n=ke(o[e]);if("next"==t)for(;n;){n=n.next();if(n)if(!n.attr("data-role"))return i=n.attr("data-key")}else if("prev"==t)for(;n;)if(n=n.prev())if(!n.attr("data-role"))return i=n.attr("data-key");return null}return i},getRows:function(){var e,t,i=this._views[this._view].type,o=this._views[this._view],n="halfHour",s=(o.timeRuler&&o.timeRuler.scale&&(n=o.timeRuler.scale),24),r=this.showAllDayRow,a=(!o.timeRuler||"dayView"!==i&&"weekView"!==i||(e=0,t=23,null!=o.timeRuler.scaleStartHour&&(e=parseInt(o.timeRuler.scaleStartHour)),s=(t=23<(t=(t=null!=o.timeRuler.scaleEndHour?parseInt(o.timeRuler.scaleEndHour):t)<0?23:t)?23:t)-(e=23<(e=e<0?0:e)?0:e)+1,null!=o.timeRuler.showAllDayRow&&(r=o.timeRuler.showAllDayRow)),new Array),l=0;switch(i){case"dayView":case"weekView":default:l=2*s;"hour"===n||"sixtyMinutes"===n?l=s:"quarterHour"===n||"fifteenMinutes"===n?l=4*s:"tenMinutes"===n?l=6*s:"fiveMinutes"===n&&(l=12*s),r&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e])return a=this._dateByStringCache[e],new Date(a.getTime());var t=e.split(" "),i=t[0].split("-"),t=t[1].split(":"),o=parseInt(i[0],10),n=parseInt(i[1],10)-1,i=parseInt(i[2],10),s=parseInt(t[0],10),r=parseInt(t[1],10),t=parseInt(t[2],10),a=new Date(o,n,i,s,r,t);return o<1970&&a.setFullYear(o,n,i),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=a},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var n=0;n<o.length;n++){var s=o[n];if(!s.element.getAttribute("data-group-row"))for(var r=0;r<s.cells.length;r++){var a=s.cells[r];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var e,t,i;"44CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==ke.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&ke(this._gridRenderElement).remove(),i=String.fromCharCode(83,80,65,78),t=String.fromCharCode(72,84,84,80,58,47,47),(i=document.createElement(i)).id=ke.jqx.utilities.createId(),i.innerHTML=e,i.style.position="absolute",i.style.right="5px",i.style.bottom="5px",i.style.color="#909090",i.style.cursor="pointer",i.style.zIndex="999999",i.style.display="none",i.style.fontSize="9px",i.onmousedown=function(){open(t+e)},this.content[0].appendChild(i),this._gridRenderElement=i))},_handleKey:function(h){if(this._loading)return!0;var m=h.shiftKey,f=h.ctrlKey||h.metaKey,g=this,e=h.charCode||h.keyCode||0;if(g._hasOpenedMenu)return 27==e?g.closeMenu():g.menu.jqxMenu("focus"),!0;if(13===e||g.selectedAppointment&&46==e){if(g.editRecurrenceDialog&&g.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(g._editDialog&&g._editDialog.jqxWindow("isOpen"))return!0;g.selectedAppointment?(o=g.getJQXAppointmentByElement(g.selectedAppointment)).readOnly||(46==e?!1!==g._initDialog(o,"delete")&&g._openDialog():!1!==g._initDialog(o)&&g._openDialog()):(g._initDialog(),g._openDialog())}if(27===e&&g.dragOrResize)return g.table.find(".jqx-icon-arrow-down").hide(),r=g.getViewStart(),a=ke.jqx.scheduler.utilities.getEndOfDay(g.getViewEnd()),g._prepareAppointmentsInView(r,a),g._renderAppointments(r,a),g._removeFeedbackAndStopResize(),!1;function t(e){var t=g.selectedAppointment,i=(t=g.getJQXAppointmentByElement(t)).elements[0].cells[0].cell,o=t.elements[t.elements.length-1].cells[t.elements[t.elements.length-1].cells.length-1].cell,n=g.rows[g.rows.length-1].cells[g.rows[g.rows.length-1].cells.length-1],s=g._views[g._view].type,r=(g._views[g._view],i=!m&&(f||"down"!=e&&"right"!=e)?i:o);switch(e){case"left":0<(l=(d=g.rowByCell[i.getAttribute("data-key")]).indexOf(i))&&!m?r=d.cells[l-1]:"monthView"!=s||m||(a=d.aboveRow)&&(r=a.cells[a.cells.length-1]);break;case"right":(l=(d=g.rowByCell[i.getAttribute("data-key")]).indexOf(i))<d.cells.length-1?r=d.cells[l+1]:"monthView"==s&&(h=d.belowRow)&&(r=h.cells[0]),"monthView"==s&&!m&&f&&o==n&&(r=i);break;case"up":var a,l=(d=g.rowByCell[i.getAttribute("data-key")]).indexOf(i);(a=d.aboveRow)&&!m&&(r=a.cells[l]);break;case"down":var d,h,l=(d=g.rowByCell[i.getAttribute("data-key")]).indexOf(i);(h=d.belowRow)&&(r=h.cells[l])}var c,u=r.getAttribute("data-date"),u=new ke.jqx.date(u,g.timeZone),s=ke(r).attr("data-view"),p=g._resources[parseInt(s)-1];m?(s=g._views[g._view].type,g._views[g._view],c=!1,"dayView"===s||"weekView"===s?i.getAttribute("data-end-date")?"left"==e&&(1<t.elements[0].cells.length||g.rtl)?(g.rtl?t.to=ke.jqx.scheduler.utilities.getEndOfDay(u.addDays(1)):t.to=ke.jqx.scheduler.utilities.getEndOfDay(u.addDays(-1)),c=!0):"right"==e&&((!g.rtl||g.rtl&&1<t.elements[0].cells.length)&&(t.to=ke.jqx.scheduler.utilities.getEndOfDay(u)),c=!0):"up"==e&&1<t.elements[0].cells.length?(t.to=u,c=!0):"down"==e&&(t.to=u.addMinutes(g.getMinutesPerScale()),c=!0):0<=s.indexOf("month")?"left"==e&&(1<t.elements[0].cells.length||1<t.elements.length)?(t.to=ke.jqx.scheduler.utilities.getEndOfDay(u.addDays(-1)),c=!0):"right"==e&&(t.to=ke.jqx.scheduler.utilities.getEndOfDay(u),c=!0):!g.rtl&&"left"==e&&1<t.elements[0].cells.length||g.rtl&&"right"==e&&1<t.elements[0].cells.length?(t.to=u,g.rtl&&(t.to=u.addMinutes(g.getMinutesPerScale())),c=!0):(!g.rtl&&"right"==e||g.rtl&&"left"==e)&&(t.to=u.addMinutes(g.getMinutesPerScale()),g.rtl&&(t.to=t.to.addMinutes(g.getMinutesPerScale())),c=!0),c&&g.moveAppointment(t,u,p,r,!0)):f?g.moveAppointment(t,u,p,r):(g.clearAppointmentsSelection(),g.selectCell(u,"down"==e?!1:!0,s),g._ensureVisible(r)),g.selectedAppointment&&(g.selectedAppointment.removeClass(g.toTP("jqx-scheduler-selected-appointment")),c=g.selectedAppointment.attr("data-key"),ke('[data-key="'+c+'"]').addClass(g.toTP("jqx-scheduler-selected-appointment")),g.clearSelection())}if(h.altKey&&g._resourcesElements&&g._resources&&0<g._resources.length){var i=49<=e&&e<=58?e-48:-1;if(1<=i)return ke.each(g._resources,function(e,t){if(e==i-1)return e=t,"on"==g._resourcesElements.bottom[e].attr("data-toggle")?g.hideAppointmentsByResource(e):g.showAppointmentsByResource(e),!1}),!1}if(h.ctrlKey){if(!g.selectedAppointment){if(37==e)return g.toolbarLeftButton.trigger("click"),g._ensureVisible(g.focusedCell),!1;if(39==e)return g.toolbarRightButton.trigger("click"),g._ensureVisible(g.focusedCell),!1}if(49==e)return g._setView(0),!1;if(50==e)return g._setView(1),!1;if(51==e)return g._setView(2),!1;if(52==e)return g._setView(3),!1;if(53==e)return g._setView(4),!1;if(54==e)return g._setView(5),!1;if(68==e)return g.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==e)return g.openMenu(),!1}if(9==e)if(h.shiftKey)if(g.selectedAppointment){g.clearSelection();var o,n,s=g.selectedAppointment;if(o=g.getJQXAppointmentByElement(s))return 0<(n=g.tabKeyAppointments.indexOf(o))?(o=g.tabKeyAppointments[n-1],g._selectAppointment(o),g._lastSelectedAppointment=o,g._ensureAppointmentVisible(o),!1):(g.clearAppointmentsSelection(),g.focusedCell?!g.focusedCell||-1!=g.focusedCell.className.indexOf("-focus")||(g._updateCellsSelection(),g._ensureVisible(g.focusedCell),!1):(g._updateFocusedCell(),g._ensureVisible(g.focusedCell),!1))}else if(g.focusedCell){if(g.focusedCell&&-1==g.focusedCell.className.indexOf("-focus"))return g._updateCellsSelection(),g._ensureVisible(g.focusedCell),!1}else g._updateFocusedCell(),g._ensureVisible(g.focusedCell);else{if(g.selectedAppointment)return g.clearSelection(),s=g.selectedAppointment,o=g.getJQXAppointmentByElement(s),(n=g.tabKeyAppointments.indexOf(o))<g.tabKeyAppointments.length-1?(o=g.tabKeyAppointments[n+1],g._selectAppointment(o),g._lastSelectedAppointment=o,g._ensureAppointmentVisible(o),!1):(g.clearAppointmentsSelection(),!0);if(o=g.tabKeyAppointments[0])return g._selectAppointment(o),g._lastSelectedAppointment=o,g._ensureAppointmentVisible(o),!1;if(!g.focusedCell)return g._updateFocusedCell(),g._ensureVisible(g.focusedCell),!1;if(g.focusedCell&&-1==g.focusedCell.className.indexOf("-focus"))return g._updateCellsSelection(),g._ensureVisible(g.focusedCell),!1}if(g.selectedAppointment)return 37==e?t("left"):38==e?t("up"):40==e?t("down"):39==e&&t("right"),!(37<=e&&e<=40)&&void 0;var c,r,u,a,p=this._lastSelectedCell;if(p)return ke(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],p=this._lastSelectedCell),this.rows,c=this._views[this._view].type,r=this._views[this._view],u="halfHour",r.timeRuler&&r.timeRuler.scale&&(u=r.timeRuler.scale),a=function(e,t){switch(u){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}function i(e,t,i){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==c)&&null==e.getAttribute("data-time-slot")&&!(i<g.min||i>g.max)){var o=g.rows,i=g._lastSelectedCell;if(g._lastSelectedCell=e,h.shiftKey&&g._lastSelectedCell?g.shiftSelectedCell||(g.shiftSelectedCell=p):h.shiftKey||(g.shiftSelectedCell=null),g.shiftSelectedCell)(!e.getAttribute("data-end-date")||!g.shiftSelectedCell.getAttribute("data-end-date"))&&(e.getAttribute("data-end-date")||g.shiftSelectedCell.getAttribute("data-end-date"))?(g.focusedCell=i,g._lastSelectedCell=i):(g.focusedCell=e,g._selectRange(e,g.shiftSelectedCell));else{for(var n=0;n<o.length;n++){var s=o[n];if(!s.element.getAttribute("data-group-row"))for(var r=0;r<s.cells.length;r++)s.cells[r].removeAttribute("data-selected","false")}e.setAttribute("data-selected","true"),g.focusedCell=e}g._ensureVisible(g.focusedCell)}}var o=e.getAttribute("data-date");new ke.jqx.date(o,g.timeZone),e.getAttribute("data-view");switch(t){case"left":0<(n=(d=g.rowByCell[e.getAttribute("data-key")]).indexOf(e))&&(r=d.cells[n-1],l=new ke.jqx.date(r.getAttribute("data-date"),g.timeZone)),i(r,0,l);break;case"right":(n=(d=g.rowByCell[e.getAttribute("data-key")]).indexOf(e))<d.cells.length-1&&(r=d.cells[n+1],l=new ke.jqx.date(r.getAttribute("data-date"),g.timeZone)),i(r,0,l);break;case"up":var n=(d=g.rowByCell[e.getAttribute("data-key")]).indexOf(e),s=d.aboveRow;if(s){var r=s.cells[n];if(0==n&&r.getAttribute("rowspan"))for(var a=-1+g.rows.indexOf(d),r=e;0<=a;){if(g.rows[a].cells[0]!=r){r=g.rows[a].cells[0];break}a--}var l=new ke.jqx.date(r.getAttribute("data-date"),g.timeZone);i(r,0,l)}break;case"down":var n=(d=g.rowByCell[e.getAttribute("data-key")]).indexOf(e),s=d.belowRow;if(s){r=s.cells[n];if(0==n&&r.getAttribute("rowspan"))for(a=1+g.rows.indexOf(d),r=e;a<g.rows.length;){if(g.rows[a].cells[0]!=r){r=g.rows[a].cells[0];break}a++}l=new ke.jqx.date(r.getAttribute("data-date"),g.timeZone);i(r,0,l)}break;case"home":n=(d=g.rowByCell[e.getAttribute("data-key")]).indexOf(e),r=g.rows[0].cells[n],l=new ke.jqx.date(r.getAttribute("data-date"),g.timeZone);i(r,0,l);break;case"end":var d,n=(d=g.rowByCell[e.getAttribute("data-key")]).indexOf(e),r=g.rows[g.rows.length-1].cells[n],l=new ke.jqx.date(r.getAttribute("data-date"),g.timeZone);i(r,0,l)}g._updateCellsSelection()},36==e||f&&38==e?(a(p,"home"),!1):35==e||f&&40==e?(a(p,"end"),!1):37==e?(g.selectedAppointment?t(p):a(p,"left"),!1):38==e?(g.selectedAppointment?t(p):a(p,"up"),!1):40==e?(g.selectedAppointment?t(p):a(p,"down"),!1):39==e?(g.selectedAppointment?t(p):a(p,"right"),!1):void 0},getSelectedCells:function(){for(var i=this,e=i.rows,t=e.length,o=new Array,n=0;n<t;n++)for(var s=e[n].cells,r=0;r<s.length;r++)s[r].getAttribute("data-selected")&&o.push(s[r]);return o.sort(function(e,t){return i._sortByDate(e,t)})},getSelection:function(){var e=this,t=e.getSelectedCells();if(0==t.length)return null;var i=t[0].getAttribute("data-date"),o=t[t.length-1].getAttribute("data-date"),n=e.getMinutesPerScale(),s=(0<=(s=e._views[e._view].type).toLowerCase().indexOf("month")&&(n=0),t[0].getAttribute("data-end-date")&&(n=0),o=new ke.jqx.date(o,e.timeZone).addMinutes(n),parseInt(t[0].getAttribute("data-view"))-1),n=e._resources[s];return 0<=e._views[e._view].type.toLowerCase().indexOf("month")?{from:new ke.jqx.date(i,e.timeZone),to:ke.jqx.scheduler.utilities.getEndOfDay(o),resourceId:n}:0<=e._views[e._view].type.toLowerCase().indexOf("day")||0<=e._views[e._view].type.toLowerCase().indexOf("week")?(i=new ke.jqx.date(i,e.timeZone),0===o.minute()&&0===o.hour()&&0===i.hour()&&0===i.minute()?o.day()===i.day()?{from:new ke.jqx.date(i,e.timeZone),to:ke.jqx.scheduler.utilities.getEndOfDay(o),resourceId:n}:{from:new ke.jqx.date(i,e.timeZone),to:ke.jqx.scheduler.utilities.getEndOfDay(o).addDays(-1),resourceId:n}:{from:new ke.jqx.date(i,e.timeZone),to:o,resourceId:n}):0<=e._views[e._view].type.toLowerCase().indexOf("agenda")?{from:new ke.jqx.date(i,e.timeZone),to:ke.jqx.scheduler.utilities.getEndOfDay(o),resourceId:n}:void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var o=e[i].cells,n=0;n<o.length;n++)o[n].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,n){this.rtl&&(e=this.hScrollInstance.max-e);var s=0,r=-1,a=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!n)for(var l=0;l<i+o;l++)if(this.columns.records[l].hidden||(s+=this.columns.records[l].width),e<=s&&-1==r&&(r=l),t+e<s){a=l;break}return{start:r=-1==r?0:r,end:a=i+o<++a?i+o:a}},_renderhorizontalscroll:function(){var e=this,t=e.hScrollInstance,i=t.value,o=("hidden"===e.hScrollBar[0].style.visibility&&(i=t.value=0),parseInt(i));if(null!=e.table){function n(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)}for(var i=e._getvirtualcolumnsindexes(o,e._hostWidth,0,e.columns.records.length,!1),s=i.start,r=i.end,a=(e.rows,0);a<s;a++){var l=a;n(d=e.columns.records[l].element[0])&&d.parentNode.removeChild(d)}for(a=r;a<e.columns.records.length;a++){var d,l=a;n(d=e.columns.records[l].element[0])&&d.parentNode.removeChild(d)}for(a=s;a<r;a++){l=a;n(d=e.columns.records[l].element[0])||e.columnsrow[0].appendChild(d)}i=e.columnsrow;e.columns.records.length,e.columns.records,e.source.records.length;if(e.rtl&&"hidden"!=e.hScrollBar.css("visibility")&&(o=t.max-o),e.table[0].style.left=-o+"px","block"==e.pinnedtable[0].style.display&&(e.pinnedtable[0].style.left=-o+"px"),0<e._resources.length&&0<e.tableRows)for(var h=0;h<this.table[0].rows.length;h++){var c=this.table[0].rows[h];c.getAttribute("data-group-row")&&ke(c).find("span").css("left",5+o)}i[0].style.marginLeft=-o+"px"}},_getDayName:function(e,t){7<=e&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var i=this._views[this._view].type,m=this._views[this._view];if(m.timeSlotWidth&&(m.timeSlotWidth=Math.max(m.timeSlotWidth,30),m.columnWidth=m.timeSlotWidth),m.columnWidth&&m.columnWidth<30&&(m.columnWidth=30),this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);this.columns=new Array;function e(e,t){var i="halfHour",o=(m.timeRuler&&m.timeRuler.scale&&(i=m.timeRuler.scale),24),n=0,s=23,r=(m.timeRuler&&(null!=m.timeRuler.scaleStartHour&&(n=parseInt(m.timeRuler.scaleStartHour)),o=(s=23<(s=(s=null!=m.timeRuler.scaleEndHour?parseInt(m.timeRuler.scaleEndHour):s)<0?23:s)?23:s)-(n=23<(n=n<0?0:n)?0:n)+1),2);if(i)switch(i){case"sixtyMinutes":case"hour":r=1;break;case"thirtyMinutes":case"halfHour":r=2;break;case"fifteenMinutes":case"quarterHour":r=4;break;case"tenMinutes":r=6;break;case"fiveMinutes":r=12}new Array;var a="auto";m.timeRuler&&m.timeRuler.formatString&&(a=m.timeRuler.formatString);for(var l=o,d=e.addHours(n),h="auto",h=m.columnWidth?r*m.columnWidth:80*r,c=0;c<l;c++){var u,p=d.toDate();u="auto"===a?0==p.getHours()&&0==p.getMinutes()||12==p.getHours()&&0==p.getMinutes()?"hh tt":"hh:mm":ke.isFunction(a)?a(p):a,ke.jqx.dataFormat.isDate(p)&&(p=ke.jqx.dataFormat.formatdate(p,u,f.schedulerLocalization)),d=d.addMinutes(60,!1),f.columns.push({columnGroup:t,text:p,minwidth:30,width:h})}}for(var t=new Array,f=this,n=0;n<this.tableColumns;n++){1<this.tableColumns&&(l=f._resources[n]||"Resource"+n,t.push({text:l,name:l}));var s="left";switch(this.rtl&&(s="right"),i){case"dayView":var r=this.getViewStart(),a=(!1!==m.showWeekends||0!==(r=0!==r.dayOfWeek()&&6!==r.dayOfWeek()?r:r.addDays(1)).dayOfWeek()&&6!==r.dayOfWeek()||(r=r.addDays(1)),"auto"),l=(m&&m.columnWidth&&(a=m.columnWidth),f._resources[n]||"Resource"+n);this.columns.push({align:s,width:a,columnGroup:l,text:this._getDayName(r.dayOfWeek())});break;case"weekView":case"monthView":for(o=0;o<7;o++)6<(d=this.schedulerLocalization.firstDay+o)&&(d=0),(!1!==m.showWeekends||0!==d&&6!==d)&&(a="auto",m&&m.columnWidth&&(a=m.columnWidth),l=f._resources[n]||"Resource"+n,this.columns.push({align:"weekView"==i?s:"center",width:a,columnGroup:l,text:this._getDayName(d)}));break;case"timelineDayView":l=f._resources[n]||"Resource"+n;e(f.getViewStart(),l);break;case"timelineWeekView":for(o=0;o<7;o++){var d=this.schedulerLocalization.firstDay+o;(!1!==m.showWeekends||0!==o&&6!==o)&&(l=f._resources[n]||"Resource"+n,t.push({align:f.rtl?"right":"left",parentGroup:l,name:this._getDayName(d)+n,text:this._getDayName(d)}),e(f.getViewStart().addDays(o),this._getDayName(d)+n))}break;case"timelineMonthView":var h=f.getViewStart(),c="auto";m.timeRuler&&m.timeRuler.formatString&&(c=m.timeRuler.formatString);for(o=0;o<41;o++){var u,p,d=h.dayOfWeek();(!1!==m.showWeekends||0!==d&&6!==d)&&(a="auto",a=m.columnWidth||100,u=h.toDate(),"auto"===c?(p="dd",1===(u=h.toDate()).getDate()&&(p="MMM dd")):p=ke.isFunction(c)?c(u):c,ke.jqx.dataFormat.isDate(u)&&(u=ke.jqx.dataFormat.formatdate(u,p,f.schedulerLocalization)),h=h.addDays(1),l=f._resources[n]||"Resource"+n,f.columns.push({minwidth:30,columnGroup:l,text:u,width:a}))}break;case"agendaView":var r=m.dateColumnWidth,g=m.timeColumnWidth,w=(w=m.appointmentColumnWidth)||"70%",g=g||"auto",r=r||"auto";f.columns.push({text:f.schedulerLocalization.agendaDateColumn,width:r}),f.columns.push({text:f.schedulerLocalization.agendaTimeColumn,width:g}),f.columns.push({text:f.schedulerLocalization.agendaAppointmentColumn,width:w})}}0<t.length&&(this.columnGroups=t);function v(e){var t=new ke.jqx.scheduler.column(f,f);t.visibleindex=x++,t.text="",t.width=f.timeRulerWidth,t.editable=!1,t.timeColumn=!0,b="left",t.text="",t.hidden=!1,t.timeZone=m.timeRuler.timeZones[e].id,t.width=f.timeRulerWidth,!m.timeRuler||"dayView"!==i&&"weekView"!==i||(t._text=m.timeRuler.timeZones[o].text||"",t.hidden=m.timeRuler.hidden||!1,t.width=m.timeRuler.width||f.timeRulerWidth,y.add(t))}var f=this,y=new ke.jqx.schedulerDataCollection(this.element),x=0,b=(this._columns=this.columns,"left"),A=new ke.jqx.scheduler.column(f,this);A.visibleindex=x++,A.text="",A.width=f.timeRulerWidth,A.editable=!1,A.timeColumn=!0,b="left",A.text="",A.hidden=!1,A.width=f.timeRulerWidth,!m.timeRuler||"dayView"!==i&&"weekView"!==i?"dayView"!==i&&"weekView"!==i&&(A.hidden=!0):(A._text=m.timeRuler.text||"",b=m.timeRuler.position||"left",A.hidden=m.timeRuler.hidden||!1,A.width=m.timeRuler.width||f.timeRulerWidth,m.timeRuler.timeZones);if("left"===b&&("dayView"===i||"weekView"===i)){if(m.timeRuler&&m.timeRuler.timeZones)for(o=0;o<m.timeRuler.timeZones.length;o++)v(o);y.add(A)}"left"===b&&"monthView"===i&&m.showWeekNumbers&&(A.hidden=!1,y.add(A));new Array;if(ke.each(this.columns,function(e){null!=f.columns[e]&&((e=new ke.jqx.scheduler.column(f,this)).visibleindex=x++,y.add(e))}),"right"===b&&("dayView"===i||"weekView"===i)){if(m.timeRuler)for(o=0;o<m.timeRuler.timeZones.length;o++)v(o);y.add(A)}"right"===b&&"monthView"===i&&m.showWeekNumbers&&(A.hidden=!1,y.add(A)),this.rtl&&y.records.reverse(),this.columns=y},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,function(e){return t.escapeHTML(e)})},escape_HTML:function(e){return e&&(0<=e.indexOf("onclick")||0<=e.indexOf("onload")||0<=e.indexOf("onerror"))?this.escapeHTML(e):this.sanitizeHTML(e)},_renderagenda:function(){for(var i=this,e=(i._views[i._view].type,i._views[i._view]),t=i.getViewStart(),o=ke.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd().addDays(-1)),o=(i._prepareAppointmentsInView(t,o),i.appointmentsToRender.length),n=new Array,s=0;s<i.appointmentsToRender.length;s++)for(var r=i.appointmentsToRender[s],a=r.from.clearTime();a<ke.jqx.scheduler.utilities.getEndOfDay(r.to);){var l=a.toString();n[l]?n[l].appointments.push(r):(n[l]={date:a,appointments:new Array},n[l].appointments.push(r),n[n.length]=n[l]),a=a.addDays(1).clearTime()}for(var M=0,d=0,V=(i.rows=new Array,ke.jqx.browser.msie&&ke.jqx.browser.version<8),F=0,h=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",c=0,u="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+h+"' id='table"+i.element.id+"'><colgroup>",I=i.columns.records.length,p=0;p<I;p++){var m=i.columns.records[p];m.hidden?F++:((A=(A=m.width)<m.minwidth?m.minwidth:A)>m.maxwidth&&(A=m.maxwidth),(A-=0)<0&&(A=0),V?(m=A,p==F&&m++,u+="<col style='max-width: "+m+"px; width: "+m+"px;'>"):u+="<col style='max-width: "+A+"px; width: "+A+"px;'>",c+=A)}u+="</colgroup>",0==o&&(v='<tr role="row">',S=this.host.height(),h=0,i.columnGroups?h+=i.showHeader?i.columnsheader.height():0:h+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(h+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(h+=i.legendHeight),S-=h,D='<td data-date="'+t.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+S+"px; height: "+S+"px; max-width:"+c+"px; width:"+c+"px;",T=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),u+=v=v+(D=(D+='" class="'+(T+=" "+this.toTP("jqx-center-align"))+'">')+this.schedulerLocalization.emptyDataString+"</td>")+"</tr>",this.table[0].style.width=c+2+"px",d=c);var f=i.rowsHeight;i.isTouchDevice()&&(f=i.touchRowsHeight);for(s=0;s<n.length;s++)for(var E=s,a=n[s],g=0;g<a.appointments.length;g++){for(var w=0,v='<tr data-key="'+E+'" role="row">',M=0,y=a.appointments[g],p=0;p<I;p++){var x=i.columns.records[p],b=p;i.rtl&&(b=I-1-p);(A=(A=x.width)<x.minwidth?x.minwidth:A)>x.maxwidth&&(A=x.maxwidth),(A-=0)<0&&(A=0);var A,T=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item"),E=(i.rtl&&(T+=" "+i.toTP("jqx-cell-rtl")),i.dataview.generatekey()),_=a.date,S=f+"px",D='<td data-key="'+E+'" data-view="'+-1+'" data-date="'+_.toString()+'" role="gridcell"  style="max-width:'+A+"px; width:"+A+"px; height: "+S+"; min-height: "+f+"px;";if(0==b&&0==g){D='<td rowspan="'+a.appointments.length+'" data-key="'+E+'" data-view="'+-1+'" data-date="'+_.toString()+'" role="gridcell"  style="max-width:'+A+"px; width:"+A+"px;  min-height: "+f+"px;";T+=" "+i.toTP("jqx-center-align")}else if(0==b){M++;continue}i.rtl&&1==b&&(T+=" "+i.toTP("jqx-right-align")),x.hidden?(D+="display: none;",i._hiddencolumns=!0):(w+=0+A,0!=M||i.rtl?D+="border-left-width: 1px;":D+="border-left-width: 0px;",M++),D+='" class="'+T+'">';var j,q,C,O,W,k,B,R="";0==b&&0==g&&(x=_.toString("dddd",i.schedulerLocalization),C=_.toString("MMMM, yyyy",i.schedulerLocalization),B=i.toTP("jqx-scheduler-agenda-date"),j=i.toTP("jqx-scheduler-agenda-day"),q=i.toTP("jqx-scheduler-agenda-week"),R='<div class="'+B+'"><strong class="'+j+'">'+_.day()+'</strong><br/><em class="'+q+'">'+x+'</em><br/><span class="'+B+'">'+C+"</span></div>"),1==b?(j="auto",e=this._views[this._view],_=y.from,q=y.to,x=j=e.timeRuler&&e.timeRuler.formatString?e.timeRuler.formatString:j,"auto"===(C=j)&&(x=0==_.hour()&&0==_.minute()||12==_.hour()&&0==_.minute()?"hh tt":"hh:mm",C=0==q.hour()&&0==q.minute()||12==q.hour()&&0==q.minute()?"hh tt":"hh:mm"),B=i.toTP("jqx-scheduler-agenda-time"),R=y.allDay?"<span class='"+B+"'>"+i.schedulerLocalization.agendaAllDayString+"</span>":i.rtl?"<span class='"+B+"'>"+q.toString(C,i.schedulerLocalization)+" - "+_.toString(x,i.schedulerLocalization)+"</span>":"<span class='"+B+"'>"+_.toString(x,i.schedulerLocalization)+" - "+q.toString(C,i.schedulerLocalization)+"</span>"):2==b&&(y.resourceId&&ke.each(i._resources,function(e,t){y.resourceId==t&&(t=i.getColors(e),this.toString(),e=i.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"),i.rtl&&(e=i.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend")),e="<div data-key='"+y.id+"' class='"+e+"' style='margin-right: 5px; border-color: "+t.border+"; background: "+t.background+";' class='"+i.toThemeProperty("jqx-scheduler-legend")+"'></div>",R=e)}),_=y.subject||"(No Title)",x=y.location,b=y.description,O=y.status?i.schedulerLocalization.editDialogStatuses[y.status]:"",W=y.isRecurrentAppointment(),y.isException(),k=i.schedulerLocalization.editDialogSubjectString+": "+_,x&&(k+="\n"+i.schedulerLocalization.editDialogLocationString+": "+x),b&&(k+="\n"+i.schedulerLocalization.editDialogDescriptionString+": "+b),O&&(k+="\n"+i.schedulerLocalization.editDialogStatusString+": "+O),W&&(k+="\n"+i.schedulerLocalization.editDialogRepeatString+": "+W),B=i.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label"),i.rtl&&(B=i.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label")),R+="<span data-key='"+y.id+"' title='"+i.escape_HTML(k)+"' class='"+B+"'>"+i.escape_HTML(_)+"</span>"),v+=D=D+R+"</td>"}0==d&&(i.table[0].style.width=w+2+"px",i.pinnedtable[0].style.width=w+2+"px",d=w),u+=v+="</tr>"}i.table.html(u+="</table>"),i.pinnedtable.html(u),i.pinnedtable[0].style.display="none";h=ke(i.table[0].firstChild),t=ke(i.pinnedtable[0].firstChild);function N(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}i._table=h,i._pinnedtable=t,ke.jqx.browser.msie&&ke.jqx.browser.version<10&&(i._table[0].style.width=d+"px",i._pinnedtable[0].style.width=d+"px"),0===o&&(i._table[0].style.width=2+d+"px",i._pinnedtable[0].style.width=2+d+"px",i._pinnedtable[0].style.display="none"),i._pinnedtable[0].style.display="none",i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.table[0].rows=i.table[0].firstChild.rows,i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var L=i.table[0].rows.length,s=0;s<L;s++){var z=i.table[0].rows[s];if(!z.getAttribute("data-group-row"))for(var H=new N,Z=(H.aboveRow=null,H.belowRow=null,0<i.rows.length&&(H.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=H),H.element=z,i.rows.push(H),!1),p=0;p<z.cells.length;p++){if(z.cells.length<i.columns.records.length&&!Z)for(var U=s;0<=U;){var X=i.table[0].rows[U];if(i.table[0].rows[U].cells.length==i.columns.records.length){var P=X.cells[0];i.columnCells[H.cells.length]||(i.columnCells[H.cells.length]=new Array),i.columnCells[H.cells.length].push(P),0==i.cellWidth&&(i.cellWidth=P.clientWidth),0==i.cellHeight&&(1==L||1<s)&&(i.cellHeight=P.clientHeight),H.cells.push(P),Z=!0;break}U--}"none"===(P=z.cells[p]).style.display||0<=P.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[H.cells.length]||(i.columnCells[H.cells.length]=new Array),i.columnCells[H.cells.length].push(P),0==i.cellWidth&&(i.cellWidth=P.clientWidth),0==i.cellHeight&&(1==L||1<s)&&(i.cellHeight=P.clientHeight),H.cells.push(P),i.rowByCell[P.getAttribute("data-key")]=H)}}0===o&&(i._table[0].style.tableLayout="auto"),i._updateScrollbars(i.host.height()),i._arrange(),i.rendered&&i.rendered(),i.renderedTime=new Date},_renderrows:function(){var i=this;if(!i._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var e=(i=this)._views[i._view].type,t=i._views[i._view];if("agendaView"==e)i._renderagenda();else{var o,M=1,V=i.getViewStart(),F=ke.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd()),I=(i._prepareAppointmentsInView(V,F),new Array),E=("weekView"===e||"dayView"===e?M=i.getMaxAllDayAppointments(i.appointmentsToRender):"monthView"===e&&t.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(I=i._getMonthAppointmentsPerWeek()),1<i.tableRows&&i.tableRows,"halfHour"),n=null,O=(t.rowHeight&&(n=t.rowHeight),t&&t.allDayRowHeight&&(o=t.allDayRowHeight),t.timeRuler&&t.timeRuler.scale&&(E=t.timeRuler.scale),0),s=(i.table[0].rows=new Array,i.rows=new Array,i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content")),r=(i.rtl&&(s+=" "+i.toTP("jqx-cell-rtl")),i.columns.records.length),W=i._getColumnsLengthPerView(),N=ke.jqx.browser.msie&&ke.jqx.browser.version<8,a=(N&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null,new Array,i.source.records),a=i.dataview.evaluate(a),l=(i.dataViewRecords=a,i.cells=new Array,i.dataViewRecords,i.renderedRecords=i.getRows(),i.tableZIndex,i.getRows().length),L=0,Z=0;if(N)for(var d=0;d<r;d++){(j=(j=(m=i.columns.records[d]).width)<m.minwidth?m.minwidth:j)>m.maxwidth&&(j=m.maxwidth);var h=ke('<table><tr><td role="gridcell" style="max-width: '+j+"px; width:"+j+'px;" class="'+s+'"></td></tr></table>'),U=(ke(document.body).append(h),h.find("td")),L=1+parseInt(U.css("padding-left"))+parseInt(U.css("padding-right"));h.remove();break}var a=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",c="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+a+"' id='table"+i.element.id+"'><colgroup>",X=0,u=2,p=30;switch(E){case"sixtyMinutes":case"hour":p=60,u=1;break;case"thirtyMinutes":case"halfHour":p=30,u=2;break;case"fifteenMinutes":case"quarterHour":p=15,u=4;break;case"tenMinutes":p=10,u=6;break;case"fiveMinutes":p=5,u=12}function G(e){var t=i.columns.records[e];if(t)return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;return t=i.columns.records[e]}for(var m,f=1,d=("timelineDayView"===e||"timelineWeekView"===e?W=(r*=f=u)/i.tableColumns:"timelineMonthView"===e?W=r/i.tableColumns:"monthView"===e&&(W=t.showWeekNumbers?(r-i.tableColumns)/i.tableColumns:r/i.tableColumns),0);d<r;d++)(m=G(d)).hidden?(X++,0):((j=(j=m.width/f)<m.minwidth?m.minwidth/f:j)>m.maxwidth&&(j=m.maxwidth/f),(j-=L)<0&&(j=0),"monthView"==e&&i.rtl&&m.timeColumn&&j++,N?(re=j,d==X&&re++,c+="<col style='max-width: "+re+"px; width: "+re+"px;'>"):c+="<col style='max-width: "+j+"px; width: "+j+"px;'>",Z+=j);c+="</colgroup>",i._hiddencolumns=!1,0===l&&(se='<tr role="row">',g=i.host.height(),i.pageable&&(g-=i.pagerHeight,"both"===i.pagerPosition&&(g-=i.pagerHeight)),g-=i.columnsHeight,i.showLegend&&0<i._resources.length&&(g-=i.legendHeight),g<25&&(g=25),"hidden"!=i.hScrollBar[0].style.visibility&&(g-=i.hScrollBar.outerHeight()),"auto"!==i.height&&null!==i.height&&!i.autoheight||(g=300),h='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+g+"px; height: "+g+"px; max-width:"+Z+"px; width:"+Z+"px;",s=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item"),i.rtl&&(s+=" "+i.toTP("jqx-cell-rtl")),c+=se+=h=(h+='" class="'+(s+=" "+i.toTP("jqx-center-align"))+'">')+i.schedulerLocalization.emptyDataString+"</td>",i.table[0].style.width=Z+2+"px",O=Z);var J=i.getRows(),V=i.getViewStart(),g=i._hostHeight||i.host.height(),a=0,w=(i.columnGroups?a+=i.showHeader?i.columnsheader.height():0:a+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(a+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(a+=i.legendHeight),i.showAllDayRow),K=23;t.resourceHeaderRowHeight&&(K=t.resourcesRowHeight),K+=2,null!=t.showAllDayRow&&(w=t.showAllDayRow);var v,Q,Y=i._columnswidth>i._hostWidth?3+i.scrollBarSize:0,$=1<i.tableRows?i.resources.unitsInView:1,y=(null==$&&($=i._resources.length),null!=(n=i.resources&&i.resources.resourceRowHeight?i.resources.resourceRowHeight:n)&&"auto"!=n||(Q=3*(v=i.rowsHeight),i.isTouchDevice()&&(Q=22+(v=i.touchRowsHeight)),1==i.tableRows?(n=0<g?g-a:v,10<i.columns.records.length&&(n=0<g?g-i.scrollBarSize-5-a:v)):(n=0<g?(g-a-K)/l:v,10<i.columns.records.length&&(n=0<g?(g-i.scrollBarSize-5-a-$*K)/($*l):v)),"dayView"===e||"weekView"===e?w&&(null==o||"auto"==o?o=n=0<g?(g-a)/(i.tableRows*l):Q:n=0<g?(g-a-o-$*K)/($*(l-1)):v):"monthView"===e&&("hidden"==i.hScrollBar[0].style.visibility&&(Y=0),n=1==i.tableRows?0<g?(g-a-Y)/l:v:0<g?(g-a-K-Y)/l:v),n=Math.max(v,n),o=o||Q,o=Math.max(Q,o),i._allDayRowHeight=o,o=M*((i._defaultRowHeight=v)-2),o=Math.max(Q,17+o),i._allDayRowFullHeight=o,t.allDayRowHeight&&(i._allDayRowHeight=t.allDayRowHeight,o=M*(t.allDayRowHeight-2),i._allDayRowFullHeight=o)),new Array);if(i.resources&&i.resources.colorScheme){for(var ee=0;ee<i.colorSchemes.length;ee++)if(i.colorSchemes[ee].name==i.resources.colorScheme){y=i.colorSchemes[ee].colors;break}for(;i._resources.length>y.length-1;){var te=parseInt(i.resources.colorScheme.substring(6));27<=te&&(te=0),y=y.concat(i.colorSchemes[te].colors),te++}}for(var x=0;x<i.tableRows;x++){var ie=0,oe=23,b=(t.timeRuler&&null!=t.timeRuler.scaleStartHour&&(ie=parseInt(t.timeRuler.scaleStartHour)),t.timeRuler&&null!=t.timeRuler.scaleEndHour&&(oe=parseInt(t.timeRuler.scaleEndHour)),V),A=(!1!==t.showWeekends||0!=b.dayOfWeek()&&6!=b.dayOfWeek()||(b=b.addDays(1)),new Array),ne="monthView"!=e&&"timelineDayView"!=e&&"timelineWeekView"!=e&&"timelineMonthView"!=e&&w?1:0;if(1<i.tableRows){var se='<tr data-group-row="true" role="row">',s=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(s+=" "+i.toTP("jqx-cell-rtl")),N)s+=" "+i.toTP("jqx-grid-cell-pinned");else{s+=" "+i.toTP("jqx-grid-cell-pinned"),Se+=' colspan="'+r+'"';for(var re=0,ae=0;ae<r;ae++){var le=G(ae),de=le.width/f;de<le.minwidth&&(j=le.minwidth/f),de>le.maxwidth&&(j=le.maxwidth/f),(de-=L)<0&&(de=0),le.hidden||(re+=de)}j=re}var he,h='<td style="height:'+K+"px;",ce=(d!=r-1||1!=r||i.rtl||(h+="border-right-color: transparent;"),0<i._resources.length&&i.resources.colorScheme&&"none"!=i.resources.orientation&&(he=xe=q="",q=y[x],q=i.hexToRgba(y[x],.7).toString(),he=255-(.299*(ce=i.hexToRgba(y[x],.7)).r+.587*ce.g+.114*ce.b)<105?"Black":"White",h=(h+="background: "+q+";")+"border-color: "+(xe=y[x])+";color: "+he+";"),h+='" class="'+s+'" role="gridcell" '+Se,i._resources[x]);c+=se+=h=h+("><span style='position: relative;'>"+ce+"</span>")+"</td>"}for(var T=0;T<l;T++){var _={},ue="jqx"+i.element.id+"_"+T,se='<tr data-key="'+(_.uid=ue)+'" role="row">',pe=0,me=0;if(A[0]&&ne<T){p=30;if("monthView"!=e){switch(E){case"sixtyMinutes":case"hour":p=60;break;case"thirtyMinutes":case"halfHour":p=30;break;case"fifteenMinutes":case"quarterHour":p=15;break;case"tenMinutes":p=10;break;case"fiveMinutes":p=5}for(var S=0;S<r;S++)A[S]=A[S].addMinutes(p,!1)}else for(S=0;S<r;S++)A[S]=A[S].addDays(7,!1)}var fe=0,ge=1,we=0,we=t.showWeekends||null==t.showWeekends?i.columns.records.length/(7*i.tableColumns):i.columns.records.length/(5*i.tableColumns);we*=u;for(var D=0,ve=(i.rtl&&(D=1),0),d=0;d<r;d++){var ye,j,q,xe,be,Ae,Te,_e,C=G(d),k=(W<=fe&&(D=ve=fe=0,i.rtl&&(D=1),ge++),A[d]||(i.rtl?0<=e.toString().indexOf("timelineDayView")?(ye=1+d,A[d]=b.addHours(1+oe).addMinutes(-ye*p,!1)):0<=e.toString().indexOf("timelineWeekView")?t.showWeekends||null==t.showWeekends?A[d]=b.addDays(6-ve).addHours(1+oe,!1).addMinutes(-D*p,!1):A[d]=b.addDays(4-ve).addHours(1+oe,!1).addMinutes(-D*p,!1):"dayView"==e||"monthView"==e||"weekView"==e?t.showWeekends||null==t.showWeekends?A[d]=b.addDays(6-fe).addHours(ie,!1):A[d]=b.addDays(4-fe).addHours(ie,!1):A[d]=b.addDays(W-fe-1).addHours(ie,!1):0<=e.toString().indexOf("timelineDayView")?A[ye=d]=b.addHours(ie).addMinutes(ye*p,!1):0<=e.toString().indexOf("timelineWeekView")?A[d]=b.addDays(ve).addHours(ie,!1).addMinutes(D*p,!1):A[d]=b.addDays(fe).addHours(ie,!1),i.timeZone&&(A[d].timeZone=i.timeZone)),we<=++D&&(D=0,ve++),(!(C.timeColumn||"dayView"!==e&&"weekView"!==e)||!C.timeColumn&&"monthView"===e&&t.showWeekNumbers||"monthView"===e&&!t.showWeekNumbers||"timelineMonthView"===e||"timelineDayView"==e||"timelineWeekView"==e)&&fe++,A[d]),s=((j=(j=C.width/f)<C.minwidth?C.minwidth/f:j)>C.maxwidth&&(j=C.maxwidth/f),(j-=L)<0&&(j=0),i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),Se=(C.pinned&&(s+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===C.displayfield&&(s+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&T%2!=0&&(s+=" "+i.toTP("jqx-grid-cell-alt")),0!=T||!w||"dayView"!==e&&"weekView"!==e||(s+=" "+i.toTP("jqx-grid-cell-alt")),(k>i.max||k<i.min)&&(s+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(s+=" "+i.toTP("jqx-cell-rtl")),""),ue=i.dataview.generatekey(),B=x+ge,h=(i.resources&&"none"==i.resources.orientation&&(B=-1),'<td data-key="'+ue+'" data-view="'+(B=0==i._resources.length?-1:B)+'" data-date="'+k.toString()+'" role="gridcell" '+Se+' style="max-width:'+j+"px; width:"+j+"px;  height:"+n+"px;");if(0!=T||!w||"dayView"!==e&&"weekView"!==e||(h='<td  data-key="'+ue+'" data-view="'+B+'" data-end-date="'+ke.jqx.scheduler.utilities.getEndOfDay(k).toString()+'" data-date="'+k.clearTime().toString()+'" role="gridcell" '+Se+' style="max-width:'+j+"px; width:"+j+"px; height:"+o+"px;"),"monthView"==e&&t.monthRowAutoHeight&&0<I.length&&I[T]&&"auto"!=I[T]&&n<I[T]&&(h='<td data-key="'+ue+'" data-view="'+B+'" data-date="'+k.toString()+'" role="gridcell" '+Se+' style="max-width:'+j+"px; width:"+j+"px;  height:"+I[T]+"px;"),i.date.month()!=k.month()&&"monthView"===e&&t.showOtherMonthDays,i.resources&&0<i._resources.length&&i.resources.colorScheme&&"none"!==i.resources.orientation&&(xe=q="",q=y[x+ge-1],q=(0!=T||!w||"dayView"!==e&&"weekView"!==e?i.hexToRgba(y[x+ge-1],.3):i.shadeColor(y[x+ge-1],.3)).toString(),0==T&&w&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||C.timeColumn||!1!==t.showWorkTime&&(be=1,Ae=5,Te=8,_e=18,t.workTime&&(be=t.workTime.fromDayOfWeek||0,Ae=t.workTime.toDayOfWeek||0,Te=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,_e=t.workTime.toHour||8),k.dayOfWeek()>=be&&k.dayOfWeek()<=Ae&&k.hour()>=Te&&k.hour()<_e&&(q=i.hexToRgba(y[x+ge-1],.1).toString())),h=h+"background: "+q+";border-color: "+(xe=y[ge+x-1])+";"),d!=r-1||1!=r||i.rtl||(h+="border-right-color: transparent;"),C.timeColumn&&!C.hidden&&"monthView"===e){s=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(s+=" "+i.toTP("jqx-scheduler-week-number-column"),1<i.tableRows&&(s=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(s+=" "+i.toTP("jqx-cell-rtl")),0!==k.minute()){me++;continue}h='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+k.toString()+'" role="gridcell" style="max-width:'+j+"px; width:"+j+"px;";d!=r-1||1!=r||i.rtl?i.rtl&&0==d&&(h+="border-left-color: transparent;"):h+="border-right-color: transparent;",d==r-1&&i.rtl&&(h+="border-right-color: transparent;")}if(!C.timeColumn||C.hidden||"dayView"!==e&&"weekView"!==e)0<T&&(z="border-left-width: 1px;",h+=z=i.rtl&&0==d&&"monthView"==e&&t.showWeekNumbers?"border-left-width: 0px;":z);else{s=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(1<i.tableRows&&(s=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(s+=" "+i.toTP("jqx-cell-rtl")),0<T){if(0!==k.minute()){me++;continue}h='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+k.toString()+'" rowspan='+u+' role="gridcell" '+Se+' style="max-width:'+j+"px; width:"+j+"px;";d!=r-1||1!=r||i.rtl?i.rtl&&0==d&&(h+="border-left-color: transparent;"):h+="border-right-color: transparent;"}else i.resources&&"none"==i.resources.orientation&&(B=-1),0!=T||!w||"dayView"!==e&&"weekView"!==e||(h='<td data-view="'+B+'" data-time-slot="true" data-end-date="'+ke.jqx.scheduler.utilities.getEndOfDay(k).toString()+'" data-date="'+k.toString()+'" role="gridcell" '+Se+' style="max-width:'+j+"px; width:"+j+"px;"),(d==r-1&&1==r&&!i.rtl||0==d&&1==r&&i.rtl)&&(h+="border-right-color: transparent;"),i.rtl&&(h+="border-left-width: 1px;"),1<i.tableRows&&(h=h+"background: "+q+";border-color: "+xe+";")}"left"!=C.cellsalign&&("right"===C.cellsalign?s+=" "+i.toTP("jqx-right-align"):s+=" "+i.toTP("jqx-center-align")),C.timeColumn||i.rowinfo[_.uid]&&i.rowinfo[_.uid].selected&&i.editKey!==_.uid&&"none"!==i.selectionMode&&(s=(s=(s+=" "+i.toTP("jqx-grid-cell-selected"))+" "+i.toTP("jqx-fill-state-pressed"))+" "+i.toTP("jqx-scheduler-cell-selected")),C.hidden?(h+="display: none;",i._hiddencolumns=!0):(pe+=L+j,0!=me||i.rtl||(h+="border-left-width: 0px;"),me++),0==T&&w&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||(s+=" "+i.toTP("jqx-grid-cell-nowrap"),T%2!=1||C.timeColumn||(s+=" "+i.toTP("jqx-scheduler-middle-cell")),C.timeColumn||!1!==t.showWorkTime&&(be=1,Ae=5,Te=8,_e=18,t.workTime&&(be=t.workTime.fromDayOfWeek||0,Ae=t.workTime.toDayOfWeek||0,Te=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,_e=t.workTime.toHour||8),k.dayOfWeek()>=be&&k.dayOfWeek()<=Ae&&k.hour()>=Te&&k.hour()<_e?s+=" "+i.toTP("jqx-scheduler-work-time-cell"):s+=" "+i.toTP("jqx-scheduler-not-work-time-cell")));var R,z="",H=("monthView"===e?(i.touchDevice||C.timeColumn||(s+=" "+i.toTP("jqx-top-align")),B="dd",z=k.toDate(),R=i.toTP("jqx-scheduler-month-outer-cell")+" ",H=i.toTP("jqx-scheduler-month-weekend-cell"),i.date.month()==k.month()&&(R=""),k.isWeekend()?s+=" "+H:H="",1===z.getDate()&&(B="MMM dd"),z=i.touchDevice?16<n?"<div class='"+R+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+ke.jqx.dataFormat.formatdate(z,B,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+R+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+ke.jqx.dataFormat.formatdate(z,B,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":16<n?"<div class='"+R+i.toTP("jqx-scheduler-month-cell")+"'>"+ke.jqx.dataFormat.formatdate(z,B,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+R+i.toTP("jqx-scheduler-month-cell")+"'>"+ke.jqx.dataFormat.formatdate(z,B,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"):"timelineWeekView"!==e&&"timelineDayView"!==e&&"timelineMonthView"!==e||(s+=" "+i.toTP("jqx-right-align jqx-bottom-align"),z="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>"),0!=T||!w||"dayView"!==e&&"weekView"!==e||C.timeColumn||(s=(s+=" "+i.toTP("jqx-top-align"))+" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(s+=" "+i.toTP("jqx-rtl")),z=k.toDate(),z="<span>"+ke.jqx.dataFormat.formatdate(z,"dd",i.schedulerLocalization)+"</span>"),C.cellsFormat);C.timeColumn&&!C.hidden?(z=k.toDate(),C.timeZone&&(z=(z=k.clone().toTimeZone(C.timeZone)).toDate()),t.timeRuler&&t.timeRuler.formatString?H=t.timeRuler.formatString:C.timeColumn.format||(H=0==z.getHours()||12==z.getHours()?"hh tt":"hh:mm"),ke.jqx.dataFormat.isDate(z)&&(z=ke.jqx.dataFormat.formatdate(z,H,i.schedulerLocalization)),T<ne&&(i.rtl?s+=" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):s+=" "+i.toTP("jqx-scheduler-time-column-header-cell"),z=""),T<ne&&(C._text&&(s+=" "+i.toTP("jqx-bottom-align")),t.timeRuler&&t.timeRuler.timeZones&&0<t.timeRuler.timeZones.length&&d<t.timeRuler.timeZones.length&&(z=C._text)),"monthView"==e&&(z=k.weekOfYear(i.schedulerLocalization.firstDay))):""!=H&&ke.jqx.dataFormat&&(ke.jqx.dataFormat.isDate(z)?z=ke.jqx.dataFormat.formatdate(z,H,i.schedulerLocalization):(ke.jqx.dataFormat.isNumber(z)||!isNaN(parseFloat(z))&&isFinite(z))&&(z=ke.jqx.dataFormat.formatnumber(z,H,i.schedulerLocalization))),""!=C.cellclassname&&C.cellclassname&&("string"==typeof C.cellclassname?s+=" "+C.cellclassname:(R=C.cellclassname(T,C.datafield,z,_))&&(s+=" "+R)),""!=C.cellsRenderer&&C.cellsRenderer&&(B=J.indexOf(_),z=C.cellsRenderer(B,C.datafield,z,_)),se+=h=(h+='" class="'+s+'">')+z+"</td>"}0==O&&(i.table[0].style.width=pe+2+"px",i.pinnedtable[0].style.width=pe+2+"px",O=pe),c+=se+="</tr>",i.rowinfo[_.uid]?"row"in i.rowinfo[_.uid]||(i.rowinfo[_.uid].row=_):i.rowinfo[_.uid]={row:_}}}i.table.html(c+="</table>"),i.pinnedtable.html(c),i.table[0].rows=i.table[0].firstChild.rows;var $=ke.jqx.browser.msie&&ke.jqx.browser.version<9,De=null;if(!w||"dayView"!==e&&"weekView"!==e||1!=i.tableRows)i.pinnedtable[0].style.display="none";else if(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=o+"px",!$)if(1==i.tableRows){i.oldRow=i.table[0].rows[0];try{i.table[0].rows[0]=i.pinnedtable.find("tr")[0]}catch(e){}De=i.pinnedtable.find("tr")[0],i.pinnedTableRow=De}else{i.oldRow=i.table[0].rows[1];try{i.table[0].rows[1]=i.pinnedtable.find("tr")[1]}catch(e){}De=i.pinnedtable.find("tr")[1],i.pinnedTableRow=De}for(var ae=ke(i.table[0].firstChild),g=ke(i.pinnedtable[0].firstChild),je=(i._table=ae,i._pinnedtable=g,ke.jqx.browser.msie&&ke.jqx.browser.version<10&&(i._table[0].style.width=O+"px",i._pinnedtable[0].style.width=O+"px"),0===l&&(i._table[0].style.width=2+O+"px",i._pinnedtable[0].style.width=2+O+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0,i.table[0].rows.length),T=0;T<je;T++){var qe=i.table[0].rows[T];if(!(qe=0==T&&De?De:qe).getAttribute("data-group-row")){(_=new Ce).aboveRow=null,_.belowRow=null,0<i.rows.length&&(_.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=_),_.element=qe,i.rows.push(_);for(d=0;d<qe.cells.length;d++){var P=qe.cells[d];P.getAttribute("data-time-slot")||"none"===P.style.display||0<=P.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[_.cells.length]||(i.columnCells[_.cells.length]=new Array),i.columnCells[_.cells.length].push(P),0==i.cellWidth&&(i.cellWidth=P.clientWidth),0==i.cellHeight&&(1==je||1<T)&&(i.cellHeight=P.clientHeight),"monthView"==i._views[i._view].type&&null==_.top&&(_.top=parseInt(ke(P).position().top)),_.cells.push(P),i.rowByCell[P.getAttribute("data-key")]=_)}}}0===l&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(V,F),("none"!=i.pinnedtable[0].style.display||("dayView"==e||"weekView"==e)&&1<i.tableRows)&&i._updateScrollbars(i.host.height()),"monthView"===e&&t.monthRowAutoHeight&&(0==I.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}}function Ce(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}},showAppointmentsByResource:function(e){for(var t,i=this,o=0;o<i.uiappointments.length;o++){var n=i.uiappointments[o];if(n.resourceId==e&&(n.hidden=!1,n.hiddenByResourceId=!1,n.exceptions))for(var s=0;s<n.exceptions.length;s++)n.exceptions[s].hiddenByResourceId=!1}i._resourcesElements&&(t=i.getColors(i._resources.indexOf(e)),i._resourcesElements.top[e].attr("data-toggle","on"),i._resourcesElements.top[e].css("background",t.background),i._resourcesElements.bottom[e].attr("data-toggle","on"),i._resourcesElements.bottom[e].css("background",t.background)),i.hiddenResources&&delete i.hiddenResources[e],i._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var n=0;n<o.exceptions.length;n++)o.exceptions[n].hiddenByResourceId=!0,o.exceptions[n].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(e,t){var i=this;if(!i._appupdating){for(var o=new Array,n=0;n<this.uiappointments.length;n++){var s=this.uiappointments[n];if(!s.hidden||null!=s.recurrencePattern){ke.jqx.scheduler.utilities.rangeIntersection(s.from,s.to,e,t)&&!s.recurrencePattern&&o.push(s),s.renderedAppointments=new Array;var r=!1;if(s.recurrencePattern){for(var a=s.getOccurrences(e,t),l=s.exceptions,d=0;d<a.length;d++){var h=a[d];if(!h.hidden){for(var c=!0,u=0;u<l.length;u++){var p=(m=l[u]).occurrenceFrom||m;if(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!r&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(p.clearTime())&&(i.selectedJQXAppointment=m,r=!0),p.clearTime().equals(h.from.clearTime())){c=!1;break}}c&&(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!r&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(h.occurrenceFrom.clearTime())&&(i.selectedJQXAppointment=h,r=!0),s.renderedAppointments[h.id]=h,o.push(h))}}for(u=0;u<l.length;u++){var m,p=(m=l[u]).occurrenceFrom?m.from:m,f=s.createOccurrence(p);m.occurrenceFrom&&(m.cloneAppointmentAttributes(f),m.hidden)||f!=s&&(o.push(m),s.renderedAppointments[m.id]=m)}}}}var g=new Array;this.tabKeyAppointments=new Array;for(n=0;n<o.length;n++){var w=o[n];g.push(w),this.tabKeyAppointments.push(w)}g.sort(this._sortAppointmentsByFrom),0<this._resources.length?this.tabKeyAppointments.sort(function(e,t){return i._sortAppointmentsByResourceId(e,t,i)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=g}},_renderDayWeekAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=new Array,n=this.rows,s=e.showAllDayRow,M=e.getMinutesPerScale();t.timeRuler&&null!=t.timeRuler.showAllDayRow&&(s=t.timeRuler.showAllDayRow);for(var r=0;r<this.appointmentsToRender.length;r++){function a(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var l=this.appointmentsToRender[r],d=l.from,h=l.to,c=ke.jqx.scheduler.utilities.getEndOfDay(h),V=d.day(),u=(l.allDay,new Array),p=new Array,F=l.resourceId,m=e._resources.indexOf(F),f=(e.resources&&"none"==e.resources.orientation&&(m=-1),d.toDate().valueOf()),g=h.toDate().valueOf();c.toDate().valueOf();if(!l.allDay&&l.duration().days()<1||!s){var w=h.toDate();0==w.getHours()&&w.getMinutes();for(var v=0;v<e.columnCells.length;v++)if(e.columnCells[v]){var y=e.columnCells[v];e.rtl&&(y=e.columnCells[e.columnCells.length-1-v]);for(var x,b=0;b<y.length;b++)y[b].getAttribute("data-end-date")||(_=y[b].getAttribute("data-date"),S=e._getDateByString(_),(x=e._getDateByString(_)).setMinutes(x.getMinutes()+M-1),T=S.valueOf(),x=x.valueOf(),h<T||!(f<=T&&T<g||f<=x&&x<g||T<=f&&g<=x)||-1!=m&&1+m!=y[b].getAttribute("data-view")||(V!=S.getDate()&&(u.sort(a),p.push(u),u=new Array,V=d.addDays(1).day()),u.push({cell:y[b],date:S})))}u.sort(a),p.push(u);for(var I,A=new Array,v=0;v<p.length;v++)0!=(y=p[v]).length&&(j=e.cellWidth,q=y[y.length-1].cell.offsetTop+e.cellHeight,C=y[0].cell.offsetLeft,k=y[0].cell.offsetTop,I=e.getMinutesPerScale(),w=new ke.jqx.date(y[y.length-1].date,e.timeZone).addMinutes(I),B={cells:y,x:C,y:k,height:q-k,width:j,appointment:l,from:new ke.jqx.date(y[0].date,e.timeZone),to:w},A.push(B),i.push(B));l.elements=A,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}else{y=n[0].cells;1<this.tableRows&&(y=n[m*(n.length/e.tableRows)].cells);for(b=0;b<y.length;b++){var T,_=y[b].getAttribute("data-date"),E=e._getDateByString(_),S=new ke.jqx.date(E,e.timeZone);c<(T=(S=ke.jqx.scheduler.utilities.getEndOfDay(S)).toDate().valueOf())||d<=S&&S<=c&&(-1!=m&&1+m!=y[b].getAttribute("data-view")||(0==u.length&&(S=ke.jqx.scheduler.utilities.getStartOfDay(S)),u.push({cell:y[b],date:S})))}u.sort(a),p.push(u);for(A=new Array,v=0;v<p.length;v++){if(0==(y=p[v]).length)break;var D=ke(y[0].cell).position(),j=ke(y[y.length-1].cell).position().left+this.cellWidth-D.left,q=ke(y[y.length-1].cell).position().top,C=D.left,k=D.top,D=(this.rtl&&(C=(D=ke(y[y.length-1].cell).position()).left,j=ke(y[0].cell).position().left+this.cellWidth-D.left),y[y.length-1].date),D=new ke.jqx.date(ke.jqx.scheduler.utilities.getEndOfDay(D),e.timeZone),B={cells:y,x:C,y:k,height:q-k+this.cellHeight,width:j,appointment:l,from:ke.jqx.scheduler.utilities.getStartOfDay(new ke.jqx.date(y[0].date,e.timeZone)),to:D};A.push(B),o.push(B)}l.elements=A,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}}var O=this.getViewStart(),W=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var R=new Array,z=O,H=0;z<W;){R[H]=new Array;for(v=0;v<i.length;v++)(P=i[v]).from.day()==z.day()&&(P.column=-1,P.columnSpan=1,R[H].push(P));H++,z=z.addDays(1)}for(v=0;v<R.length;v++)this._renderAppointmentsInDay(R[v]);this._renderAllDayAppointments(o)}else for(b=0;b<this._resources.length;b++){for(var N=this._resources[b],R=new Array,z=O,H=0;z<W;){R[H]=new Array;for(var P,v=0;v<i.length;v++)(P=i[v]).from.day()==z.day()&&(P.column=-1,P.columnSpan=1,P.appointment.resourceId==N&&R[H].push(P));H++,z=z.addDays(1)}for(v=0;v<R.length;v++)this._renderAppointmentsInDay(R[v]);for(var L=new Array,v=0;v<o.length;v++)o[v].appointment.resourceId==N&&L.push(o[v]);this._renderAllDayAppointments(L)}},_renderAllDayAppointments:function(e){var t=this,M=this.showAllDayRow,i=this._views[this._view];if((M=i.timeRuler&&null!=i.timeRuler.showAllDayRow?i.timeRuler.showAllDayRow:M)&&0!=e.length){var o=e,V=this.getMaxAllDayAppointments(e);1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight;for(var n=0;n<e.length;n++){(d=e[n]).row=-1;(l=this.getCollisionAppointments(d,e)).sort(this._sortAppointmentsByFrom);var F=l.indexOf(d);if(0<=F)for(var s=F;s<l.length;s++)l[s].row=-1;for(var r=0;r<V;r++){var a,I,E=r;for(u in l){if("indexOf"==u)break;-1!=(c=l[u]).row||this.isBusyRow(E,l)||(c.row=E,a=V,(I=this.getMaxAllDayAppointments(l))<a&&(a=I),c.rowsCount=a)}}}for(r=0;r<o.length;r++){var l,d=o[r],h=((l=this.getCollisionAppointments(d,o)).sort(this._sortAppointmentsByFrom),1);for(u in l){if("indexOf"==u)break;var O=l[u],h=Math.max(h,O.rowsCount)}for(u in l){if("indexOf"==u)break;(O=l[u]).rowsCount=h}if(1==l.length)d.rowSpan=h;else{for(var c,W=0,N=!0,s=d.row;s<h;s++){for(var u in l){if("indexOf"==u)break;(c=l[u])!=d&&c.row==s&&(N=!1)}if(!N)break;W++}d.rowSpan=W}}var p=t.appointmentsMinHeight+2;t.isTouchDevice()&&(p=t.touchAppointmentsMinHeight+2);for(var m=0;m<o.length;m++){var L,f,g,w=p,w=((d=o[m]).height=p,w*d.row);d.y=18+d.y+w+4*d.row,d.x+=3,d.width-=8,0==d.appointment.from.hour()&&23==d.appointment.to.hour()||(w=this.getViewStart(),L=this.getViewEnd(),t.rtl?(f=parseFloat(t.cellWidth/24)*d.appointment.to.hour()+parseFloat(t.cellWidth/48)*(d.appointment.to.minute()/30),g=parseFloat(t.cellWidth/24)*d.appointment.from.hour()+parseFloat(t.cellWidth/48)*(d.appointment.from.minute()/30),0<f&&(f=t.cellWidth-f),d.appointment.from<w&&(g=0),d.appointment.to>L&&(f=0),"exactTime"==i.appointmentsRenderMode&&(d.x+=f,d.width-=f,d.width-=g),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width,"exactTimeStatus"==i.appointmentsRenderMode&&(d.timewidth-=f,d.timewidth-=g),d.timex=f):(f=parseFloat(t.cellWidth/24)*d.appointment.from.hour()+parseFloat(t.cellWidth/48)*(d.appointment.from.minute()/30),d.appointment.from<w&&(f=0),d.timewidth=d.width,d.timex=f,g=parseFloat(t.cellWidth/24)*d.appointment.to.hour()+parseFloat(t.cellWidth/48)*(d.appointment.to.minute()/30),d.appointment.to>L&&(g=0),d.timewidth-=f,0<g&&(d.timewidth-=t.cellWidth,d.timewidth+=g),"exactTime"==i.appointmentsRenderMode&&(d.width=d.timewidth,d.x+=f)))}for(m=0;m<o.length;m++){var Z,v=o[m],y="",x="auto",i=this._views[this._view],b=v.appointment.from,A=v.appointment.to,T=x=i.timeRuler&&i.timeRuler.formatString?i.timeRuler.formatString:x,x=("auto"===x&&(T=0==b.hour()&&0==b.minute()||12==b.hour()&&0==b.minute()?"hh tt":"hh:mm",Z=0==A.hour()&&0==A.minute()||12==A.hour()&&0==A.minute()?"hh tt":"hh:mm"),b.toString(T)),b=A.toString(Z),T=v.appointment.duration(),A=v.appointment.allDay||23===T.hours&&59===T.minutes&&59===T.seconds,T=v.appointment.background,_=v.appointment.subject||"(No Title)",S=v.appointment.color,D=v.appointment.resourceId,j=t.getColors(t._resources.indexOf(D)),D=" data-resourceId='"+D+"' ",q=v.appointment.borderColor,C=v.appointment.location,U=(0<C.length&&(C=", "+C),T=T||j.background,q=q||j.border,S=S||j.color,v.appointment.isRecurrentAppointment()),X=v.appointment.isException(),k=(A&&(b=x=""),""),B=t.toTP("jqx-scheduler-appointment-status"),R="",z=t.statuses[v.appointment.status],H=!1,P=(z&&(H="transparent"!=z&&(R="<div style='background: "+z+"; border-right-color: "+q+"' class='"+B+"'></div>","tentative"==z&&(R="<div style='background-color: "+q+"; border-right-color: "+q+"' class='"+(B=t.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),t.toTP("jqx-scheduler-appointment-duration-status")),P="<div style='width: "+v.timewidth+"px; left: "+v.timex+"px;' class='"+P+"'></div>",G=(A&&(P=""),""),z=("exactTimeStatus"!=i.appointmentsRenderMode&&(P=""),t.rtl&&(R="<div style='background: "+z+"; border-left-color: "+q+"' class='"+(B=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",G=R="tentative"==z?"<div style='background-color: "+q+"; border-left-color: "+q+"' class='"+(B=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":R,R=""),""),B=A?_+C:_+C+P,_=(!t.renderAppointment||(A=t.renderAppointment({appointment:v.appointment.boundAppointment,textColor:S,background:T,borderColor:q,html:B,cssClass:"",style:"",width:v.width,height:v.height,view:t._views[t._view].type}))&&((y=A.html)!=B&&(B=y),S=A.textColor,T=A.background,q=A.borderColor,A.cssClass&&(z=A.cssClass+" "),""!=A.style&&(T=(j=t.getAppointmentColors(A.style)).background,q=j.border,S=j.color)),""===k&&(k=H?"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'>"+R+"<div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+B+"</div>"+G+"</div>":"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'><div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+B+"</div></div>"),""),j=(t.rtl&&(_=t.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),y=X?(P="white"==S.toLowerCase()?t.toTP("jqx-icon-recurrence-exception-white"):t.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+v.appointment.id+"'"+D+"class='"+_+z+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+v.x+"px; top: "+v.y+"px; width: "+v.width+"px; line-height: "+v.height+"px; height: "+v.height+"px; border-color:"+q+"; color:"+S+"; background:"+T+";'><div class='"+P+"'></div>"+k+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):U?(A="white"==S.toLowerCase()?t.toTP("jqx-icon-recurrence-white"):t.toTP("jqx-icon-recurrence"),"<div data-key='"+v.appointment.id+"'"+D+"class='"+_+z+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+v.x+"px; top: "+v.y+"px; width: "+v.width+"px; line-height: "+v.height+"px; height: "+v.height+"px; border-color:"+q+"; color:"+S+"; background:"+T+";'><div class='"+A+"'></div>"+k+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+v.appointment.id+"'"+D+"class='"+_+z+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+v.x+"px; top: "+v.y+"px; width: "+v.width+"px; line-height: "+v.height+"px; height: "+v.height+"px; border-color:"+q+"; color:"+S+"; background:"+T+";'>"+k+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",ke(y));1==this.tableRows?j.appendTo(this.pinnedtable):j.appendTo(this.table),v.element=j,this.appointmentTooltips&&(v.appointment.tooltip?j[0].setAttribute("title",v.appointment.tooltip):(H=v.appointment.subject,(H=x?x+" - "+b+" "+H:H)&&((C=v.appointment.location)&&(H+="\n"+C),j[0].setAttribute("title",H))))}}},_renderAppointmentsInDay:function(e,M){if(0!=e.length){var t,i=this,o=this._views[this._view],n=e,s=(this.getViewStart(),this.getViewEnd(),0),V=(o.timeRuler?(s=this.columns.records[1].width,o.timeRuler.timeZones&&(s=this.columns.records[1+o.timeRuler.timeZones.length].width)):s=this.columns.records[1].width,s/(t=this.getMaxColumnsInADay(e)));if(!(V<0)){for(var r=0;r<e.length;r++){(u=e[r]).column=-1;(h=this.getCollisionAppointments(u,e)).sort(this._sortAppointmentsByFrom);var F=h.indexOf(u);if(0<=F)for(var a=F;a<h.length;a++)h[a].column=-1;for(var l=0;l<t;l++){var d,I,E=l;for(f in h){if("indexOf"==f)break;-1!=(m=h[f]).column||this.isBusyColumn(E,h)||(m.column=E,d=t,(I=this.getMaxColumnsInADay(h))<d&&(d=I),m.columnsCount=d)}}}for(l=0;l<n.length;l++){var h,c,u=n[l],p=((h=this.getCollisionAppointments(u,n)).sort(this._sortAppointmentsByFrom),1);for(f in h){if("indexOf"==f)break;null!=(c=h[f]).columnsCount&&(p=Math.max(p,c.columnsCount))}for(f in h){if("indexOf"==f)break;(c=h[f]).columnsCount=p}if(1==h.length)u.columnSpan=p;else{for(var m,O=0,W=!0,a=u.column;a<p;a++){for(var f in h){if("indexOf"==f)break;null!=(m=h[f]).column&&m!=u&&m.column==a&&(W=!1)}if(!W)break;O++}u.columnSpan=O}}for(var g=0;g<n.length;g++){var w,v,y,x=s/n[g].columnsCount,x=((u=n[g]).width=x*u.columnSpan-5,x*u.column);u.x=2+u.x+x,u.height-=5,u.y+=1,"exactTime"==o.appointmentsRenderMode&&(x=i.getMinutesPerScale(),w=u.appointment.from.minute()%x!=0?(v=u.appointment.from.minute()%x,parseFloat(i.cellHeight/x)*v):0,u.appointment.to.minute()%x!=0?(v=u.appointment.to.minute()%x,y=i.cellHeight-parseFloat(i.cellHeight/x)*v,u.to.day()!==u.appointment.to.day()&&(y=0)):y=0,u.y+=w,u.height-=w,u.height-=y)}for(g=0;g<n.length;g++){var N,b=n[g],A="",T="auto",o=this._views[this._view],_=b.appointment.from,S=b.appointment.to,D=T=o.timeRuler&&o.timeRuler.formatString?o.timeRuler.formatString:T,T=("auto"===T&&(D=0==_.hour()&&0==_.minute()||12==_.hour()&&0==_.minute()?"hh tt":"hh:mm",N=0==S.hour()&&0==S.minute()||12==S.hour()&&0==S.minute()?"hh tt":"hh:mm"),_.toString(D),S.toString(N),b.appointment.background),_=b.appointment.subject||"(No Title)",D=b.appointment.location||"",S=b.appointment.color,j=b.appointment.resourceId,q=i.getColors(i._resources.indexOf(j)),j=" data-resourceId='"+j+"' ",C=b.appointment.borderColor,L=(T=T||q.background,C=C||q.border,S=S||q.color,b.appointment.isRecurrentAppointment()),Z=b.appointment.isException(),k="",B=i.toTP("jqx-scheduler-appointment-status"),R="",z=i.statuses[b.appointment.status],H=!1,P=(z&&(H="transparent"!=z&&(R="<div style='background: "+z+"; border-right-color: "+C+"' class='"+B+"'></div>","tentative"==z&&(R="<div style='background-color: "+C+"; border-right-color: "+C+"' class='"+(B=i.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),""),z=(i.rtl&&(R="<div style='background: "+z+"; border-left-color: "+C+"' class='"+(B=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",P=R="tentative"==z?"<div style='background-color: "+C+"; border-left-color: "+C+"' class='"+(B=i.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":R,R=""),""),B=D?_+"<br/>"+D:_,_=(!i.renderAppointment||(_=i.renderAppointment({appointment:b.appointment.boundAppointment,textColor:S,background:T,borderColor:C,html:B,cssClass:"",style:"",width:b.width,height:b.height,view:i._views[i._view].type}))&&((A=_.html)!=B&&(B=A),S=_.textColor,T=_.background,C=_.borderColor,_.cssClass&&(z=_.cssClass+" "),""!=_.style&&(T=(q=i.getAppointmentColors(_.style)).background,C=q.border,S=q.color)),""===k&&(k=H?"<div class='"+i.toTP("jqx-scheduler-appointment-content")+"'>"+R+"<div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+B+"</div>"+P+"</div>":"<div class='"+i.toTP("jqx-scheduler-appointment-content")+"'><div class='"+i.toTP("jqx-scheduler-appointment-inner-content")+"'>"+B+"</div></div>"),""),R=(i.rtl&&(_=i.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),A=Z?(q="white"==S.toLowerCase()?i.toTP("jqx-icon-recurrence-exception-white"):i.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+b.appointment.id+"'"+j+"class='"+_+z+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+b.x+"px; top: "+b.y+"px; width: "+b.width+"px; height: "+b.height+"px; border-color:"+C+"; color:"+S+"; background:"+T+";'><div class='"+q+"'></div>"+k+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):L?(H="white"==S.toLowerCase()?i.toTP("jqx-icon-recurrence-white"):i.toTP("jqx-icon-recurrence"),"<div data-key='"+b.appointment.id+"'"+j+"class='"+_+z+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+b.x+"px; top: "+b.y+"px; width: "+b.width+"px; height: "+b.height+"px; border-color:"+C+"; color:"+S+"; background:"+T+";'><div class='"+H+"'></div>"+k+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):"<div data-key='"+b.appointment.id+"'"+j+"class='"+_+z+i.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+b.x+"px; top: "+b.y+"px; width: "+b.width+"px; height: "+b.height+"px; border-color:"+C+"; color:"+S+"; background:"+T+";'>"+k+"<div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+i.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>",ke(A));R.appendTo(this.table),b.element=R,this.appointmentTooltips&&(b.appointment.tooltip?R[0].setAttribute("title",b.appointment.tooltip):(P=b.appointment.subject)&&((D=b.appointment.location)&&(P+="\n"+D),R[0].setAttribute("title",P)))}}}},getCollisionAppointments:function(e,t){for(var i=new Array,o=e.from,n=e.to,s=0;s<t.length;s++){var r=t[s],a=r.from,l=r.to;if(ke.jqx.scheduler.utilities.rangeIntersection(o,n,a,l)&&(i.push(r),30<i.length))break}return i},getAllDayCollisionAppointments:function(e,t){for(var i=new Array,o=ke.jqx.scheduler.utilities.getStartOfDay(e.from),n=ke.jqx.scheduler.utilities.getEndOfDay(e.to),s=0;s<t.length;s++){var r=t[s],a=ke.jqx.scheduler.utilities.getStartOfDay(r.from),l=ke.jqx.scheduler.utilities.getEndOfDay(r.to);ke.jqx.scheduler.utilities.rangeIntersection(o,n,a,l)&&i.push(r)}return i},_renderAppointments:function(e,t){var i,o=this;o._appupdating||(o.table.find(".jqx-scheduler-appointment").remove(),o.pinnedtable.find(".jqx-scheduler-appointment").remove(),"dayView"===(i=o._views[o._view].type)||"weekView"===i?o._renderDayWeekAppointments(e,t):"monthView"===i?o._renderMonthAppointments(e,t):"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||o._renderTimelineAppointments(e,t),o.selectedJQXAppointment&&o._selectAppointment(o.selectedJQXAppointment))},_renderTimelineAppointments:function(e,t){for(var i=this,o=i._views[i._view].type,n=i._views[i._view],s=new Array,r=(this.rows,this.cellHeight),a=this.cellWidth,l=i.getMinutesPerScale(),d=0;d<this.appointmentsToRender.length;d++){for(var h=this.appointmentsToRender[d],c=h.from,u=h.to,p=(i._getDateByString,new Array),m=c.toDate().valueOf(),f=u.toDate().valueOf(),g=("timelineMonthView"===o&&(m=c.clearTime().toDate().valueOf()),i.rows[0]),c=h.resourceId,w=i._resources.indexOf(c),v=(0<i._resources.length&&"horizontal"!==i.resources.orientation&&1<=w&&(g=i.rows[w]),i.resources&&"none"==i.resources.orientation&&(w=-1,g=i.rows[0]),g.cells),y=0;y<v.length;y++){var x=v[y].getAttribute("data-date"),b=(v[y].appointments=new Array,i._getDateByString(x)),A=b.valueOf(),x=i._getDateByString(x),x=(x.setMinutes(x.getMinutes()+l-1),x.valueOf());u<A||!(m<=A&&A<f||m<=x&&x<f||A<=m&&m<=x&&f<=x)||-1!=w&&1+w!=v[y].getAttribute("data-view")||(p.push({cell:v[y],date:b}),g=k)}p.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var T,_,S,D,j,c=new Array;0!=(v=p).length&&(T=i.appointmentsMinHeight,i.isTouchDevice()&&(T=i.touchAppointmentsMinHeight),n.appointmentHeight&&(T=n.appointmentHeight),D=ke(v[0].cell).position(),T=T,_=ke(v[v.length-1].cell).position().left-D.left+a,j=D.left,S=D.top,i.rtl&&(D=ke(v[v.length-1].cell).position(),_=ke(v[0].cell).position().left-D.left+a,j=D.left,S=D.top),D=new ke.jqx.date(v[v.length-1].date,i.timeZone).addMinutes(l),"timelineMonthView"===o&&(D=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(v[v.length-1].date,i.timeZone))),j={cellX:j,cellY:S,cellHeight:r,cells:v,x:j,y:S,height:T,width:_,appointment:h,from:new ke.jqx.date(v[0].date,i.timeZone),to:D},"exactTime"===n.appointmentsRenderMode&&(j.from=h.from,j.to=h.to),c.push(j),s.push(j),h.elements=c,h.rootAppointment&&(h.rootAppointment.elements=h.rootAppointment.elements.concat(h.elements)))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(s,e,t);else for(y=0;y<this._resources.length;y++){for(var q=this._resources[y],C=new Array,k=0;k<s.length;k++)s[k].appointment.resourceId==q&&C.push(s[k]);this._renderUITimelineAppointments(C,e,t)}},_renderUITimelineAppointments:function(e,M,V){(h=this)._views[h._view].type;var t=h._views[h._view],i=e,h=this,F=new Array,I=h.getMaxTimelineAppointments(e,F,M,V),o=h.appointmentsMinHeight;h.isTouchDevice()&&(o=h.touchAppointmentsMinHeight),t.appointmentHeight&&(o=t.appointmentHeight);for(var n=0;n<e.length;n++){(d=e[n]).row=-1;(l=h.getCollisionAppointments(d,e)).sort(h._sortAppointmentsByFrom);var E=l.indexOf(d);if(0<=E)for(var s=E;s<l.length;s++)l[s].row=-1;for(var r=0;r<I;r++){var a,O,W=r;if(30<r)break;for(p in l){if("indexOf"==p)break;if(30<p)break;-1!=(u=l[p]).row||h.isBusyRow(W,l)||(u.row=W,a=I,(O=h.getMaxTimelineAppointments(l,F,M,V))<a&&(a=O),u.rowsCount=a)}}}for(r=0;r<i.length;r++){var l,d=i[r],c=((l=h.getCollisionAppointments(d,i)).sort(h._sortAppointmentsByFrom),1);for(p in l){if("indexOf"==p)break;var N=l[p],c=Math.max(c,N.rowsCount)}for(p in l){if("indexOf"==p)break;(N=l[p]).rowsCount=c}if(1==l.length)d.rowSpan=c;else{for(var u,L=0,Z=!0,s=d.row;s<c;s++){for(var p in l){if("indexOf"==p)break;(u=l[p])!=d&&u.row==s&&(Z=!1)}if(!Z)break;L++}d.rowSpan=L}}for(var m=0;m<i.length;m++){var f,g,w,v=o,v=2+(3+((d=i[m]).height=v))*d.row,v=(d.y=d.y+v,d.x+=1,d.width-=5,h._views[h._view].type),t=h._views[h._view];"timelineMonthView"==v&&t.appointmentsRenderMode?0==d.appointment.from.hour()&&23==d.appointment.to.hour()||(h.rtl?(f=parseFloat(h.cellWidth/24)*d.appointment.to.hour()+parseFloat(h.cellWidth/48)*(d.appointment.to.minute()/30),w=parseFloat(h.cellWidth/24)*d.appointment.from.hour()+parseFloat(h.cellWidth/48)*(d.appointment.from.minute()/30),0<f&&(f=h.cellWidth-f),"exactTime"==t.appointmentsRenderMode&&(d.x+=f,d.width-=f,d.width-=w),d.appointment.duration().days()<1&&d.width<15&&(d.width=15),d.timewidth=d.width,d.timex=f):(f=parseFloat(h.cellWidth/24)*d.appointment.from.hour()+parseFloat(h.cellWidth/48)*(d.appointment.from.minute()/30),w=parseFloat(h.cellWidth/24)*d.appointment.to.hour()+parseFloat(h.cellWidth/48)*(d.appointment.to.minute()/30),d.timewidth=d.width,d.timex=f,d.timewidth-=f,d.timewidth-=h.cellWidth,d.timewidth+=w,"exactTime"==t.appointmentsRenderMode&&(d.width=d.timewidth,h.date.month()===d.appointment.from.month()?d.x+=f:d.width=f+d.timewidth,d.appointment.duration().days()<1&&d.width<15&&f+(d.width=15)>h.cellWidth&&(v=h.cellWidth-f-15,d.x+=v)))):t.appointmentsRenderMode&&"exactTime"==t.appointmentsRenderMode&&(v=h.getMinutesPerScale(),d.appointment.from.minute()%v!=0?(g=d.appointment.from.minute()%v,f=parseFloat(h.cellWidth/v)*g,h.rtl&&(f=parseFloat(h.cellWidth/v)*g)):f=0,d.appointment.to.minute()%v!=0?(g=d.appointment.to.minute()%v,w=h.cellWidth-parseFloat(h.cellWidth/v)*g,h.rtl&&(w=h.cellWidth-parseFloat(h.cellWidth/v)*g)):w=0,h.rtl?d.x+=w:d.x+=f,d.width-=f,d.width-=w)}for(var y=[],m=0;m<i.length;m++){var x,U,X,b,A,T,_,S,D,j,q,C,k,B,R,z="";(H=i[m]).y<0||(y.push(H),t=h._views[h._view],H.appointment.from,H.appointment.to,t.timeRuler&&t.timeRuler.formatString&&t.timeRuler.formatString,_=H.appointment.background,q=H.appointment.subject||"(No Title)",(R=H.appointment.location)&&1<R.length&&(R=", "+R),D=H.appointment.color,x=H.appointment.resourceId,C=h.getColors(h._resources.indexOf(x)),x=" data-resourceId='"+x+"' ",S=H.appointment.borderColor,_=_||C.background,S=S||C.border,D=D||C.color,U=H.appointment.isRecurrentAppointment(),X=H.appointment.isException(),j="",T=h.toTP("jqx-scheduler-appointment-status"),B="",k=!1,(A=h.statuses[H.appointment.status])&&(k="transparent"!=A&&(B="<div style='background: "+A+"; border-right-color: "+S+"' class='"+T+"'></div>","tentative"==A&&(B="<div style='background-color: "+S+"; border-right-color: "+S+"' class='"+(T=h.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),b="",h.rtl&&(B="<div style='background: "+A+"; border-left-color: "+S+"' class='"+(T=h.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",b=B="tentative"==A?"<div style='background-color: "+S+"; border-left-color: "+S+"' class='"+(T=h.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":B,B=""),A="",T=q+"<br/>"+R,h.renderAppointment&&(q=h.renderAppointment({appointment:H.appointment.boundAppointment,textColor:D,background:_,borderColor:S,html:T,cssClass:"",style:"",width:H.width,height:H.height,view:h._views[h._view].type}))&&((z=q.html)!=T&&(T=z),D=q.textColor,_=q.background,S=q.borderColor,q.cssClass&&(A=q.cssClass+" "),""!=q.style&&(_=(C=h.getAppointmentColors(q.style)).background,S=C.border,D=C.color)),""===j&&(j=k?"<div style='white-space:nowrap;' class='"+h.toTP("jqx-scheduler-appointment-content")+"'>"+B+"<div class='"+h.toTP("jqx-scheduler-appointment-inner-content")+"'>"+T+"</div>"+b+"</div>":"<div style='white-space:nowrap;' class='"+h.toTP("jqx-scheduler-appointment-content")+"'><div class='"+h.toTP("jqx-scheduler-appointment-inner-content")+"'>"+T+"</div></div>"),q="",h.rtl&&(q=h.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),z=X?(C="white"==D.toLowerCase()?h.toTP("jqx-icon-recurrence-exception-white"):h.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+H.appointment.id+"'"+x+"class='"+q+A+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+S+"; color:"+D+"; background:"+_+";'><div class='"+C+"'></div>"+j+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):U?(k="white"==D.toLowerCase()?h.toTP("jqx-icon-recurrence-white"):h.toTP("jqx-icon-recurrence"),"<div data-key='"+H.appointment.id+"'"+x+"class='"+q+A+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+S+"; color:"+D+"; background:"+_+";'><div class='"+k+"'></div>"+j+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+H.appointment.id+"'"+x+"class='"+q+A+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+H.x+"px; top: "+H.y+"px; width: "+H.width+"px; height: "+H.height+"px; line-height: "+H.height+"px; border-color:"+S+"; color:"+D+"; background:"+_+";'>"+j+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",(P=ke(z)).appendTo(this.table),H.element=P,this.appointmentTooltips&&(H.appointment.tooltip?P[0].setAttribute("title",H.appointment.tooltip):(B=H.appointment.subject)&&((R=H.appointment.location)&&(B+="\n"+R),P[0].setAttribute("title",B))))}for(var G=h.table.find(".jqx-scheduler-appointment"),m=0;m<y.length;m++){var H=y[m],P=ke(function(e){for(var t=0;t<G.length;t++)if(G[t].getAttribute("data-key")==e)return G[t]}(H.appointment.id));ke.each(H.cells,function(e){var t,a=ke(this.cell),l=H.cellY,d=(H.cellX,H.cellHeight);a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:P,appointment:H}),H.y+H.height>=l+d-12&&(P[0].style.visibility="hidden",0<(t=a.find(".jqx-icon-arrow-down")).length&&(t[0].style.display="block",t[0].mousedown=function(){h.openedMonthCellPopup&&h.openedMonthCellPopup.remove();for(var e=ke("<div></div>"),t=(new ke.jqx.date(a.attr("data-date"),h.timeZone),ke("<div class='"+h.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+h.toTP("jqx-icon-close")+"'></span></div>")),i=(t.height(16),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(h.toTP("jqx-widget-header")),e.addClass(h.toTP("jqx-widget")),e.addClass(h.toTP("jqx-window")),e.addClass(h.toTP("jqx-scheduler-month-cell-popup")),e.addClass(h.toTP("jqx-popup")),ke("<div></div>")),o=(e.append(t),e.append(i),i.addClass(h.toTP("jqx-widget-content")),a.width()),n=21,s=0;s<a[0].appointments.length;s++){var r=a[0].appointments[s].ui.clone(!0);r.css("left","3px"),r.css("top","0px"),r.css("margin-top","2px"),r.css("position","relative"),r.css("visibility","visible"),r.width(o-6),r.click(function(e){e=h.getJQXAppointmentByElement(h.getAppointmentElement(e.target));h._raiseEvent("appointmentClick",{appointment:e.boundAppointment})}),r.dblclick(function(e){e=h.getJQXAppointmentByElement(h.getAppointmentElement(e.target));e.readOnly||h.editRecurrenceDialog.jqxWindow("isOpen")||h._editDialog&&(!h._editDialog||h._editDialog.jqxWindow("isOpen"))||!1!==h._initDialog(e)&&h._openDialog(),h._raiseEvent("appointmentDoubleClick",{appointment:e.boundAppointment})}),n+=r.outerHeight()+4,i.append(r)}e.css("overflow","hidden"),e.css("position","absolute");t=h.table.height()-l-25,e.css("max-height",t=t<d?d:t),e.height(n),e.width(o),e.css("z-index","9999"),t=a.position();e.css("top",t.top),e.css("left",t.left),h.table.append(e),h.openedMonthCellPopup=e}))})}},_renderMonthAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=(this.rows,0);0<this.host.find(".jqx-scheduler-month-cell").length&&(o=ke(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var n=0;n<this.appointmentsToRender.length;n++){function s(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var r=this.appointmentsToRender[n],a=ke.jqx.scheduler.utilities.getStartOfDay(r.from),l=ke.jqx.scheduler.utilities.getEndOfDay(r.to),d=(r.allDay,new Array),h=new Array,M=a.toDate().valueOf(),V=l.toDate().valueOf(),c=-1,a=r.resourceId,u=e._resources.indexOf(a);e.resources&&"none"==e.resources.orientation&&(u=-1);for(var p=0;p<e.rows.length;p++)for(var m=e.rows[p].cells,f=0;f<m.length;f++){var g=m[f].getAttribute("data-date"),g=this._getDateByString(g),w=g.valueOf();l<w||(m[f].appointments=new Array,-1!=u&&1+u!=m[f].getAttribute("data-view")||M<=w&&w<V&&(c!=p&&-1!=c&&(d.sort(s),h.push(d),d=new Array),d.push({cell:m[f],date:g}),c=p))}d.sort(s),h.push(d);for(var v=new Array,p=0;p<h.length;p++){if(0==(m=h[p]).length)break;var y=e.appointmentsMinHeight,y=(e.isTouchDevice()&&(y=e.touchAppointmentsMinHeight),y=t.appointmentHeight?t.appointmentHeight:y),x=ke(m[m.length-1].cell).position().left,b=x-ke(m[0].cell).position().left+e.columns.records[0].width,A=(t.showWeekNumbers&&(b=x-ke(m[0].cell).position().left+e.columns.records[1].width),ke(m[0].cell).position()),T=A.left,_=A.top+o,S=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(m[m.length-1].date,e.timeZone)),D=new ke.jqx.date(m[0].date,e.timeZone),A=(e.rtl&&(S=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(m[0].date,e.timeZone)),D=new ke.jqx.date(m[m.length-1].date,e.timeZone),T=(A=ke(m[m.length-1].cell).position()).left,_=A.top+o,b=(x=ke(m[0].cell).position().left)-ke(m[m.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(b=x-ke(m[m.length-1].cell).position().left+e.columns.records[1].width)),{cells:m,cellY:parseInt(A.top),cellX:parseInt(A.left),lastCellY:parseInt(A.top),lastCellX:x,x:T,y:_,height:y,width:b,appointment:r,from:D,to:S});v.push(A),i.push(A)}r.elements=v,r.rootAppointment&&(r.rootAppointment.elements=r.rootAppointment.elements.concat(r.elements))}var j=this.getViewStart(),q=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var C=new Array,k=j,B=0;k<q;){C[B]=new Array;for(p=0;p<i.length;p++){var R=i[p];k<=R.from&&R.to<k.addDays(7)&&(R.row=-1,R.rowSpan=1,C[B].push(R))}B++,k=k.addDays(7)}for(var z=k=j,p=0;p<C.length;p++){if(0<C[p].length){for(var F=C[p],H=[],f=0;f<7;f++){var I=F.filter(function(e){return ke.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,k,ke.jqx.scheduler.utilities.getEndOfDay(k))});k=k.addDays(1);for(var P=0;P<I.length&&!(20<=P);P++){r=I[P];-1===H.indexOf(r)&&H.push(r)}}this._renderUIMonthAppointments(H)}z=z.addDays(7),k=z}}else for(f=0;f<this._resources.length;f++){for(var E=this._resources[f],C=(new Array,new Array),k=j,B=0;k<q;){C[B]=new Array;for(p=0;p<i.length;p++){R=i[p];k<=R.from&&R.to<k.addDays(7)&&(R.row=-1,R.rowSpan=1,R.appointment.resourceId==E&&C[B].push(R))}B++,k=k.addDays(7)}for(p=0;p<C.length;p++)0<C[p].length&&this._renderUIMonthAppointments(C[p])}},_getMonthAppointmentsPerWeek:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=(this.rows,0);if(0<this.host.find(".jqx-scheduler-month-cell").length&&(o=ke(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!e.rows)return new Array;for(var n=this.getViewStart(),s=this.getViewEnd(),r=0;r<this.appointmentsToRender.length;r++){function a(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var l=this.appointmentsToRender[r],d=ke.jqx.scheduler.utilities.getStartOfDay(l.from),h=ke.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,e._getDateByString,new Array),u=new Array,p=d.toDate().valueOf(),m=h.toDate().valueOf(),f=-1,d=l.resourceId,g=e._resources.indexOf(d);e.resources&&"none"==e.resources.orientation&&(g=-1);for(var w=0;w<e.rows.length;w++)for(var v=e.rows[w].cells,y=0;y<v.length;y++){v[y].getAttribute("data-date");var x=n.addDays(7*w+y).toDate(),b=x.valueOf();h<b||-1!=g&&1+g!=v[y].getAttribute("data-view")||p<=b&&b<m&&(f!=w&&-1!=f&&(c.sort(a),u.push(c),c=new Array),c.push({cell:v[y],date:x}),f=w)}c.sort(a),u.push(c);for(var M=new Array,w=0;w<u.length;w++){if(0==(v=u[w]).length)break;var A=e.appointmentsMinHeight,V=(e.isTouchDevice()&&(A=e.touchAppointmentsMinHeight),A=t.appointmentHeight?t.appointmentHeight:A),T=ke(v[v.length-1].cell).position().left,_=T-ke(v[0].cell).position().left+e.columns.records[0].width,S=(t.showWeekNumbers&&(_=T-ke(v[0].cell).position().left+e.columns.records[1].width),ke(v[0].cell).position()),D=S.left,j=S.top+o,q=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(v[v.length-1].date,e.timeZone)),C=new ke.jqx.date(v[0].date,e.timeZone),S=(e.rtl&&(q=ke.jqx.scheduler.utilities.getEndOfDay(new ke.jqx.date(v[0].date,e.timeZone)),C=new ke.jqx.date(v[v.length-1].date,e.timeZone),D=(S=ke(v[v.length-1].cell).position()).left,j=S.top+o,_=(T=ke(v[0].cell).position().left)-ke(v[v.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(_=T-ke(v[v.length-1].cell).position().left+e.columns.records[1].width)),{cells:v,cellY:parseInt(S.top),cellX:parseInt(S.left),lastCellY:parseInt(S.top),lastCellX:T,x:D,y:j,height:V,width:_,appointment:l,from:C,to:q});M.push(S),i.push(S)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var k=new Array,B=n,R=0;B<s;){k[R]=new Array;for(w=0;w<i.length;w++)B<=(H=i[w]).from&&H.to<B.addDays(7)&&(H.row=-1,H.rowSpan=1,k[R].push(H));R++,B=B.addDays(7)}for(var z=new Array,w=0;w<k.length;w++)0<k[w].length?(P=this.getMaxMonthAppointments(k[w]),A=e.appointmentsMinHeight,e.isTouchDevice()&&(A=e.touchAppointmentsMinHeight),t.appointmentHeight&&(A=t.appointmentHeight),z.push(P*(A+3)+22)):z.push("auto");return z}for(z=new Array,y=0;y<this._resources.length;y++){for(var F=this._resources[y],k=(new Array,new Array),B=n,R=0;B<s;){k[R]=new Array;for(var H,w=0;w<i.length;w++)B<=(H=i[w]).from&&H.to<B.addDays(7)&&(H.row=-1,H.rowSpan=1,H.appointment.resourceId==F&&k[R].push(H));R++,B=B.addDays(7)}for(var P,w=0;w<k.length;w++)0<k[w].length?(P=this.getMaxMonthAppointments(k[w]),z.push(P*(A+3)+22)):z.push("auto");return z}},_renderUIMonthAppointments:function(e){var t=this._views[this._view],i=e,d=(this.getViewStart(),this.getViewEnd(),this),M=this.getMaxMonthAppointments(e),o=d.appointmentsMinHeight,V=(d.isTouchDevice()&&(o=d.touchAppointmentsMinHeight),t.appointmentHeight&&(o=t.appointmentHeight),this._sortAppointmentsByFrom);this.rtl&&(V=this._sortAppointmentsByTo);for(var F=0;F<e.length;F++){(l=e[F]).row=-1;(a=this.getCollisionAppointments(l,e)).sort(V);var I=a.indexOf(l);if(0<=I)for(var n=I;n<a.length;n++)a[n].row=-1;for(var s=0;s<M;s++){var r,E,O=s;for(u in a){if("indexOf"==u)break;-1!=(c=a[u]).row||this.isBusyRow(O,a)||(c.row=O,r=M,(E=this.getMaxMonthAppointments(a))<r&&(r=E),c.rowsCount=r)}}}for(s=0;s<i.length;s++){var a,l=i[s],h=((a=this.getCollisionAppointments(l,i)).sort(V),1);for(u in a){if("indexOf"==u)break;var W=a[u],h=Math.max(h,W.rowsCount)}for(u in a){if("indexOf"==u)break;(W=a[u]).rowsCount=h}if(1==a.length)l.rowSpan=h;else{for(var c,N=0,L=!0,n=l.row;n<h;n++){for(var u in a){if("indexOf"==u)break;(c=a[u])!=l&&c.row==n&&(L=!1)}if(!L)break;N++}l.rowSpan=N}}for(var p=0;p<i.length;p++){var m,f,g=o,g=2+(3+((l=i[p]).height=g))*l.row;l.y=l.y+g,l.x+=1,l.width-=5,0==l.appointment.from.hour()&&23==l.appointment.to.hour()||(d.rtl?(m=parseFloat(d.cellWidth/24)*l.appointment.to.hour()+parseFloat(d.cellWidth/48)*(l.appointment.to.minute()/30),f=parseFloat(d.cellWidth/24)*l.appointment.from.hour()+parseFloat(d.cellWidth/48)*(l.appointment.from.minute()/30),1<l.appointment.elements.length?l==l.appointment.elements[0]?0<f?"exactTime"==t.appointmentsRenderMode?(l.width-=d.cellWidth-m,l.width-=f):l.timewidth=l.width-d.cellWidth+m-f:(l.timewidth=l.width,l.timex=0):l==l.appointment.elements[l.appointment.elements.length-1]&&("exactTime"==t.appointmentsRenderMode&&(l.x+=d.cellWidth,l.x-=m,l.width+=m,l.width-=d.cellWidth),l.timewidth=l.width-d.cellWidth+m,l.timex=d.cellWidth-m):("exactTime"==t.appointmentsRenderMode&&(l.x+=d.cellWidth,l.x-=m,l.width-=d.cellWidth-m,l.width-=f),l.appointment.duration().days()<1&&l.width<15&&(l.width=15),l.timewidth=l.width-d.cellWidth+m-f,l.timex=d.cellWidth-m)):(m=parseFloat(d.cellWidth/24)*l.appointment.from.hour()+parseFloat(d.cellWidth/48)*(l.appointment.from.minute()/30),l.timewidth=l.width,l.from.clearTime().toString()==l.appointment.from.clearTime().toString()?l.timex=m:m=0,1<l.appointment.elements.length&&l.appointment.elements[0]!=l&&(m=0),f=parseFloat(d.cellWidth/24)*l.appointment.to.hour()+parseFloat(d.cellWidth/48)*(l.appointment.to.minute()/30),1<l.appointment.elements.length&&l.appointment.elements[l.appointment.elements.length-1]!=l&&(f=0),l.timewidth-=m,0<f&&(l.timewidth-=d.cellWidth,l.timewidth+=f),"exactTime"==t.appointmentsRenderMode&&(l.from.clearTime().toString()==l.appointment.from.clearTime().toString()&&(l.x+=m),l.width=l.timewidth,l.appointment.duration().days()<1&&l.width<15&&m+(l.width=15)>d.cellWidth&&(g=d.cellWidth-m-15,l.x+=g))))}for(p=0;p<i.length;p++){var w=i[p],v="",y="auto",t=this._views[this._view],x=w.appointment.from,b=w.appointment.to,y="auto",t=this._views[this._view],x=w.appointment.from,b=w.appointment.to,A=y=t.timeRuler&&t.timeRuler.formatString?t.timeRuler.formatString:y,T=y,y=("auto"===y&&(A=0==x.hour()&&0==x.minute()||12==x.hour()&&0==x.minute()?"hh tt":"hh:mm",T=0==b.hour()&&0==b.minute()||12==b.hour()&&0==b.minute()?"hh tt":"hh:mm"),x.toString(A)),x=b.toString(T),A=w.appointment.duration(),b=w.appointment.allDay||23===A.hours&&59===A.minutes&&59===A.seconds,T=w.appointment.background,A=w.appointment.subject||"(No Title)",_=w.appointment.color,S=w.appointment.resourceId,D=d.getColors(d._resources.indexOf(S)),S=" data-resourceId='"+S+"' ",j=w.appointment.borderColor,q=w.appointment.location,Z=(q&&1<q.length&&(q=", "+q),T=T||D.background,j=j||D.border,_=_||D.color,w.appointment.isRecurrentAppointment()),U=w.appointment.isException(),C="",k=d.toTP("jqx-scheduler-appointment-status"),B="",R=d.statuses[w.appointment.status],z=!1,H=(R&&(z="transparent"!=R&&(B="<div style='background: "+R+"; border-right-color: "+j+"' class='"+k+"'></div>","tentative"==R&&(B="<div style='background-color: "+j+"; border-right-color: "+j+"' class='"+(k=d.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),d.toTP("jqx-scheduler-appointment-duration-status")),H="<div style='width: "+w.timewidth+"px; left: "+w.timex+"px;' class='"+H+"'></div>",X=(b&&(H=""),"exactTimeStatus"!=t.appointmentsRenderMode&&(H=""),""),R=(d.rtl&&(B="<div style='background: "+R+"; border-left-color: "+j+"' class='"+(k=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>",X=B="tentative"==R?"<div style='background-color: "+j+"; border-left-color: "+j+"' class='"+(k=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>":B,B=""),""),k=b?A+q:A+q+H,H=(!d.renderAppointment||(A=d.renderAppointment({appointment:w.appointment.boundAppointment,textColor:_,background:T,borderColor:j,html:k,cssClass:"",style:"",width:w.width,height:w.height,view:d._views[d._view].type}))&&((v=A.html)!=k&&(k=v),_=A.textColor,T=A.background,j=A.borderColor,A.cssClass&&(R=A.cssClass+" "),""!=A.style&&(T=(D=d.getAppointmentColors(A.style)).background,j=D.border,_=D.color)),""===C&&(C=z?"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'>"+B+"<div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+k+"</div>"+X+"</div>":"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'><div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+k+"</div></div>"),""),P=(d.rtl&&(H=d.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),v=U?(A="white"==_.toLowerCase()?d.toTP("jqx-icon-recurrence-exception-white"):d.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+w.appointment.id+"'"+S+"class='"+H+R+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+w.x+"px; top: "+w.y+"px; width: "+w.width+"px; line-height: "+w.height+"px; height: "+w.height+"px; border-color:"+j+"; color:"+_+"; background:"+T+";'><div class='"+A+"'></div>"+C+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):Z?(D="white"==_.toLowerCase()?d.toTP("jqx-icon-recurrence-white"):d.toTP("jqx-icon-recurrence"),"<div data-key='"+w.appointment.id+"'"+S+"class='"+H+R+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+w.x+"px; top: "+w.y+"px; width: "+w.width+"px; line-height: "+w.height+"px; height: "+w.height+"px; border-color:"+j+"; color:"+_+"; background:"+T+";'><div class='"+D+"'></div>"+C+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+w.appointment.id+"'"+S+"class='"+H+R+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+w.x+"px; top: "+w.y+"px; width: "+w.width+"px; line-height: "+w.height+"px; height: "+w.height+"px; border-color:"+j+"; color:"+_+"; background:"+T+";'>"+C+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",ke(v));P.appendTo(this.table),w.element=P,this.appointmentTooltips&&(w.appointment.tooltip?P[0].setAttribute("title",w.appointment.tooltip):(z=w.appointment.subject,(z=y&&!b?y+" - "+x+" "+z:z)&&((q=w.appointment.location)&&(z+="\n"+q),P[0].setAttribute("title",z))));ke.each(w.cells,function(){var e,a=ke(this.cell),l=a.position();a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:P,appointment:w}),w.y+w.height+2>=l.top+a.height()&&(P.css("visibility","hidden"),(e=a.find(".jqx-icon-arrow-down")).show(),e[0]&&(e[0].mousedown=function(){d.openedMonthCellPopup&&d.openedMonthCellPopup.remove();for(var e=ke("<div></div>"),t=a.find("div").clone(!0),i=(t.find("span").removeClass().addClass(d.toTP("jqx-icon-close")),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(d.toTP("jqx-widget-header")),e.addClass(d.toTP("jqx-widget")),e.addClass(d.toTP("jqx-window")),e.addClass(d.toTP("jqx-scheduler-month-cell-popup")),e.addClass(d.toTP("jqx-popup")),ke("<div></div>")),o=(e.append(t),e.append(i),i.addClass(d.toTP("jqx-widget-content jqx-disableselect")),a.width()),n=5+a.find("div").outerHeight(),s=0;s<a[0].appointments.length;s++){var r=a[0].appointments[s].ui.clone(!0);r.css("left","3px"),r.css("top","0px"),r.css("margin-top","2px"),r.css("position","relative"),r.css("visibility","visible"),r.width(o-6),n+=r.outerHeight()+4,i.append(r),r.click(function(e){e=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));d._raiseEvent("appointmentClick",{appointment:e.boundAppointment})}),r.dblclick(function(e){e=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));e.readOnly||d.editRecurrenceDialog.jqxWindow("isOpen")||d._editDialog&&(!d._editDialog||d._editDialog.jqxWindow("isOpen"))||!1!==d._initDialog(e)&&d._openDialog(),d._raiseEvent("appointmentDoubleClick",{appointment:e.boundAppointment})})}e.css("overflow","hidden"),e.css("position","absolute"),e.height(n),e.width(o),e.css("z-index","9999"),e.css("top",l.top),e.css("left",l.left),d.table.append(e),d.openedMonthCellPopup=e}))})}},_sortByDate:function(e,t){e=e.getAttribute("data-date"),e=this._getDateByString(e),t=t.getAttribute("data-date");return e<(t=this._getDateByString(t))?-1:t<e?1:e==t?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.dateData===t.from.dateData){var i=1e4*(e.to.dateData-e.from.dateData);if(1e4*(t.to.dateData-t.from.dateData)<i)return-1}return e.from.dateData<t.from.dateData?-1:e.from.dateData>t.from.dateData?1:e.from.dateData==t.from.dateData?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=1e4*(e.to-e.from);if(1e4*(t.to-t.from)<i)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){e=i._resources.indexOf(e.resourceId),i=i._resources.indexOf(t.resourceId);return e==i?0:e<i||i<e?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++)if(t[i].row==e)return!0;return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++)if(t[i].column==e)return!0;return!1},getMaxTimelineAppointments:function(e,t,i,o){if(0==e.length)return 1;var n=this,s=n._views[n._view].type,r=(n._views[n._view],1),a=i,l=this.getMinutesPerScale(),d=null,h=null,c="";for(m in e){if("indexOf"==m)break;var u=e[m],d=d||u.from.dateData,h=h||u.to.dateData;u.from.dateData<d&&(d=u.from.dateData),u.to.dateData>h&&(h=u.to.dateData),c+=u.appointment.id}if(t[c=c+d+h])return t[c];d=new ke.jqx.date(d,n.timeZone),h=new ke.jqx.date(h,n.timeZone);for(a=d;d<h;){var p,m,f=a,g=(p="timelineMonthView"===s?f.addDays(1):f.addMinutes(l),0);for(m in e){if("indexOf"==m)break;var w=(u=e[m]).from,v=u.to;ke.jqx.scheduler.utilities.rangeIntersection(f,p,w,v)&&g++}r=Math.max(g,r),a="timelineMonthView"===s?a.addDays(1,!1):a.addMinutes(l,!1)}return t[c]=r},getMaxMonthAppointments:function(e){this._views[this._view].type,this._views[this._view];if(0==e.length)return 1;for(var t=1,i=this.getViewStart().clone(),o=this.getViewEnd();i<o;){var n,s=i,r=ke.jqx.scheduler.utilities.getEndOfDay(s),a=0;for(n in e){if("indexOf"==n)break;var l=e[n],d=l.from,l=l.to;ke.jqx.scheduler.utilities.rangeIntersection(s,r,d,l)&&a++}t=Math.max(a,t),i=i.addDays(1,!1)}return t},getMaxAllDayAppointments:function(e){this._views[this._view].type,this._views[this._view];var h=this;if(0==e.length)return 1;function t(e){for(var t=1,i=h.getViewStart(),o=h.getViewEnd();i<o;){var n,s=i,r=ke.jqx.scheduler.utilities.getEndOfDay(s),a=0;for(n in e){if("indexOf"==n)break;var l=e[n],d=l;1!=(d=l.appointment?l.appointment:d).hidden&&d.duration&&(d.allDay||1<=d.duration().days())&&(d=l.from,l=l.to,ke.jqx.scheduler.utilities.rangeIntersection(s,r,d,l)&&a++)}t=Math.max(a,t),i=i.addDays(1,!1)}return t}if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var i=t(e);else{for(var o=1,n=0;n<this._resources.length;n++){for(var s=this._resources[n],r=new Array,a=0;a<e.length;a++)(e[a].appointment&&e[a].appointment.resourceId==s||null!=e[a].resourceId&&e[a].resourceId==s)&&r.push(e[a]);i=t(r),o=Math.max(o,i)}i=o}return i},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(i=e.timeRuler&&e.timeRuler.scale?e.timeRuler.scale:i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(e){this._views[this._view].type;var t=this._views[this._view],i=30,o="halfHour";switch(o=t.timeRuler&&t.timeRuler.scale?t.timeRuler.scale:o){case"sixtyMinutes":case"hour":i=60;break;case"thirtyMinutes":case"halfHour":i=30;break;case"fifteenMinutes":case"quarterHour":i=15;break;case"tenMinutes":i=10;break;case"fiveMinutes":i=5}if(0==e.length)return 1;for(var n=1,s=e[0].from.clone(),r=s.addMinutes(i),a=ke.jqx.scheduler.utilities.getEndOfDay(s);s<a;){var l,d=s,h=r,c=0;for(l in e){if("indexOf"==l)break;var u,p=e[l];(p.from||p.to)&&(u=p.from,p=p.to,ke.jqx.scheduler.utilities.rangeIntersection(d,h,u,p)&&c++)}n=Math.max(c,n),s=s.addMinutes(i,!1),r=r.addMinutes(i,!1)}return n},getTouches:function(e){return ke.jqx.mobile.getTouches(e)},_updatecolumnwidths:function(){var a,l,e,d,h,c=this,u=this._hostWidth,p=u;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(u-=parseInt(this.scrollBarSize)+6,this.rtl&&(u+=3),p=u);null!=this.columns&&null!=this.columns.records&&(c=this,a=!1,l=new Array,ke.each(this.columns.records,function(e,t){this.hidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?("hidden"!=c.vScrollBar[t=0].style.visibility&&c.scrollBarSize,c.scrollBarSize,t=parseFloat(this.width)*p/100,(t=(t=null!=this._percentagewidth?parseFloat(this._percentagewidth)*p/100:t)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),u-=Math.round(t)):"auto"==this.width||this._width?this.text:u-=this.width,"auto"==this._width&&(l[l.length]=this))}),0!=(e=this.columnsheader.find("#columntable"+this.element.id)).length&&(d=0,e.find(".jqx-grid-column-header"),h=0,ke.each(this.columns.records,function(e,t){var i,o=this.element,n=!1,s=this.width,r=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(s=null!=this._percentagewidth?parseFloat(this._percentagewidth)*p/100:parseFloat(this.width)*p/100,s=Math.round(s),n=!0),"auto"==this.width||this._width||n?n?(s<this.minwidth&&"auto"!=this.minwidth&&(s=this.minwidth,this.width=s),s>this.maxwidth&&"auto"!=this.maxwidth&&(s=this.maxwidth,this.width=s),parseInt(o[0].style.width)!=s&&(o.width(s),this.width=s)):(n=c.columns.records.length,"dayView"===(s=c._views[c._view].type)||"weekView"===s?((i=c._views[c._view]).timeRuler&&i.timeRuler.timeZones&&(n-=i.timeRuler.timeZones.length),n--):"monthView"===s&&c._views[c._view].showWeekNumbers&&n--,i=Math.floor(u*(1/n)),c.resources&&c.resources.resourceColumnWidth&&"auto"!=c.resources.resourceColumnWidth?i=c.resources.resourceColumnWidth:c.resources&&c.resources.resourceColumnWidth&&"auto"==c.resources.resourceColumnWidth&&"horizontal"==c.resources.orientation&&(i=Math.round((2+u)*(1/c._getColumnsLengthPerView()))),1<=(d+=u*(1/n)-i)&&(--d,i++),.5<=d&&e==c.columns.records.length-1&&i++,"agendaView"==s&&(i=u/l.length,i++),i<0&&(n=ke("<span>"+this.text+"</span>"),ke(document.body).append(n),i=10+n.width(),n.remove()),(i=i<this.minwidth?this.minwidth:i)>this.maxwidth&&(i=this.maxwidth),this._width="auto",this.width=parseInt(i),o.width(this.width)):parseInt(o[0].style.width)!=this.width&&o.width(this.width),parseInt(o[0].style.left)!=h&&o.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,r!==this.width&&(a=!0)}),this.columnsheader.width(2+h),e.width(this.columnsheader.width()),this._resizecolumnGroups(),a&&(this._renderrows(),c._arrange())))},_rendercolumnheaders:function(){var d=this;if(!this._updating){var h=this._views[this._view],c=(this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove(),ke('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>')),u=(c[0].cells=new Array,0),p=(this._hostWidth||(this._hostWidth=this.host.width()),this._hostWidth),m=p,e=this.getRows().length,t=this.rowsHeight,i=(e*(t=this.isTouchDevice()?this.touchRowsHeight:t)>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(p-=parseInt(this.scrollBarSize)+6,this.rtl&&(p+=3),m=p),new Array),f=new Array;if(ke.each(this.columns.records,function(e,t){this.hidden||("auto"==this.width||this._width?this.text:this.width<this.minwidth&&"auto"!=this.minwidth?p-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?p-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(t=0,(t=(t=parseFloat(this.width)*m/100)<this.minwidth&&"auto"!=this.minwidth?this.minwidth:t)>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),p-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),p-=this.width)),null!=this.width&&"auto"!=this.width||(f[f.length]=this),i[i.length]=this}),this.rtl)for(var o=0;o<i.length;o++)this.columns.replace(o,i[o]);var g=this.headerZIndex,w=d.columnsHeight,v=0,y=document.createDocumentFragment();ke.each(this.columns.records,function(e,t){this.height=d.columnsHeight,d.columnGroups&&d.columnGroups.length&&(this.height=(this.datafield,o=this,n=d.columnGroupslevel*d.columnsHeight,n-=o.level*d.columnsHeight),w=this.height);var i,o=d.toTP("jqx-grid-column-header")+" "+d.toTP("jqx-widget-header"),n=(d.rtl&&(o+=" "+d.toTP("jqx-grid-column-header-rtl")),d.enableBrowserSelection||(o+=" "+d.toTP("jqx-disableselect")),d.rtl?g++:g--),s=document.createElement("div"),s=(s.setAttribute("role","columnheader"),s.style.position="absolute",s.style.zIndex=n,s.style.height="100%",s.className=o,ke(s)),r=(d.rtl&&0===e&&(s[0].style.borderLeftColor="transparent"),d.columnGroups?(s[0].style.height=w+"px",s[0].style.bottom="0px"):this.timeColumn||(s[0].style.height=-1+w+"px"),this.uielement=s,this.element=s,""!=this.classname&&this.classname&&s.addClass(this.classname),this.width),a=!1,l=(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(r=null!=this._percentagewidth?parseFloat(this._percentagewidth)*m/100:parseFloat(this.width)*m/100,r=Math.round(r),a=!0),"auto"==this.width||this._width||a?a?((r=r<this.minwidth&&"auto"!=this.minwidth?this.minwidth:r)>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),s.width(r),this.width=r):(a=d.columns.records.length,"dayView"===(l=d._views[d._view].type)||"weekView"===l?((i=d._views[d._view]).timeRuler&&i.timeRuler.timeZones&&(a-=i.timeRuler.timeZones.length),a--):"monthView"===l&&d._views[d._view].showWeekNumbers&&a--,i=Math.floor(p*(1/a)),d.resources&&d.resources.resourceColumnWidth&&"auto"!=d.resources.resourceColumnWidth?i=d.resources.resourceColumnWidth:d.resources&&d.resources.resourceColumnWidth&&"auto"==d.resources.resourceColumnWidth&&"horizontal"==d.resources.orientation&&(i=Math.round((2+p)*(1/d._getColumnsLengthPerView()))),1<=(v+=p*(1/a)-i)&&(--v,i++),.5<=v&&e==d.columns.records.length-1&&i++,isNaN(i)&&(i=this.minwidth),"agendaView"==l&&(i=p/f.length,i++),i<0&&(a=ke("<span>"+this.text+"</span>"),ke(document.body).append(a),i=10+a.width(),a.remove()),(i=i<this.minwidth?this.minwidth:i)>this.maxwidth&&(i=this.maxwidth),this._width="auto",this.width=parseInt(i),r=this.width,s.width(this.width)):((r=r<this.minwidth&&"auto"!=this.minwidth?this.minwidth:r)>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),s[0].style.width=parseInt(r)+"px"),this.timeColumn&&(s.css("border-bottom-color","transparent"),h.timeRuler&&h.timeRuler.timeZones&&e<h.timeRuler.timeZones.length&&s.css("border-right-color","transparent"),1==this.tableRows&&s.addClass(d.toTP("jqx-scheduler-time-column"))),this.hidden&&s.css("display","none"),ke(s.children()[0]),c[0].cells[e]=s[0],d._rendercolumnheader(this.text,this.align,w,d));s[0].innerHTML=l,y.appendChild(s[0]);s[0].style.left=u+"px",this.hidden||(u+=r)}),c[0].appendChild(y),this.columnsheader[0].style.width=0<u?2+u+"px":u+"px",this._columnswidth=u,this.columnsrow=c,d.columnsheader.append(c),c[0].style.width=u+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var e=this.headerZIndex+this.columns.records.length,t=this,i=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-grid-columngroup-header")+" "+t.toTP("jqx-widget-header"),o=(t.rtl&&(i+=" "+t.toTP("jqx-grid-columngroup-header-rtl")),this.columnsheader.find("#columntable"+this.element.id));o.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var s=0;s<this.columnGroups.length;s++){var r,a,l,d,h,c=this.columnGroups[s],u=c.level;u===n&&(u=u*this.columnsHeight,r=99999,c.groups&&(a=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=a(o):o.hidden||(t+=o.width,r=Math.min(parseInt(o.element[0].style.left),r))}return t},c.width=a(c),c.left=r,l=this.columnsHeight,d=e--,d=ke('<div role="columnheader" style="z-index: '+d+';position: absolute;" class="'+i+'"></div>'),h=ke(this._rendercolumnheader(c.text,c.align,this.columnsHeight,this)),c.renderer&&c.renderer(d,c.text),d.append(h),d[0].style.left=r+"px",0===r&&(d[0].style.borderLeftColor="transparent"),d[0].style.top=u+"px",d[0].style.height=l+"px",d[0].style.width=-1+c.width+"px",o.append(d),c.element=d))}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var n,t,i,o=this.columnGroups[e],s=o.level*this.columnsHeight,r=99999;o.groups&&(o.width=(n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=n(o):(t+=o.width,r=Math.min(parseInt(o.element[0].style.left),r))}return t})(o),o.left=r,t=this.columnsHeight,(i=o.element)[0].style.left=r+"px",i[0].style.top=s+"px",i[0].style.height=t+"px",i[0].style.width=-1+o.width+"px")}},_removecolumnhandlers:function(e){var t=this,i=ke(e.element);0<i.length&&(t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),e=ke(e.filtericon),t.removeHandler(e,"mousedown"),t.removeHandler(e,"click"),t.removeHandler(i,"click"))},destroy:function(){var e=this;e._removeHandlers(),e._editDialog&&e._editDialog.jqxWindow("destroy"),e.menu&&e.menu.jqxMenu("destroy"),e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("destroy"),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,ke.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(e,t,i,o){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&o!==i)if("filterable"==t)e._render();else if("view"==t)e.setView(o);else if("views"==t){e._columns=null,e._views=new Array,e._view=e.view;for(var n=0;n<e.views.length;n++)"string"===ke.type(e.views[n])?e._views.push({type:e.views[n]}):e._views.push(e.views[n]);for(n=0;n<e._views.length;n++)if(e._views[n].type==e.view){e._view=n;break}e._render()}else"height"===t?(e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0)):"width"===t?(e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1)):"source"===t||"resources"==t?(o=e.vScrollBar.jqxScrollBar("value"),e.updateBoundData("dataBind",function(){e.scrolltop(0),e.vScrollBar.jqxScrollBar({value:o})})):"columns"===t||"columnGroups"===t?(e._columns=null,e._render()):"selectionMode"===t?e.selectionMode=o.toLowerCase():"touchMode"==t?(e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:o}),e.hScrollBar.jqxScrollBar({touchMode:o}),e.refresh(),e._addHandlers()):"enableHover"!=t&&("showLegend"==t?(e.legendbartop.show(),e.legendbarbottom.show(),e.refresh()):"disabled"==t?(o?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.host.find(".jqx-grid-group-collapse").css("cursor",o?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",o?"default":"pointer")):"columnsHeight"==t?e._render():"localization"==t?(e._render(),e.editRecurrenceDialog&&(e.editRecurrenceDialog.jqxWindow("destroy"),e.createEditRecurrenceDialog())):"theme"==t?(ke.jqx.utilities.setTheme(i,o,e.host),e._editDialog&&ke.jqx.utilities.setTheme(i,o,e._editDialog),e.editRecurrenceDialog&&ke.jqx.utilities.setTheme(i,o,e.editRecurrenceDialog),e.menu&&e.menu.jqxMenu({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.refresh()):"date"===t?e.navigateTo(o):e.refresh())},_rendercolumnheader:function(e,t,i,o){var n="4px",o=(o.columnGroups?((n=i/2-this._columnheight/2)<0&&(n=4),n+="px"):25!=this.columnsHeight&&((n=this.columnsHeight/2-this._columnheight/2)<0&&(n=4),n+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+n+"; margin-top: "+n+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>");if(this.columnRenderer){n=this.columnRenderer(e,t,i,o);if(null!=n)return n}return o}})}(jqxBaseFramework);