!function(oe){oe.jqx.jqxWidget("jqxChart","",{}),oe.extend(oe.jqx._jqxChart.prototype,{defineInstance:function(){return oe.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:oe.jqx.mobile.getTouchEventName("touchstart"),click:oe.jqx.mobile.getTouchEventName("touchstart"),mouseup:oe.jqx.mobile.getTouchEventName("touchend"),mousemove:oe.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!oe.jqx.dataAdapter)throw"jqxdata.js is not loaded";var t,a=this,i=(a._refreshOnDownloadComlete(),a._isTouchDevice=oe.jqx.mobile.isTouchDevice(),a._jqxPlot||(a._jqxPlot=new jqxPlot),a.addHandler(a.host,a._getEvent("mousemove"),function(e){var t,i,s;0!=a.enabled&&(a._isRangeSelectorInstance||a.host.css("cursor","default"),i=e.pageX||e.clientX||e.screenX,s=e.pageY||e.clientY||e.screenY,t=a.host.offset(),a._isTouchDevice&&(i=(e=oe.jqx.position(e)).left,s=e.top),i-=t.left,s-=t.top,a.onmousemove(i,s))}),a.addHandler(a.host,a._getEvent("mouseleave"),function(e){var t,i,s;0!=a.enabled&&(t=a._mouseX,i=a._mouseY,(s=a._plotRect)&&t>=s.x&&t<=s.x+s.width&&i>=s.y&&i<=s.y+s.height||(a._cancelTooltipTimer(),a._hideToolTip(0),a._unselect()))}),a.addHandler(a.host,"click",function(i){var e,t,s,r;0!=a.enabled&&(s=i.pageX||i.clientX||i.screenX,r=i.pageY||i.clientY||i.screenY,e=a.host.offset(),a._isTouchDevice&&(s=(t=oe.jqx.position(i)).left,r=t.top),s-=e.left,r-=e.top,a._mouseX=s,a._mouseY=r,!isNaN(a._lastClickTs)&&(new Date).valueOf()-a._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;a._isTouchDevice||(a._cancelTooltipTimer(),a._hideToolTip(),a._unselect()),a._pointMarker&&a._pointMarker.element&&(t=(e=a.seriesGroups[a._pointMarker.gidx]).series[a._pointMarker.sidx],i.stopImmediatePropagation(),a._raiseItemEvent("click",e,t,a._pointMarker.iidx))},100)))}),a.element.style);i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&oe.jqx.utilities.resize(this.host,function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){var e=a.enableAnimations;a.enableAnimations=!1,a.refresh(),a.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t=this,i=this.source;i instanceof oe.jqx.dataAdapter&&(null!=(e=i._options)&&(null==e||e.autoBind)||(i.autoSync=!1,i.dataBind()),e=this.element.id,0==i.records.length?(i.unbindDownloadComplete(e),i.bindDownloadComplete(e,function(){t.ready&&t.ready(),t.refresh()})):t.ready&&t.ready(),i.unbindBindingUpdate(e),i.bindBindingUpdate(e,function(){t._supressBindingRefresh||t.refresh()}))},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(oe.jqx.createRenderer)return oe.jqx.createRenderer(this,e);throw"Please include jqxdraw.js"},_internalRefresh:function(){var e,t,i=this;oe.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof oe.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,s){for(var r=!1,a=0;a<this.seriesGroups.length&&!r;a++){var n=this._getXAxis(a);n&&n.rangeSelector&&(r=!0)}return oe.jqx._widgetToImage(this,e,t,i,s,r?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,s=0;s<i.seriesGroups.length;s++){var r=i._getXAxis(s);if(r&&r.rangeSelector&&!r.rangeSelector.renderTo){var a=i._rangeSelectorInstances[s];if(a){var n=a.jqxChart("getInstance"),o=(n.renderEngine,n.renderer.getRect()),l=n.renderer.getContainer().find("canvas")[0].getContext("2d"),h=i._sliders[s],d="horizontal"==i.seriesGroups[s].orientation,f=d?"height":"width",u=d?"width":"height",g=d?"y":"x",c=d?"x":"y",m={},g=(m[g]=h.startOffset+h.rect[g],m[c]=h.rect[c],m[f]=h.endOffset-h.startOffset,m[u]=h.rect[u],r.rangeSelector.colorSelectedRange||"blue"),c=(r.rangeSelector.colorUnselectedRange,r.rangeSelector.colorRangeLine||"grey"),_=[],f=(_.push(n.renderer.rect(m.x,m.y,m.width,m.height,{fill:g,opacity:.1})),d?(_.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(m.y),{stroke:c,opacity:.5})),_.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(m.y+m.height),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:c,opacity:.5})),_.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x),oe.jqx._ptrnd(m.y),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(m.y),{stroke:c,opacity:.5})),_.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x),oe.jqx._ptrnd(m.y+m.height),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(m.y+m.height),{stroke:c,opacity:.5}))):(_.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(m.x),oe.jqx._ptrnd(h.rect.y),{stroke:c,opacity:.5})),_.push(n.renderer.line(oe.jqx._ptrnd(m.x+m.width),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(h.rect.y),{stroke:c,opacity:.5})),_.push(n.renderer.line(oe.jqx._ptrnd(m.x),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(m.x),oe.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:c,opacity:.5})),_.push(n.renderer.line(oe.jqx._ptrnd(m.x+m.width),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(m.x+m.width),oe.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:c,opacity:.5}))),n.renderer.refresh(),l.getImageData(o.x,o.y,o.width,o.height));t.getContext("2d").putImageData(f,parseInt(a.css("left")),parseInt(a.css("top")),1,1,o.width,o.height);for(var p=0;p<_.length;p++)n.renderer.removeElement(_[p]);n.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e,t=this;for(e in t._defaultSettings)t[e]=t._defaultSettings[e];t.title="",t.description="",t.refresh()},_validateSeriesGroups:function(){if(!oe.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!oe.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){for(var t=this,i=t.renderer,s=(t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0),t.backgroundImage),r=(null==s||""==s?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),t._rect=e,t.padding||{left:5,top:5,right:5,bottom:5}),a=i.createClipRect(e),n=i.beginGroup(),n=(i.setClip(n,a),i.rect(e.x,e.y,e.width-2,e.height-2)),s=(null==s||""==s?i.attr(n,{fill:t.backgroundColor||t.background||"white"}):i.attr(n,{fill:"transparent"}),0!=t.showBorderLine?(null==(a=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(a=t._defaultLineColor),s=this.borderLineWidth,(isNaN(s)||s<0||10<s)&&(s=1),i.attr(n,{"stroke-width":s,stroke:a})):oe.jqx.browser.msie&&oe.jqx.browser.version<9&&i.attr(n,{"stroke-width":1,stroke:t.backgroundColor||"white"}),oe.isFunction(t.drawBefore)&&t.drawBefore(i,e),{x:r.left,y:r.top,width:e.width-r.left-r.right,height:e.height-r.top-r.bottom}),a=(t._paddedRect=s,t.titlePadding||{left:2,top:2,right:2,bottom:2}),o=(t.title&&0<t.title.length&&(n=t.toThemeProperty("jqx-chart-title-text",null),k=i.measureText(t.title,0,{class:n}),i.text(t.title,s.x+a.left,s.y+a.top,s.width-(a.left+a.right),k.height,0,{class:n},!0,"center","center"),s.y+=k.height,s.height-=k.height),t.description&&0<t.description.length&&(r=t.toThemeProperty("jqx-chart-title-description",null),k=i.measureText(t.description,0,{class:r}),i.text(t.description,s.x+a.left,s.y+a.top,s.width-(a.left+a.right),k.height,0,{class:r},!0,"center","center"),s.y+=k.height,s.height-=k.height),(t.title||t.description)&&(s.y+=a.bottom+a.top,s.height-=a.bottom+a.top),{x:s.x,y:s.y,width:s.width,height:s.height}),l=(t._plotRect=o,t._buildStats(o),t._isPieOnlySeries()),h=t.seriesGroups,d={xAxis:{},valueAxis:{}},f=0;f<h.length&&!l;f++)if("pie"!=h[f].type&&"donut"!=h[f].type){if(!(O=t._getXAxis(f)))throw"seriesGroup["+f+"] is missing xAxis definition";var u=O==t._getXAxis()?-1:f;d.xAxis[u]=0}var g,c=t.axisPadding,m=(isNaN(c)&&(c=5),{left:0,right:0,leftCount:0,rightCount:0}),_=[];for(f=0;f<h.length;f++)"pie"==(F=h[f]).type||"donut"==F.type||1==F.spider||1==F.polar?_.push({width:0,position:0,xRel:0}):(g="horizontal"==F.orientation,u=(O=t._getXAxis(f))==t._getXAxis()?-1:f,w=(p=t._getValueAxis(f))==t._getValueAxis()?-1:f,M=(g?O:p).axisSize,S={x:0,y:o.y,width:o.width,height:o.height},x=(g?t._getXAxis(f):p).position,M&&"auto"!=M||(g?(M=this._renderXAxis(f,S,!0,o).width,1==(1&d.xAxis[u])?M=0:0<M&&(d.xAxis[u]|=1)):(M=t._renderValueAxis(f,S,!0,o).width,1==(1&d.valueAxis[w])?M=0:0<M&&(d.valueAxis[w]|=1))),0<m[(x="right"!=(x="left"!=x&&1==t.rtl?"right":x)?"left":x)+"Count"]&&0<m[x]&&0<M&&(m[x]+=c),_.push({width:M,position:x,xRel:m[x]}),m[x]+=M,m[x+"Count"]++);var p,x,y=Math.max(1,Math.max(e.width,e.height)),v={top:0,bottom:0,topCount:0,bottomCount:0},N=[];for(f=0;f<h.length;f++)"pie"==(F=h[f]).type||"donut"==F.type||1==F.spider||1==F.polar?N.push({height:0,position:0,yRel:0}):(g="horizontal"==F.orientation,w=(p=this._getValueAxis(f))==t._getValueAxis()?-1:f,u=(O=t._getXAxis(f))==t._getXAxis()?-1:f,b=(g?p:O).axisSize,x=(g?p:O).position,b&&"auto"!=b||(g?(b=t._renderValueAxis(f,{x:0,y:0,width:y,height:0},!0,o).height,2==(2&d.valueAxis[w])?b=0:0<b&&(d.valueAxis[w]|=2)):(b=t._renderXAxis(f,{x:0,y:0,width:y,height:0},!0).height,2==(2&d.xAxis[u])?b=0:0<b&&(d.xAxis[u]|=2))),0<v[(x="top"!=x?"bottom":x)+"Count"]&&0<v[x]&&0<b&&(v[x]+=c),N.push({height:b,position:x,yRel:v[x]}),v[x]+=b,v[x+"Count"]++);t._createAnimationGroup("series");n=0!=t.showLegend,r=n?t._renderLegend(t.legendLayout?t._rect:s,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(r={width:0,height:0}),s.height<v.top+v.bottom+r.height||s.width<m.left+m.right)i.endGroup();else{o.height-=v.top+v.bottom+r.height,o.x+=m.left,o.width-=m.left+m.right,o.y+=v.top;var M,b,A=[];if(!l){var w,S;t._getXAxis().tickMarksColor||t._defaultLineColor;for(f=0;f<h.length;f++)1!=(F=h[f]).polar&&1!=F.spider&&"pie"!=F.type&&"donut"!=F.type&&(g="horizontal"==F.orientation,u=t._getXAxis(f)==t._getXAxis()?-1:f,w=t._getValueAxis(f)==t._getValueAxis()?-1:f,S={x:o.x,y:0,width:o.width,height:N[f].height},"top"!=N[f].position?S.y=o.y+o.height+N[f].yRel:S.y=o.y-N[f].yRel-N[f].height,g?4!=(4&d.valueAxis[w])&&t._isGroupVisible(f)&&(t._renderValueAxis(f,S,!1,o),d.valueAxis[w]|=4):(A.push(S),4!=(4&d.xAxis[u])&&t._isGroupVisible(f)&&(t._renderXAxis(f,S,!1,o),d.xAxis[u]|=4)))}if(n&&(k=t.legendLayout?t._rect:s,a=s.x+oe.jqx._ptrnd((s.width-r.width)/2),n=o.y+o.height+v.bottom,M=s.width,b=r.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(a=t.legendLayout.left),isNaN(t.legendLayout.top)||(n=t.legendLayout.top),isNaN(t.legendLayout.width)||(M=t.legendLayout.width),isNaN(t.legendLayout.height)||(b=t.legendLayout.height)),a+M>k.x+k.width&&(M=k.x+k.width-a),n+b>k.y+k.height&&(b=k.y+k.height-n),t._renderLegend({x:a,y:n,width:M,height:b})),t._hasHorizontalLines=!1,!l)for(f=0;f<h.length;f++)1!=(F=h[f]).polar&&1!=F.spider&&"pie"!=F.type&&"donut"!=F.type&&(g="horizontal"==h[f].orientation,S={x:o.x-_[f].xRel-_[f].width,y:o.y,width:_[f].width,height:o.height},"left"!=_[f].position&&(S.x=o.x+o.width+_[f].xRel),u=t._getXAxis(f)==t._getXAxis()?-1:f,w=t._getValueAxis(f)==t._getValueAxis()?-1:f,g?(A.push(S),8!=(8&d.xAxis[u])&&t._isGroupVisible(f)&&(t._renderXAxis(f,S,!1,o),d.xAxis[u]|=8)):8!=(8&d.valueAxis[w])&&t._isGroupVisible(f)&&(t._renderValueAxis(f,S,!1,o),d.valueAxis[w]|=8));if(!(o.width<=0||o.height<=0)){for(t._plotRect={x:o.x,y:o.y,width:o.width,height:o.height},f=0;f<h.length;f++)this._drawPlotAreaLines(f,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(f,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(f=0;f<h.length;f++)this._drawPlotAreaLines(f,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(f,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var C=!1;for(f=0;f<h.length&&!C;f++)if(void 0!==(F=h[f]).annotations||oe.isFunction(F.draw)||oe.isFunction(F.drawBefore)){C=!0;break}var k,s=i.beginGroup();for(C||(r=i.createClipRect({x:o.x-2,y:o.y,width:o.width+4,height:o.height}),i.setClip(s,r)),f=0;f<h.length;f++){var D,F=h[f],T=!1;for(D in t._seriesTypes)if(t._seriesTypes[D]==F.type){T=!0;break}if(!T)throw'Invalid serie type "'+F.type+'"';oe.isFunction(F.drawBefore)&&F.drawBefore(i,e,f,this),1!=F.polar&&1!=F.spider||-1==F.type.indexOf("pie")&&-1==F.type.indexOf("donut")&&t._renderSpiderAxis(f,o),t._renderAxisBands(f,o,!0),t._renderAxisBands(f,o,!1)}for(f=0;f<h.length;f++){F=h[f];if(t._isColumnType(F.type)?t._renderColumnSeries(f,o):-1!=F.type.indexOf("pie")||-1!=F.type.indexOf("donut")?t._renderPieSeries(f,o):-1!=F.type.indexOf("line")||-1!=F.type.indexOf("area")?t._renderLineSeries(f,o):-1!=F.type.indexOf("scatter")||-1!=F.type.indexOf("bubble")?t._renderScatterSeries(f,o):-1==F.type.indexOf("candlestick")&&-1==F.type.indexOf("ohlc")||t._renderCandleStickSeries(f,o,-1!=F.type.indexOf("ohlc")),F.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var j=0;j<F.annotations.length;j++)t._renderAnnotation(f,F.annotations[j],o)}oe.isFunction(F.draw)&&t.draw(i,e,f,this)}i.endGroup(),0==t.enabled&&(k=i.rect(e.x,e.y,e.width,e.height),i.attr(k,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),oe.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var O,I=!1,f=0;f<t.seriesGroups.length&&!I;f++)(O=t._getXAxis(f))&&O.rangeSelector&&(I=!0);if(I){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var P=[];for(this._isSelectorRefresh||(t.removeHandler(oe(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(oe(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(oe(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),f=0;f<t.seriesGroups.length;f++){var q=this._getXAxis(f);-1==P.indexOf(q)&&this._renderXAxisRangeSelector(f,A[f])&&P.push(q)}}}}},_credits:function(){var e,t,i,s,r,a;"44CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==oe.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(a=e.renderer,i=e._rect,s={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},r=a.measureText(t,0,s),a=a.text(t,i.x+i.width-r.width-5,i.y+i.height-r.height-5,r.width,r.height,0,s),oe(a).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,s){for(var r=this,a=r.renderer,n={x:t.x,y:t.y,width:t.width,height:t.height},o=(6<=n.width&&(n.x+=3,n.width-=6),6<=n.height&&(n.y+=3,n.height-=6),{width:n.width,height:0}),l=0,h=0,d=20,f=0,u=0,g=0;g<e.length;g++){var c=(c=e[g].css)||r.toThemeProperty("jqx-chart-legend-text",null),d=20,m=e[g].text,_=a.measureText(m,0,{class:c}),q=(_.height>d&&(d=_.height),_.width>u&&(u=_.width),s?(0!=g&&(h+=d),h>n.height&&(h=0,l+=u+20+10,u=_.width,o.width=l+u)):(0!=l&&(l+=10),l+20+_.width>n.width&&_.width<n.width&&(l=0,h+=d,f=n.width,o.height=h+(d=20))),!1);if(_.width>n.width){for(var q=!0,p=n.width,x=(O=m).split(/\s+/),y=[],v="",N=0;N<x.length;N++){var M=v+(0<v.length?" ":"")+x[N];v=(S=r.renderer.measureText(M,0,{class:c})).width>p&&0<M.length&&0<v.length?(y.push({text:v}),x[N]):M,N+1==x.length&&y.push({text:v})}for(var b=_.width=0,A=0;A<y.length;A++){var w=y[A].text,S=r.renderer.measureText(w,0,{class:c});_.width=Math.max(_.width,S.width),b+=_.height}_.height=b}var C=l+_.width<n.width&&h+_.height<t.height;if(r.legendLayout&&(C=n.x+l+_.width<r._rect.x+r._rect.width&&n.y+h+_.height<r._rect.y+r._rect.height),!i&&C){var C=e[g].seriesIndex,k=e[g].groupIndex,D=e[g].itemIndex,F=e[g].fillColor,T=e[g].lineColor,j=r._isSerieVisible(k,C,D),L=a.beginGroup(),j=j?e[g].opacity:.1;if(q){for(var O=m,p=n.width,x=O.split(/\s+/),I=0,y=[],v="",N=0;N<x.length;N++){M=v+(0<v.length?" ":"")+x[N];v=(S=r.renderer.measureText(M,0,{class:c})).width>p&&0<M.length&&0<v.length?(y.push({text:v,dy:I}),I+=S.height,x[N]):M,N+1==x.length&&y.push({text:v,dy:I})}for(A=0;A<y.length;A++){w=y[A].text,I=y[A].dy,S=r.renderer.measureText(w,0,{class:c});s?r.renderer.text(w,n.x+l+15,n.y+h+I,_.width,d,0,{class:c},!1,"left","center"):r.renderer.text(w,n.x+l+15,n.y+h+I,_.width,d,0,{class:c},!1,"center","center")}var P=a.rect(n.x+l,n.y+h+5+I/2,10,10);s&&(h+=I),r.renderer.attr(P,{fill:F,"fill-opacity":j,stroke:T,"stroke-width":1,"stroke-opacity":e[g].opacity})}else{P=a.rect(n.x+l,n.y+h+5,10,10);r.renderer.attr(P,{fill:F,"fill-opacity":j,stroke:T,"stroke-width":1,"stroke-opacity":e[g].opacity}),s?r.renderer.text(m,n.x+l+15,n.y+h,_.width,_.height+5,0,{class:c},!1,"left","center"):r.renderer.text(m,n.x+l+15,n.y+h,_.width,d,0,{class:c},!1,"center","center")}r.renderer.endGroup(),r._setLegendToggleHandler(k,C,D,L)}s||f<(l+=_.width+20)&&(f=l)}if(i)return o.height=oe.jqx._ptrnd(h+d+5),o.width=oe.jqx._ptrnd(f),o},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[e];s.length<t+1;)s.push(!!isNaN(i)||[]);var r=s[t];if(isNaN(i))return r;for(oe.isArray(r)||(s[t]=r=[]);r.length<i+1;)r.push(!0);return r[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(e,t,i,s){var r=!this._isSerieVisible(e,t,i),a=this.seriesGroups[e],n=a.series[t];if(this._raiseEvent("toggle",{state:r=null!=s?s:r,seriesGroup:a,serie:n,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=r;else{var o=this._itemsToggleState[e][t];for(oe.isArray(o)||(o=[]);o.length<i;)o.push(!0);o[i]=r}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,s,e){var r,a=this.seriesGroups[t],n=a.series[i].enableSeriesToggle;(n=null==n?0!=a.enableSeriesToggle:n)&&(r=this).renderer.addHandler(e,"click",function(e){r._toggleSerie(t,i,s)})},_renderLegend:function(e,t){for(var i=this,s=[],r=0;r<i.seriesGroups.length;r++){var a=i.seriesGroups[r];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l=i._getSerieSettings(r,n);if("pie"==a.type||"donut"==a.type)for(var h=i._getXAxis(r),d=o.legendFormatSettings||a.legendFormatSettings||h.formatSettings||o.formatSettings||a.formatSettings,f=o.legendFormatFunction||a.legendFormatFunction||h.formatFunction||o.formatFunction||a.formatFunction,u=i._getDataLen(r),g=0;g<u;g++){c=i._getDataValue(g,o.displayText,r);var c=i._formatValue(c,d,f,r,n,g),m=i._getColors(r,n,g);s.push({groupIndex:r,seriesIndex:n,itemIndex:g,text:c,css:o.displayTextClass,fillColor:m.fillColor,lineColor:m.lineColor,opacity:l.opacity})}else{var d=o.legendFormatSettings||a.legendFormatSettings,f=o.legendFormatFunction||a.legendFormatFunction,m=(c=i._formatValue(o.displayText||o.dataField||"",d,f,r,n,NaN),i._getSeriesColors(r,n)),h=this._get([o.legendFillColor,o.legendColor,m.fillColor]),_=this._get([o.legendLineColor,o.legendColor,m.lineColor]);s.push({groupIndex:r,seriesIndex:n,text:c,css:o.displayTextClass,fillColor:h,lineColor:_,opacity:l.opacity})}}}}return i._renderChartLegend(s,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return i=isNaN(e.step)?i:e.step*t},_getOffsets:function(e,t,i,s,r,a,n,o,l){var h,d,f=this._getInterval(r[e],o),u=[],g=((""==e||r[e].visible&&"custom"!=r[e].visible)&&(u=this._generateIntervalValues(s,f,o,n,l)),"labels"!=e?(d=n?a.left:0,!n&&1<o&&(d=a.left*(o+1)),1==u.length&&(d*=2),h=this._valuesToOffsets(u,t,s,i,a,!1,d),n||(r=(a.left+a.right)*f/o,t.flip?h.unshift(h[0]+r):h.push(h[h.length-1]+r))):(d=a.left,1==u.length&&(d*=2),h=this._valuesToOffsets(u,t,s,i,a,n,d)),this._arraysToObjectsArray([u,h],["value","offset"]));if(t[e]&&t[e].custom)for(var c=this._objectsArraysToArray(t[e].custom,"value"),m=this._objectsArraysToArray(t[e].custom,"offset"),_=this._valuesToOffsets(c,t,s,i,a,n,a.left),p=0;p<t[e].custom.length;p++)g.push({value:c[p],offset:(isNaN(m[p])?_:m)[p]});return g},_renderXAxis:function(e,t,i,s){var r=this,a=r._getXAxis(e),n=r.seriesGroups[e],o="horizontal"==n.orientation,l={width:0,height:0},h=r._getAxisSettings(a);if(!a||!h.visible||"spider"==n.type)return l;if(!r._isGroupVisible(e)||this._isPieGroup(e))return l;for(n=r._alignValuesWithTicks(e);r._renderData.length<e+1;)r._renderData.push({});r.rtl&&(a.flip=!0);var d=o?t.height:t.width,f=a.text,u=r._calculateXOffsets(e,d),g=u.axisStats,c=a.rangeSelector,m=0;if(c){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";m=this._selectorGetSize(a)}var _=o&&"right"==a.position||!o&&"top"==a.position,c=(!i&&c&&(o?(t.width-=m,"right"!=a.position&&(t.x+=m)):(t.height-=m,"top"==a.position&&(t.y+=m))),{rangeLength:u.rangeLength,itemWidth:u.itemWidth,intervalWidth:u.intervalWidth,data:u,settings:h,isMirror:_,rect:t}),p=(r._renderData[e].xAxis=c,g.interval);if(isNaN(p))return l;o&&(h.title.angle-=90,h.labels.angle-=90);var x,y,v,l=this._getInterval(h.gridLines,p),N=this._getInterval(h.tickMarks,p),M=this._getInterval(h.labels,p),b=g.min,A=g.max,u=u.padding,w=1==a.flip||r.rtl,S={min:b,max:A},C=(g.logAxis.enabled&&(S.min=g.logAxis.minPow,S.max=g.logAxis.maxPow),"date"==a.type?(h.gridLines.offsets=this._generateDTOffsets(b,A,d,u,l,p,g.dateTimeUnit,n,NaN,!1,w),h.tickMarks.offsets=this._generateDTOffsets(b,A,d,u,N,p,g.dateTimeUnit,n,NaN,!1,w),this._generateDTOffsets(b,A,d,u,M,p,g.dateTimeUnit,n,NaN,!0,w)):(h.gridLines.offsets=this._getOffsets("gridLines",a,d,g,h,u,n,p),h.tickMarks.offsets=this._getOffsets("tickMarks",a,d,g,h,u,n,p),this._getOffsets("labels",a,d,g,h,u,n,p))),k=(r.renderer.getRect().width,t.x,t.width,r._getDataLen(e),r._elementRenderInfo&&r._elementRenderInfo.length>e&&(x=r._elementRenderInfo[e].xAxis),[]);h.labels.formatFunction&&(y=h.labels.formatFunction),h.labels.formatSettings&&(v=oe.extend({},h.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!y?v?v.dateFormat=v.dateFormat||a.dateFormat:v={dateFormat:a.dateFormat}:y||v&&v.dateFormat||(y=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var D=0;D<C.length;D++){var F,T=C[D].value,j=C[D].offset;isNaN(j)||(F=void 0,"date"!=a.type&&g.useIndeces&&a.dataField&&(F=Math.round(T),null==(T=r._getDataValue(F,a.dataField))&&(T="")),null!=(f=r._formatValue(T,v,y,e,void 0,F))&&""!=f.toString()||(F=isNaN(F)?D:F)>=g.filterRange.min&&F<=g.filterRange.max&&(f=g.useIndeces?(g.min+F).toString():null==T?"":T.toString()),F={key:T,text:f,targetX:j,x:j},x&&x.itemOffsets[T]&&(F.x=x.itemOffsets[T].x,F.y=x.itemOffsets[T].y),k.push(F))}S=r._getAnimProps(e),l=S.enabled&&k.length<500?S.duration:0;0==r.enableAxisTextAnimation&&(l=0);N=r._renderAxis(o,_,h,{x:t.x,y:t.y,width:t.width,height:t.height},s,p,!1,!0,{items:k,renderData:c},i,l);return o?N.width+=m:N.height+=m,N},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var a,n,o=i[r];o&&o.visible&&(a=o.targetX,n=o.targetY,isNaN(o.x)||isNaN(o.y)||(a=o.x+(a-o.x)*t,n=o.y+(n-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,a,n,o.width,o.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i,s,r=this.seriesGroups[e],a=t.x+oe.jqx.getNum([r.offsetX,t.width/2]),n=t.y+oe.jqx.getNum([r.offsetY,t.height/2]),o=Math.min(t.width,t.height),l=r.radius,o=(this._isPercent(l)&&(l=parseFloat(l)/100*o/2),isNaN(l)&&(l=o/2*.6),this._alignValuesWithTicks(e)),h=this._get([r.startAngle,r.minAngle,0])-90,d=(h=isNaN(h)?0:2*Math.PI*h/360,this._get([r.endAngle,r.maxAngle,360])-90),f=((d=isNaN(d)?2*Math.PI:2*Math.PI*d/360)<h&&(f=h,h=d,d=f),oe.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0)),f=2*Math.PI*l*f,t=this._calcGroupOffsets(e,t).xoffsets;if(t)return i=!(1e-5<Math.abs(Math.abs(d-h)-2*Math.PI)),r.spider&&(e=(r=this._getXAxisStats(e,this._getXAxis(e),f)).interval,!isNaN(e)&&0!=e||(e=1),r=(r.max-r.min)/e+(i?1:0),2<(r=Math.round(r))&&(e=Math.cos(Math.abs(d-h)/2/r),l<(s=l/(e=0==(e=oe.jqx._rnd(e,.01))?1:e))&&o&&(l=s))),{x:a,y:n,r:l=oe.jqx._ptrnd(l),adjR:this._get([s,l]),itemWidth:t.itemWidth,rangeLength:t.rangeLength,valuesOnTicks:o,startAngle:h,endAngle:d,isClosedCircle:i,axisSize:f}},_toPolarCoord:function(e,t,i,s){var r=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),i=2*(i-t.x)*Math.PI*r/Math.max(1,t.width)+e.startAngle,r=(t.height+t.y-s)*e.r/Math.max(1,t.height),s=e.x+r*Math.cos(i),t=e.y+r*Math.sin(i);return{x:oe.jqx._ptrnd(s),y:oe.jqx._ptrnd(t)}},_renderSpiderAxis:function(e,t){var i=this,s=i._getXAxis(e),r=this._getAxisSettings(s);if(s&&r.visible){var a=i.seriesGroups[e],n=i._getPolarAxisCoords(e,t);if(n){var o=oe.jqx._ptrnd(n.x),l=oe.jqx._ptrnd(n.y),h=n.adjR,q=n.startAngle,d=n.endAngle;if(!(h<1)){var f=oe.jqx._rnd(Math.abs(q-d)/(2*Math.PI),.001,!0),u=2*Math.PI*h*f,g=n.isClosedCircle,c=this._renderData[e].xoffsets;if(c.rangeLength){var m=c.axisStats.interval,_=((isNaN(m)||m<1)&&(m=1),"horizontal"==a.orientation);for(_&&"right"==s.position||(_||s.position);i._renderData.length<e+1;)i._renderData.push({});for(var p={rangeLength:c.rangeLength,itemWidth:c.itemWidth,data:c,rect:t,settings:r},L=(i._renderData[e].xAxis=p,i._renderData[e].polarCoords=n,!0),x=0;x<e;x++){i._renderData[x].xAxis;var R,G=i._renderData[x].polarCoords,V=i._getXAxis(x),E=!1;for(R in n)if(n[R]!=G[R]){E=!0;break}E&&V==s||(L=!1)}for(var y,v=r.gridLines,N=r.tickMarks,H=r.labels,_=this._getInterval(v,m),B=this._getInterval(N,m),z=this._getInterval(H,m),M=i._alignValuesWithTicks(e),b=i.renderer,A=c.axisStats,W=A.min,X=A.max,w=this._getPaddingSize(c.axisStats,s,M,u,!0,g,!1),c=1==s.flip||i.rtl,U="date"==s.type?(v.offsets=this._generateDTOffsets(W,X,u,w,_,m,s.baseUnit,!0,0,!1,c),N.offsets=this._generateDTOffsets(W,X,u,w,B,m,s.baseUnit,!0,0,!1,c),this._generateDTOffsets(W,X,u,w,z,m,s.baseUnit,!0,0,!0,c)):(r.gridLines.offsets=this._getOffsets("gridLines",s,u,A,r,w,!0,m),r.tickMarks.offsets=this._getOffsets("tickMarks",s,u,A,r,w,!0,m),this._getOffsets("labels",s,u,A,r,w,!0,m)),S=(i.renderer.getRect().width,t.x,t.width,i._getDataLen(e),i._elementRenderInfo&&i._elementRenderInfo.length>e&&(y=i._elementRenderInfo[e].xAxis),[]),Y=this._getDataLen(e),x=0;x<U.length;x++){var Z=U[x].offset,C=U[x].value;if("date"!=s.type&&A.useIndeces&&s.dataField){var J=Math.round(C);if(Y<=J)continue;null==(C=i._getDataValue(J,s.dataField))&&(C="")}var k=i._formatValue(C,H.formatSettings,H.formatFunction,e,void 0,J),k=(null!=k&&""!=k.toString()||(k=A.useIndeces?(A.min+x).toString():null==C?"":C.toString()),{key:C,text:k,targetX:Z,x:Z});y&&y.itemOffsets[C]&&(k.x=y.itemOffsets[C].x,k.y=y.itemOffsets[C].y),S.push(k)}var Q={stroke:v.color,fill:"none","stroke-width":v.width,"stroke-dasharray":v.dashStyle||""},K=(a.spider||(1==f?b.circle(o,l,h,Q):(_=-q/Math.PI*180,B=-d/Math.PI*180,this.renderer.pieslice(o,l,0,h,Math.min(_,B),Math.max(_,B),void 0,Q))),S.length,Math.PI,q);if(v.visible&&L){M||g||v.offsets.unshift({offset:-w.right});for(x=0;x<v.offsets.length;x++){var $,ee,D=v.offsets[x].offset;M||(D+=g?w.right/2:w.right),.01<(T=K+2*D*Math.PI*f/Math.max(1,u))-d||($=oe.jqx._ptrnd(o+h*Math.cos(T)),ee=oe.jqx._ptrnd(l+h*Math.sin(T)),b.line(o,l,$,ee,Q))}}if(N.visible&&L){var te={stroke:N.color,fill:"none","stroke-width":N.width,"stroke-dasharray":N.dashStyle||""};M||g||N.offsets.unshift({offset:-w.right});for(x=0;x<N.offsets.length;x++){var ie,se,D=N.offsets[x].offset;M||(D+=g?w.right/2:w.right),.01<(T=K+2*D*Math.PI*f/Math.max(1,u))-d||(ie={x:o+h*Math.cos(T),y:l+h*Math.sin(T)},se={x:o+(h+5)*Math.cos(T),y:l+(h+5)*Math.sin(T)},b.line(oe.jqx._ptrnd(ie.x),oe.jqx._ptrnd(ie.y),oe.jqx._ptrnd(se.x),oe.jqx._ptrnd(se.y),te))}}var re=[];if(a.spider){var ae=[],ae="date"==s.type?this._generateDTOffsets(W,X,u,w,m,m,s.baseUnit,!0,0,!1,c):this._getOffsets("",s,u,A,r,w,!0,m);M||g||ae.unshift({offset:-w.right});for(x=0;x<ae.length;x++){D=ae[x].offset;M||(D+=g?w.right/2:w.right),.01<(T=K+2*D*Math.PI*f/Math.max(1,u))-d||re.push(T)}p.offsetAngles=re}var F=(F=i._renderSpiderValueAxis(e,t,M?n.adjR:n.r,re))||[];if(a.spider){if(!M)for(x=0;x<F.length;x++)F[x]=F[x]*n.adjR/n.r;F.push(h),this._renderSpiderLines(o,l,F,n,re,Q)}if(L&&H.visible){p.polarLabels=[];for(x=0;x<S.length;x++){(T=(360-(T=K+2*(D=S[x].x)*Math.PI*f/Math.max(1,u))/(2*Math.PI)*360)%360)<0&&(T=360+T);var T,j,O=b.measureText(S[x].text,0,{class:r.labels.style}),ne=(M?n.adjR:n.r)+(N.visible?7:2),I=r.labels,P=I.autoRotate?(P=oe.jqx._ptRotate(o-O.width/2,l-ne-O.height,o,l,-T/180*Math.PI),j=oe.jqx._ptRotate(o+O.width/2,l-ne,o,l,-T/180*Math.PI),O.width=Math.abs(P.x-j.x),O.height=Math.abs(P.y-j.y),{x:Math.min(P.x,j.x),y:Math.min(P.y,j.y)}):this._adjustTextBoxPosition(o,l,O,ne,T,!1,!1,!1);p.polarLabels.push({x:P.x,y:P.y,value:S[x].text}),b.text(S[x].text,P.x,P.y,O.width,O.height,I.autoRotate?90-T:I.angle,{class:I.style},!1,I.halign,I.valign)}}}}}}},_renderSpiderLines:function(e,t,i,s,r,a){for(var n=this.renderer,o=(s.startAngle,s.endAngle,s.isClosedCircle),l=0;l<i.length;l++){for(var h=i[l],d=void 0,f=void 0,u=0;u<r.length;u++){var g=r[u],c=oe.jqx._ptrnd(e+h*Math.cos(g)),g=oe.jqx._ptrnd(t+h*Math.sin(g));d&&n.line(d.x,d.y,c,g,a),d={x:c,y:g},f=f||{x:c,y:g}}f&&o&&n.line(d.x,d.y,f.x,f.y,a)}},_renderSpiderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],t=this._getPolarAxisCoords(e,t);if(t){var a=oe.jqx._ptrnd(t.x),n=oe.jqx._ptrnd(t.y),o=(i=i||t.r,t.startAngle),l=t.endAngle,h=oe.jqx._rnd(Math.abs(o-l)/(2*Math.PI),.001,!0);if(!(i<1)){i=oe.jqx._ptrnd(i);var d=this._getValueAxis(e),f=this._getAxisSettings(d);if(d&&0!=f.visible){var t=this._stats.seriesGroups[e].mu,u=f.labels,g=u.formatSettings,u=(-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!g&&(g={sufix:"%"}),this._get([u.step,u.unitInterval/t])),c=(isNaN(u)&&(u=1),u=Math.max(1,Math.round(u)),this._calcValueAxisItems(e,i,u),f.gridLines),m=f.tickMarks,_=(this._getInterval(c,t),this._getInterval(m,t),f.labels),p={stroke:c.color,fill:"none","stroke-width":1,"stroke-dasharray":c.dashStyle||""},x=this._renderData[e].valueAxis,y=x.items,v=o,N=(y.length&&f.line.visible&&(isNaN(f.line.angle)||(v=2*Math.PI*f.line.angle/360),u=a+Math.cos(v)*i,t=n+Math.sin(v)*i,-1==s.indexOf(v)&&((s=oe.extend({},p))["stroke-width"]=f.line.lineWidth,s.stroke=f.line.color,s["stroke-dasharray"]=f.line.dashStyle,this.renderer.line(a,n,u,t,s))),y=y.reverse(),this.renderer);x.polarLabels=[];for(var M=0;M<y.length-1;M++){var b,A,w=y[M];isNaN(w)||(w=_.formatFunction?_.formatFunction(w):this._formatNumber(w,g),b=N.measureText(w,0,{class:_.style}),A=a+(0!=d.showTickMarks?3:2),C=n-x.itemWidth*M-b.height/2,j=oe.jqx._ptRotate(A,C,a,n,v),O=oe.jqx._ptRotate(A+b.width,C+b.height,a,n,v),A=Math.min(j.x,O.x),C=Math.min(j.y,O.y),b.width=Math.abs(j.x-O.x),b.height=Math.abs(j.y-O.y),A+=f.labels.textOffset.x,C+=f.labels.textOffset.y,x.polarLabels.push({x:A,y:C,value:w}),N.text(w,A,C,b.width,b.height,_.autoRotate?90+180*o/Math.PI:_.angle,{class:_.style},!1,_.halign,_.valign))}1==d.logarithmicScale?y.length:x.rangeLength;Math.PI;var u=0!=d.valuesOnTicks,t=this._stats.seriesGroups[e],s=t.mu,e=1==d.logarithmicScale,e=(d.logarithmicScaleBase,e&&(s=1),{min:t.min,max:t.max,logAxis:{enabled:1==e,base:d.logarithmicScaleBase,minPow:t.minPow,maxPow:t.maxPow}}),S=((c.visible||r.spider||d.alternatingBackgroundColor||d.alternatingBackgroundColor2)&&(c.offsets=this._getOffsets("gridLines",d,i,e,f,{left:0,right:0},u,s)),[]);if(c.visible||r.spider)for(var C,k,D,p={stroke:c.color,fill:"none","stroke-width":1,"stroke-dasharray":c.dashStyle||""},M=0;M<c.offsets.length;M++)(C=oe.jqx._ptrnd(c.offsets[M].offset))!=i&&(r.spider?S.push(C):1!=h?(k=-o/Math.PI*180,D=-l/Math.PI*180,this.renderer.pieslice(a,n,0,C,Math.min(k,D),Math.max(k,D),void 0,p)):N.circle(a,n,C,p));if(d.tickMarks&&(d.tickMarks.visible||d.showTickMarks)||(m.visible=!1),m.visible){m.offsets=this._getOffsets("tickMarks",d,i,e,f,{left:0,right:0},u,s);for(var F=2*m.size,p={stroke:m.color,fill:"none","stroke-width":1,"stroke-dasharray":m.dashStyle||""},M=0;M<m.offsets.length;M++){var T=m.offsets[M].offset,j={x:a+T*Math.cos(v)-F/2*Math.sin(v+Math.PI/2),y:n+T*Math.sin(v)-F/2*Math.cos(v+Math.PI/2)},O={x:a+T*Math.cos(v)+F/2*Math.sin(v+Math.PI/2),y:n+T*Math.sin(v)+F/2*Math.cos(v+Math.PI/2)};N.line(oe.jqx._ptrnd(j.x),oe.jqx._ptrnd(j.y),oe.jqx._ptrnd(O.x),oe.jqx._ptrnd(O.y),p)}}return S}}}},_renderAxis:function(e,t,i,s,r,a,n,o,l,h,d){if(i.customDraw&&!h)return{width:NaN,height:NaN};for(var f,u,g,c=i.title,m=i.labels,_=(i.gridLines,i.tickMarks),p=i.padding,x=_.visible?_.size:0,_={width:0,height:0},y={width:0,height:0},v=(e?_.height=y.height=s.height:_.width=y.width=s.width,!h&&t&&e&&(s.x-=s.width),l.renderData),N=v.itemWidth,M=(c.visible&&null!=c.text&&""!=c&&(b=c.angle,u=this.renderer.measureText(c.text,b,{class:c.style}),y.width=u.width,y.height=u.height,h||this.renderer.text(c.text,s.x+c.offset.x+(e?t?-p.right-2+2*s.width-y.width:2+p.left:0),s.y+c.offset.y+(e?0:t?p.top+2:s.height-2-y.height-p.bottom),(e?y:s).width,(e?s:y).height,b,{class:c.style},!0,c.halign,c.valign,c.rotationPoint)),0),b=o?-N/2:0,A=(o&&!e&&(m.halign="center"),s.x),w=s.y,c=m.textOffset,S=(c&&(isNaN(c.x)||(A+=c.x),isNaN(c.y)||(w+=c.y)),e?(A+=p.left+2+(0<y.width?y.width+2:0)+(t?s.width-y.width:0),w+=b):(A+=b,t?w=w+(0<y.height?y.height+6:4)+(x-(o?x:x/4)):w+=o?x:x/4,w+=p.top),0),C=0,k=l.items,D=(v.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(d=0),!1),F=0,T=0;T<k.length&&m.visible;T++,M+=N)k[T]&&!isNaN(N)&&(f=k[T].text,isNaN(k[T].targetX)||(M=k[T].targetX),(u=this.renderer.measureText(f,m.angle,{class:m.style})).width>C&&(C=u.width),u.height>S&&(S=u.height),F+=e?S:C,h||e&&M>s.height+2||!e&&M>s.width+2||(j=e?A+(t?0==y.width?x:x-2:0):A+M,v.itemOffsets[k[T].key]={x:j,y:O=e?w+M:w},D||isNaN(k[T].x)&&(isNaN(k[T].y)||!d)||(D=!0),k[T].targetX=j,k[T].targetY=O,k[T].width=e?s.width-p.left-p.right-4-x-(0<y.width?y.width+2:0):N,k[T].height=e?N:s.height-p.top-p.bottom-4-x-(0<y.height?y.height+2:0),k[T].visible=!0));v.avgWidth=0==k.length?0:F/k.length,h||(c={items:k,textSettings:m},!isNaN(d)&&D||(d=0),this._animateAxisText(c,0==d?1:0),0!=d&&(g=this)._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){g._animateAxisText(t,i)},c)),_.width+=4+x+y.width+C+(e&&0<y.width?2:0),_.height+=4+x+y.height+S+(!e&&0<y.height?2:0),e?_.width+=p.left+p.right:_.height+=p.top+p.bottom;var j,O;return!h&&i.line.visible&&(b={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(j=s.x+s.width+(t?p.left:-p.right),j=oe.jqx._ptrnd(j),this.renderer.line(j,s.y,j,s.y+s.height,b)):(O=oe.jqx._ptrnd(s.y+(t?s.height-p.bottom:p.top)),this.renderer.line(oe.jqx._ptrnd(s.x),O,oe.jqx._ptrnd(s.x+s.width+1),O,b))),_.width=oe.jqx._rup(_.width),_.height=oe.jqx._rup(_.height),_},_drawPlotAreaLines:function(e,t,i){var s=this.seriesGroups[e],r="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=e)){var a=this._renderData[e][t?"valueAxis":"xAxis"];if(a){var n=(n=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),o="",l=t?(o="valueAxis_"+(s.valueAxis?e:"")+(r?"swap":""),this._getValueAxis(e)):(o="xAxis_"+(s.xAxis||s.categoryAxis?e:"")+(r?"swap":""),this._getXAxis(e)),s=(n=n[o]||(n[o]={}),t||(r=!r),a.settings);if(s&&!s.customDraw){var h=s.gridLines,e=s.tickMarks,d=s.padding,f=a.rect,u=this._plotRect;if(h&&e){var g={},c={stroke:h.color,"stroke-width":h.width,"stroke-dasharray":h.dashStyle||""},m=t?f.y+f.height:f.x,_=h.offsets;if((_=t&&!l.flip?(_=oe.extend([],_)).reverse():_)&&0<_.length)for(var p,x,y,v=NaN,N=(_.length,0);N<_.length;N++)r?(p=(p=oe.jqx._ptrnd(f.y+_[N].offset))<f.y-.5?oe.jqx._ptrnd(f.y):p)>f.y+f.height&&(p=f.y+f.height):(p=oe.jqx._ptrnd(f.x+_[N].offset))>f.x+f.width+.5&&(p=oe.jqx._ptrnd(f.x+f.width)),isNaN(p)||!isNaN(v)&&Math.abs(p-v)<2||(v=p,i.gridLines&&0!=h.visible&&1!=n.gridLines&&(r?this.renderer.line(oe.jqx._ptrnd(u.x),p,oe.jqx._ptrnd(u.x+u.width),p,c):this.renderer.line(p,oe.jqx._ptrnd(u.y),p,oe.jqx._ptrnd(u.y+u.height),c)),g[p]=!0,i.alternatingBackground&&(h.alternatingBackgroundColor||h.alternatingBackgroundColor2)&&1!=n.alternatingBackground&&(x=N%2==0?h.alternatingBackgroundColor2:h.alternatingBackgroundColor,0<N&&x&&(y=r?this.renderer.rect(oe.jqx._ptrnd(u.x),m,oe.jqx._ptrnd(u.width-1),p-m,c):this.renderer.rect(m,oe.jqx._ptrnd(u.y),p-m,oe.jqx._ptrnd(u.height),c),this.renderer.attr(y,{"stroke-width":0,fill:x,opacity:h.alternatingBackgroundOpacity||1}))),m=p);c={stroke:e.color,"stroke-width":e.width,"stroke-dasharray":e.dashStyle||""};if(i.tickMarks&&e.visible&&1!=n.tickMarks)for(var M=e.size,_=e.offsets,v=NaN,N=0;N<_.length;N++)if(r?(p=(p=oe.jqx._ptrnd(f.y+_[N].offset))<f.y-.5?oe.jqx._ptrnd(f.y):p)>f.y+f.height&&(p=f.y+f.height):(p=oe.jqx._ptrnd(f.x+_[N].offset))>f.x+f.width+.5&&(p=oe.jqx._ptrnd(f.x+f.width)),!isNaN(p)&&(isNaN(v)||!(Math.abs(p-v)<2))){if(g[p-1]?p--:g[p+1]&&p++,r){if(p>f.y+f.height+.5)break}else if(p>f.x+f.width+.5)break;v=p;var b,A=a.isMirror?M:-M;r?(b=f.x+f.width+("right"==l.position?d.left:-d.right),t||(b=f.x+(a.isMirror?d.left:-d.right+f.width)),this.renderer.line(b,p,b+A,p,c)):(b=f.y+(a.isMirror?f.height:0),b+=a.isMirror?-d.bottom:d.top,b=oe.jqx._ptrnd(b),this.renderer.line(p,b,p,b-A,c))}n.tickMarks=n.tickMarks||i.tickMarks,n.gridLines=n.gridLines||i.gridLines,n.alternatingBackground=n.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],a=(r.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,s.intervals),t=t/o,l=s.min,h=s.mu,d=1==a.logarithmicScale,f=a.logarithmicScaleBase||10,u=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(d&&(h=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};for(var r=this._renderData[e].valueAxis,g=(r.itemWidth=r.intervalWidth=t,r.items=[],r.items),c=0;c<=o;c++){var m=0,m=d?u?s.max/Math.pow(f,o-c):l*Math.pow(f,c):n?l+c*h:l+(c+.5)*h;c%i!=0?g.push(NaN):g.push(m)}return r.rangeLength=d&&!u?s.intervals:s.intervals*h,1!=a.flip&&(g=g.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var a=void 0===t?e[r]:e[r][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||"9"<n[o])&&0<=(s=n.length-(o+1)))return Math.min(s,i);for(0<s&&(a*=Math.pow(10,s));Math.round(a)!=a&&s<i;)s++,a*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],a="horizontal"==r.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,f=1==n.logarithmicScale,u=n.logarithmicScaleBase||10;if(0==(d=f?isNaN(n.unitInterval)?1:n.unitInterval:d)&&(d=1),isNaN(d))return o;var g=this._getAxisSettings(n),c=g.title,m=g.labels,_=n.labels||{},_=(this._get([n.horizontalTextAlignment,_.horizontalAlignment])||0!=m.angle||(m.halign=a?"center":"right"==n.position?"left":"right"),this._get([m.step,m.unitInterval/d]));if(isNaN(_)&&(_=1),_=Math.max(1,Math.round(_)),!this._calcValueAxisItems(e,a?t.width:t.height,_)||!g.visible)return o;a||(c.angle=this.rtl?90:-90,"centercenter"==c.rotationPoint&&("top"==c.valign?c.rotationPoint="rightcenter":"bottom"==c.valign&&(c.rotationPoint="leftcenter")));var p,_=this._renderData[e].valueAxis,x=m.formatSettings,o=(-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!x&&(x={sufix:"%"}),m.formatFunction||x&&x.decimalPlaces||((x=x||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3)),g.gridLines),c=(f||this._getInterval(o,d),a?t.width:t.height),r=1==n.flip,u=(n.flip=!r,{min:h.min,max:h.max,logAxis:{enabled:1==f,base:u,minPow:h.minPow,maxPow:h.maxPow}}),h=((o.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(o.offsets=this._getOffsets("gridLines",n,c,u,g,{left:0,right:0},l,d)),g.tickMarks),y=(h.visible&&(h.offsets=this._getOffsets("tickMarks",n,c,u,g,{left:0,right:0},l,d)),this._getOffsets("labels",n,c,u,g,{left:0,right:0},l,d,!l)),v=(n.flip=r,[]);this._elementRenderInfo&&this._elementRenderInfo.length>e&&(p=this._elementRenderInfo[e].valueAxis);for(var N=0;N<y.length;N++){var M,b=y[N].value;isNaN(y[N].offset)?v.push(void 0):(M={key:b,text:m.formatFunction?m.formatFunction(b):isNaN(b)?b:this._formatNumber(b,x)},p&&p.itemOffsets[b]&&(M.x=p.itemOffsets[b].x,M.y=p.itemOffsets[b].y),M.targetX=y[N].offset,isNaN(M.targetX)||v.push(M))}o=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,h={items:v,renderData:_},c=this._getAnimProps(e),u=c.enabled&&v.length<500?c.duration:0;return 0==this.enableAxisTextAnimation&&(u=0),_.settings=g,_.isMirror=o,_.rect=t,this._renderAxis(!a,o,g,t,s,d,f,!0,h,i,u)},_objectsArraysToArray:function(e,t){var i=[];if(!oe.isArray(e))return i;for(var s=0;s<e.length;s++)i.push(e[s][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(e,t,i,s,r,a,n){var o=[];if(!t||!oe.isArray(e))return o;var l,h=i.logAxis.base,d=i.logAxis.enabled?"logarithmic":"linear",f=t.flip,u=0,g=0;s=l=s-(u=r&&!isNaN(r.left)?r.left:u)-(g=r&&!isNaN(r.right)?r.right:g);for(var c=0;c<e.length;c++){var m=this._jqxPlot.scale(e[c],{min:i.min.valueOf(),max:i.max.valueOf(),type:d,base:h},{min:0,max:a?s:l,flip:f},{});isNaN(m)?o.push(NaN):(isNaN(n)||(m+=n),m<=s+u+g+1?o.push(oe.jqx._ptrnd(m)):o.push(NaN))}return o},_generateIntervalValues:function(e,t,i,s,r){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),null==n||null==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(r?i/2:0));if(i<t){for(var d=[],f=Math.round(t/i),h=0;h<a.length;h++)h%f==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(e,t,i,s,r,a,n,o,l,h,d){n=n||"day";var f=[];if(t<e)return f;if(e==t)return h?f.push({offset:o?i/2:s.left,value:e}):o&&f.push({offset:i/2,value:e}),f;var u=i-s.left-s.right,g=e,c=s.left,m=c,_=a=Math.max(a,1),p=Math.min(1,a);for(1<a&&"millisecond"!=n&&(a=1);oe.jqx._ptrnd(m)<=oe.jqx._ptrnd(s.left+u+(o?0:s.right));){f.push({offset:m,value:g});var x,y=new Date(g.valueOf());"millisecond"==n?y.setMilliseconds(g.getMilliseconds()+a):"second"==n?y.setSeconds(g.getSeconds()+a):"minute"==n?y.setMinutes(g.getMinutes()+a):"hour"==n?(x=y.valueOf(),y.setHours(g.getHours()+a),x==y.valueOf()&&y.setHours(g.getHours()+a+1)):"day"==n?y.setDate(g.getDate()+a):"month"==n?y.setMonth(g.getMonth()+a):"year"==n&&y.setFullYear(g.getFullYear()+a),m=c+((g=y).valueOf()-e.valueOf())*p/(t.valueOf()-e.valueOf())*u}if(d)for(var v=0;v<f.length;v++)f[v].offset=i-f[v].offset;if(1<_&&"millisecond"!=n){for(var N=[],v=0;v<f.length;v+=_)N.push({offset:f[v].offset,value:f[v].value});f=N}if(!o&&!h&&1<f.length){(N=[]).push({offset:0,value:void 0});for(v=1;v<f.length;v++)N.push({offset:f[v-1].offset+(f[v].offset-f[v-1].offset)/2,value:void 0});d=N.length;1<d?N.push({offset:N[d-1].offset+(N[d-1].offset-N[d-2].offset)}):N.push({offset:i,value:void 0}),f=N}if(a<r){for(var N=[],M=Math.round(r/_),v=0;v<f.length;v++)v%M==0&&N.push({offset:f[v].offset,value:f[v].value});f=N}return f},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<r;l++){var h=void 0;s||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]){var f=this._getDataValueAsNumber(l,i.series[d].dataField,e);if(!isNaN(f)){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;f=a?f<0:f<t,a=!0;if(f!=(h=null==h?f:h))return!0;h=f,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i],r=(t.seriesGroups[i]={},this._getXAxis(i)),a=this._getValueAxis(i),n=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height),q=((I=t.seriesGroups[i]).isValid=!0,"horizontal"==s.orientation?e.width:e.height),o=1==a.logarithmicScale,l=a.logarithmicScaleBase,h=(isNaN(l)&&(l=10),-1!=s.type.indexOf("stacked")),d=h&&-1!=s.type.indexOf("100"),L=-1!=s.type.indexOf("range"),f=-1!=s.type.indexOf("waterfall");if(f&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";d&&(I.psums=[],I.nsums=[]);var u=NaN,g=NaN,c=NaN,m=NaN,_=a?a.baselineValue:NaN,p=!1,R=(0!=(_=isNaN(_)?o&&!d?1:0:_)&&h&&(p=this._hasStackValueReversal(i,_))&&(_=0),h&&f&&(p=this._hasStackValueReversal(i,_)),this._getDataLen(i)),x=0,y=NaN,v=[];if(f)for(var N=0;N<s.series.length;N++)v.push(NaN);for(var M=NaN,b=0;b<R&&I.isValid;b++){if(r.rangeSelector){var A=r.dataField?this._getDataValue(b,r.dataField,i):b;if(A&&n.isDateTime&&(A=this._castAsDate(A,r.dateFormat)),(A=n.useIndeces?b:A)&&(A.valueOf()<n.min.valueOf()||A.valueOf()>n.max.valueOf()))continue}for(var w=a.minValue,S=a.maxValue,C=(a.baselineValue&&(w=isNaN(w)?_:Math.min(_,w),S=isNaN(S)?_:Math.max(_,S)),0),k=0,N=0;s.series&&N<s.series.length;N++)if(this._isSerieVisible(i,N)){var D=NaN,F=NaN,T=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var G=["Open","Low","Close","High"];for(P in G){var j=this._getDataValueAsNumber(b,s.series[N]["dataField"+G[P]],i);isNaN(j)||(T=isNaN(F)?j:Math.min(T,j),F=isNaN(F)?j:Math.max(F,j))}}else if(L)var V=this._getDataValueAsNumber(b,s.series[N].dataFieldFrom,i),E=this._getDataValueAsNumber(b,s.series[N].dataFieldTo,i),F=Math.max(V,E),T=Math.min(V,E);else{if(D=this._getDataValueAsNumber(b,s.series[N].dataField,i),f){if(this._isSummary(i,b))if(void 0!==this._getDataValue(b,s.series[N].summary,i))continue;h?(isNaN(M)||(D+=M),M=D):(isNaN(v[N])?v[N]=D:D+=v[N],v[N]=D)}if(isNaN(D)||o&&D<=0)continue;T=F=D}(isNaN(S)||S<F)&&(isNaN(a.maxValue)||F<=a.maxValue)&&(S=F),(isNaN(w)||T<w)&&(isNaN(a.minValue)||T>=a.minValue)&&(w=T),isNaN(D)||!h||f||(_<D?C+=D:D<_&&(k+=D))}if(d||(isNaN(a.maxValue)||(C=Math.min(a.maxValue,C)),isNaN(a.minValue)||(k=Math.max(a.minValue,k))),o&&d)for(var O,N=0;N<s.series.length;N++)this._isSerieVisible(i,N)?(D=this._getDataValueAsNumber(b,s.series[N].dataField,i),isNaN(D)||D<=0?y=.01:(O=0==C?0:D/C,(isNaN(y)||O<y)&&(y=O))):y=.01;A=C-k;x<A&&(x=A),d&&(I.psums[b]=C,I.nsums[b]=k),(g<S||isNaN(g))&&(g=S),(w<u||isNaN(u))&&(u=w),(c<C||isNaN(c))&&(c=C),(k<m||isNaN(m))&&(m=k)}d&&(c=0==c?0:Math.max(c,-m),m=0==m?0:Math.min(m,-c)),u==g&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(u=a.minValue,g=o?u*l:u+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(g=a.maxValue,u=o?g/l:g-1)),u==g&&(0==u?(u=-1,g=1):u<0?g=0:o?1==u&&(u/=l,g*=l):u=0);l={gmin:u,gmax:g,gsumP:c,gsumN:m,gbase:_,isLogAxis:o,logBase:l,minPercent:y,gMaxRange:x,isStacked:h,isStacked100:d,isWaterfall:f,hasStackValueReversal:p,valueAxis:a,valueAxisSize:q};l.isStacked&&(l.gsumN<0&&(l.gmin=Math.min(l.gmin,l.gbase+l.gsumN)),0<l.gsumP&&(l.gmax=Math.max(l.gmax,l.gbase+l.gsumP))),I.context=l}this._mergeCommonValueAxisStats();for(var I,b=0;b<t.seriesGroups.length;b++)if((I=t.seriesGroups[b]).isValid){var P,H=this._calcOutputGroupStats(I.context);for(P in H)I[P]=H[P];delete I.context}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++)this._isGroupVisible(i)&&!this.seriesGroups[i].valueAxis&&(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP)));for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var s,r=this._stats.seriesGroups[i].context;for(s in t)r[s]=t[s]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,s=e.gsumP,r=e.gsumN,a=e.gbase,n=e.isLogAxis,o=e.logBase,l=e.minPercent,h=e.gMaxRange,d=e.isStacked,f=e.isStacked100,u=e.isWaterfall,g=e.hasStackValueReversal,c=e.valueAxis,m=e.valueAxisSize,_=(_=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(m/80,2)),p=(t==i&&(t=a,i*=2),NaN),x=0,e=0;if(n){if(f){for(var p=0,y=1,x=e=oe.jqx.log(100,o);l<y;)y/=o,x--,p++;t=Math.pow(o,x)}else d&&!u&&(i=Math.max(i,s)),e=oe.jqx._rnd(oe.jqx.log(i,o),1,!0),i=Math.pow(o,e),x=oe.jqx._rnd(oe.jqx.log(t,o),1,!1),t=Math.pow(o,x);_=o}t<r&&(r=t),s<i&&(s=i);m=t,d=i;if(n||0!=Math.abs(d-m)%_&&(m=oe.jqx._rnd(t,_,!1),d=oe.jqx._rnd(i,_,!0)),f&&100<d&&(d=100),f&&!n&&(d=0<d?100:0,m=m<0?-100:0,_=c.unitInterval,100%(_=isNaN(_)||_<=0||100<=_?10:_)!=0))for(;1<=_&&100%_!=0;_--);return isNaN(d)||isNaN(m)||isNaN(_)?{}:(isNaN(p)&&(p=parseInt(((d-m)/(0==_?1:_)).toFixed())),n&&!f&&(p=e-x,h=Math.pow(o,p)),p<1?{}:{min:m,max:d,logarithmic:n,logBase:o,base:n?m:a,minPow:x,maxPow:e,sumP:s,sumN:r,mu:_,maxRange:h,intervals:p,hasStackValueReversal:g})},_getDataLen:function(e){var t=this.source;return(t=(t=null!=e&&-1!=e&&this.seriesGroups[e].source?this.seriesGroups[e].source:t)instanceof oe.jqx.dataAdapter?t.records:t)?t.length:0},_getDataValue:function(e,t,i){var s=this.source;if(!(!(s=(s=null!=i&&-1!=i?this.seriesGroups[i].source||s:s)instanceof oe.jqx.dataAdapter?s.records:s)||e<0||e>s.length-1))return oe.isFunction(t)?t(e,s):t&&""!=t?s[e][t]:s[e]},_getDataValueAsNumber:function(e,t,i){e=this._getDataValue(e,t,i);return this._isDate(e)?e.valueOf():"number"!=typeof(e="number"!=typeof e?parseFloat(e):e)?void 0:e},_isPieGroup:function(e){e=this.seriesGroups[e];return!(!e||!e.type)&&(-1!=e.type.indexOf("pie")||-1!=e.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._calcGroupOffsets(e,t).offsets,a=0;a<s.series.length;a++){var n=s.series[a];if(!n.customDraw){for(var o=this._getSerieSettings(e,a),l=(n.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(e,a)),h=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0,l=(oe.jqx.mobile.isMobileBrowser()&&this.renderer instanceof oe.jqx.HTML5Renderer&&(h=0),this._get([n.minAngle,n.startAngle])),n=((isNaN(l)||l<0||360<l)&&(l=0),this._get([n.maxAngle,n.endAngle])),d={rect:t,minAngle:l,maxAngle:n=isNaN(n)||n<0||360<n?360:n,groupIndex:e,serieIndex:a,settings:o,items:[]},f=0;f<i;f++){var u,g,c,m=r[a][f];m.visible&&(u=m.fromAngle,g=m.toAngle,c=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,u,0==h?g:u,m.centerOffset),this._setRenderInfo(e,a,f,{element:c}),c={displayValue:m.displayValue,itemIndex:f,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:u,toAngle:g,centerOffset:m.centerOffset},d.items.push(c))}this._animatePieSlices(d,0);var _=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){_._animatePieSlices(t,i)},d)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var i,s,r=this.seriesGroups[e.groupIndex],a=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=a.visible,o=[],l=0;l<e.items.length;l++)(d=e.items[l]).visible&&(u=d.fromAngle,g=d.fromAngle+t*(d.toAngle-d.fromAngle),i&&i[d.displayValue]&&(u=(s=i[d.displayValue].fromAngle)+(u-s)*t,g=(s=i[d.displayValue].toAngle)+(g-s)*t),o.push({index:l,from:u,to:g}));i&&o.sort(this._sliceSortFunction);for(var h=NaN,l=0;l<o.length;l++){var d=e.items[o[l].index],f=this._getRenderInfo(e.groupIndex,e.serieIndex,d.itemIndex),u=o[l].from,g=o[l].to,c=(i&&(!isNaN(h)&&h<u&&(u=h),h=g,l==o.length-1&&g!=o[0].from&&(g=e.maxAngle+o[0].from)),this.renderer.pieSlicePath(d.x,d.y,d.innerRadius,d.outerRadius,u,g,d.centerOffset)),c=(this.renderer.attr(f.element,{d:c}),this._getColors(e.groupIndex,e.serieIndex,d.itemIndex,"radialGradient",d.outerRadius)),m=e.settings;f.colors=c,f.settings=m,this.renderer.attr(f.element,{fill:c.fillColor,stroke:c.lineColor,"stroke-width":m.stroke,"fill-opacity":m.opacity,"stroke-opacity":m.opacity,"stroke-dasharray":"none"}),r.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,d.itemIndex,a),1==t&&this._installHandlers(f.element,"pieslice",e.groupIndex,e.serieIndex,d.itemIndex)}},_showPieLabel:function(e,t,i,s,r){var a,n,o,l,h,d,f,u,g,c=this._renderData[e].offsets[t][i];c.elementInfo.labelElement&&this.renderer.removeElement(c.elementInfo.labelElement),(s=s||this._getLabelsSettings(e,t,NaN)).visible&&(o=c.fromAngle,g=c.toAngle,a=Math.abs(o-g),360<a&&(o=0,g=360),Math.PI,Math.PI,g=a/2+o,a=(g%=360)*Math.PI*2/360,1==s.autoRotate&&(n=g<90||270<g?360-g:180-g),o=s.linesEnabled,l=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,n),h=s.radius||c.outerRadius+Math.max(l.width,l.height),this._isPercent(h)&&(h=parseFloat(h)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),h=(h+=c.centerOffset)+(r=isNaN(r)?0:r),u=(d=this.seriesGroups[e]).series[t],f=oe.jqx.getNum([u.offsetX,d.offsetX,this._plotRect.width/2]),u=oe.jqx.getNum([u.offsetY,d.offsetY,this._plotRect.height/2]),d=this._plotRect.x+f,f=this._plotRect.y+u,u=this._adjustTextBoxPosition(d,f,l,h,g,c.outerRadius>h,0!=s.linesAngles,1==s.autoRotate),c.elementInfo.labelElement=this._showLabel(e,t,i,{x:u.x,y:u.y,width:l.width,height:l.height},"left","top",!(g={}),!1,!1,n,g),h>c.outerRadius+5&&0!=o&&(e={lineColor:c.elementInfo.colors.lineColor,stroke:c.elementInfo.settings.stroke,opacity:c.elementInfo.settings.opacity,dashStyle:c.elementInfo.settings.dashStyle},c.elementInfo.labelArrowPath=this._updateLebelArrowPath(c.elementInfo.labelArrowPath,d,f,h,c.outerRadius+r,a,0!=s.linesAngles,e,g)))},_updateLebelArrowPath:function(e,i,s,t,r,a,n,o,l){oe.jqx._ptrnd(i+ +t*Math.cos(a)),oe.jqx._ptrnd(s-+t*Math.sin(a));t=oe.jqx._ptrnd(i+(r+2)*Math.cos(a)),r=oe.jqx._ptrnd(s-(r+2)*Math.sin(a));(h=[]).push({x:l.x+l.width/2,y:l.y}),h.push({x:l.x+l.width/2,y:l.y+l.height}),h.push({x:l.x,y:l.y+l.height/2}),h.push({x:l.x+l.width,y:l.y+l.height/2}),n||(h.push({x:l.x,y:l.y}),h.push({x:l.x+l.width,y:l.y}),h.push({x:l.x+l.width,y:l.y+l.height}),h.push({x:l.x,y:l.y+l.height}));for(var h=(h=h.sort(function(e,t){return oe.jqx._ptdist(e.x,e.y,i,s)-oe.jqx._ptdist(t.x,t.y,i,s)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))}),d=0;d<h.length;d++)h[d].x=oe.jqx._ptrnd(h[d].x),h[d].y=oe.jqx._ptrnd(h[d].y);a=h[0].x,l=h[0].y,n=n?"M "+a+","+l+" L"+t+","+l+" L"+t+","+r:"M "+a+","+l+" L"+t+","+r;return e?this.renderer.attr(e,{d:n}):e=this.renderer.path(n,{}),this.renderer.attr(e,{fill:"none",stroke:o.lineColor,"stroke-width":o.stroke,"stroke-opacity":o.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,s,r,a,n,o){var l,h,d,f,u=r*Math.PI*2/360,g=oe.jqx._ptrnd(e+s*Math.cos(u)),c=oe.jqx._ptrnd(t-s*Math.sin(u));return o?(o=i.width,l=i.height,h=Math.atan(l/o)%(2*Math.PI),f=0,(d=u%(2*Math.PI))<=h?f=o/2*Math.cos(u):h<=d&&d<Math.PI-h?f=l/2*Math.sin(u):d>=Math.PI-h&&d<Math.PI+h?f=o/2*Math.cos(u):d>=Math.PI+h&&d<2*Math.PI-h?f=l/2*Math.sin(u):d>=2*Math.PI-h&&d<2*Math.PI&&(f=o/2*Math.cos(u)),s+=Math.abs(f)+3,g=oe.jqx._ptrnd(e+s*Math.cos(u)),c=oe.jqx._ptrnd(t-s*Math.sin(u)),{x:g-=i.width/2,y:c-=i.height/2}):(a?(g-=i.width/2,c-=i.height/2):n?90<=r&&r<270?(c-=i.height/2,g-=i.width):c-=i.height/2:0<=r&&r<45||315<=r&&r<360?c-=i.height/2:45<=r&&r<135?(c-=i.height,g-=i.width/2):135<=r&&r<225?(c-=i.height/2,g-=i.width):225<=r&&r<315&&(g-=i.width/2),{x:g,y:c})},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){for(var t=0,i=(e=e||"vertical",this.seriesGroups),s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return t=this.columnSeriesOverlap?1:t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],a=r.orientation||"vertical";this._isColumnType(r.type)&&a==i&&t++}return t},_renderAxisBands:function(e,t,i){var s=i?this._getXAxis(e):this._getValueAxis(e),r=this.seriesGroups[e],a=i?void 0:r.bands;if(!a){for(var n=0;n<e;n++)if((i?this._getXAxis(n):this._getValueAxis(n))==s)return;a=s.bands}if(oe.isArray(a)){var o=t,l="horizontal"==r.orientation;l&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o);for(n=0;n<a.length;n++){var h=a[n],d=this._get([h.minValue,h.from]),f=this._get([h.maxValue,h.to]),u=i?this.getXAxisDataPointOffset(d,e):this.getValueAxisDataPointOffset(d,e),g=i?this.getXAxisDataPointOffset(f,e):this.getValueAxisDataPointOffset(f,e);if(!isNaN(u)&&!isNaN(g)){var c=Math.abs(u-g);if(r.polar||r.spider){var m=this._renderData[e],_=m.polarCoords;if(i)var p=r.spider?(d=this.getPolarDataPointOffset(d,this._stats.seriesGroups[e].max,e),f=this.getPolarDataPointOffset(f,this._stats.seriesGroups[e].max,e),M="M "+_.x+","+_.y,M=(M+=" L "+d.x+","+d.y)+" L "+f.x+","+f.y,this.renderer.path(M)):(d={},f={x:Math.min(u,g),y:t.y,width:c,height:t.height},this._columnAsPieSlice(d,t,_,f),d.element);else{var f=this._toPolarCoord(_,t,t.x,m.baseOffset),d=this._toPolarCoord(_,t,t.x,u),x=this._toPolarCoord(_,t,t.x,g),d=oe.jqx._ptdist(f.x,f.y,d.x,d.y),f=oe.jqx._ptdist(f.x,f.y,x.x,x.y),x=Math.round(360*-_.startAngle/(2*Math.PI)),y=Math.round(360*-_.endAngle/(2*Math.PI));if(y<x&&(D=x,x=y,y=D),r.spider){var v,N=m.xAxis.offsetAngles,M="",b=[f,d],A=N;for(v in _.isClosedCircle&&(A=oe.extend([],N)).push(A[0]),b){for(var w=0;w<A.length;w++){var S=0==v?w:N.length-w-1,C=_.x+b[v]*Math.cos(A[S]),k=_.y+b[v]*Math.sin(A[S]);M=(M+=""==M?"M ":" L")+(oe.jqx._ptrnd(C)+","+oe.jqx._ptrnd(k))}0==v&&(C=_.x+b[1]*Math.cos(A[S]),k=_.y+b[1]*Math.sin(A[S]),M+=" L"+oe.jqx._ptrnd(C)+","+oe.jqx._ptrnd(k))}M+=" Z",p=this.renderer.path(M)}else p=this.renderer.pieslice(_.x,_.y,d,f,x,y)}}else{var D,m={x:Math.min(u,g),y:o.y,width:c,height:o.height};i||(m={x:o.x,y:Math.min(u,g),width:o.width,height:c}),l&&(D=m.x,m.x=m.y,m.y=D,D=m.width,m.width=m.height,m.height=D),p=0==c||1==c?this.renderer.line(oe.jqx._ptrnd(m.x),oe.jqx._ptrnd(m.y),oe.jqx._ptrnd(m.x+(l?0:m.width)),oe.jqx._ptrnd(m.y+(l?m.height:0))):this.renderer.rect(m.x,m.y,m.width,m.height)}d=h.fillColor||h.color||"#AAAAAA",f=h.lineColor||d,x=h.lineWidth,y=(isNaN(x)&&(x=1),h.opacity);(isNaN(y)||y<0||1<y)&&(y=1),this.renderer.attr(p,{fill:d,"fill-opacity":y,stroke:f,"stroke-opacity":y,"stroke-width":x,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var e=this.seriesGroups[e],s=-1!=e.type.indexOf("stacked"),r=(s||e.series.length,this._getColumnGroupsCount(e.orientation)),a=(!isNaN(r)&&0!=r||(r=1),1<=t.rangeLength?t.itemWidth:.9*i),n=e.columnsMinWidth,i=(isNaN(n)&&(n=1),a<(n=isNaN(e.columnsMaxWidth)?n:Math.min(e.columnsMaxWidth,n))&&0<t.length&&(a=Math.max(a,.9*i/t.length)),n),n=(s||(t=e.seriesGapPercent,(isNaN(t)||t<0)&&(t=10),s=n,i+=e.series.length*(s*=1+(t/=100))),Math.max(a/r,i));return{requiredWidth:i,availableWidth:a,targetWidth:n}},_getColumnSerieWidthAndOffset:function(e,t){var i,s,r,a,n=this.seriesGroups[e],o=(n.series[t],"horizontal"==n.orientation),l=this._plotRect,h=(o&&(l={x:l.y,y:l.x,width:l.height,height:l.width}),this._calcGroupOffsets(e,l));if(h&&0!=h.xoffsets.length)return i=this._getColumnGroupsCount(n.orientation),"candlestick"!=n.type&&"ohlc"!=n.type||(i=1),s=this._getColumnGroupIndex(e),e=this._getColumnGroupWidth(e,h.xoffsets,o?l.height:l.width),h=0,o=e.targetWidth,(1==this.columnSeriesOverlap||Math.round(o)>Math.round(e.availableWidth/i))&&(i=1,s=0),h=h-o*i/2+o*s,l=n.columnsGapPercent,l<=0&&(l=0),(isNaN(l)||100<=l)&&(l=25),i=o*(l/=100),i+e.requiredWidth>e.targetWidth&&(i=Math.max(0,e.targetWidth-e.requiredWidth)),o-=i=Math.round(o)>Math.round(e.availableWidth)?0:i,h+=i/2,s=n.seriesGapPercent,(isNaN(s)||s<0)&&(s=10),l=-1!=n.type.indexOf("stacked"),e=o,l||(e/=n.series.length),i=this._get([n.seriesGap,o*s/100/(n.series.length-1)]),s=(i=1==n.polar||1==n.spider||l||n.series.length<=1?0:i)*(n.series.length-1),1<n.series.length&&s>o-+n.series.length&&(i=(s=o-+n.series.length)/Math.max(1,n.series.length-1)),e-=s/n.series.length,r=0,a=n.columnsMaxWidth,isNaN(a)||a<e&&(r=e-a,e=a),{width:e,offset:h+(l?r/2:(o-e*n.series.length-s)/2+e*t+Math.max(0,t)*i)}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var s="horizontal"==i.orientation,r=t,a=(s&&(r={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,r));if(a&&0!=a.xoffsets.length){for(var n,o={groupIndex:e,rect:t,vertical:!s,seriesCtx:[],renderData:a,polarAxisCoords:n=1!=i.polar&&1!=i.spider?n:this._getPolarAxisCoords(e,r)},l=(o.columnGroupWidth=this._getColumnGroupWidth(e,a.xoffsets,s?r.height:r.width),this._getGroupGradientType(e)),h=0;h<i.series.length;h++){var d=i.series[h];if(!d.customDraw){d.dataField;var f=this._getAnimProps(e,h),u=f.enabled&&!this._isToggleRefresh&&a.xoffsets.length<100?f.duration:0,f=this._getColumnSerieWidthAndOffset(e,h),g=this._isSerieVisible(e,h),c=this._getSerieSettings(e,h),m=this._getColors(e,h,NaN,this._getGroupGradientType(e),4),_=[];if(oe.isFunction(d.colorFunction)&&!n)for(var p=a.xoffsets.first;p<=a.xoffsets.last;p++)_.push(this._getColors(e,h,p,l,4));d={seriesIndex:h,serieColors:m,itemsColors:_,settings:c,columnWidth:f.width,xAdjust:f.offset,isVisible:g};o.seriesCtx.push(d)}}this._animColumns(o,0==u?1:0);var x=this;this._enqueueAnimation("series",void 0,void 0,u,function(e,t,i){x._animColumns(t,i)},o)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&s<e&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,a){for(var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100),h=(0==o&&0==l&&(l=100),this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100),d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,f=[],u=NaN,g=0;g<i.length;g++){var c,m=(N=i[g]).seriesIndex,_=(n.series[m],e.offsets[m][s].from),p=e.offsets[m][s].to,x=e.xoffsets.data[s],y=N.isVisible,v=(y||(p=_),this._elementRenderInfo),v=(y&&v&&v.length>t&&v[t].series.length>m&&(y=e.xoffsets.xvalues[s],!(c=v[t].series[m][y])||isNaN(c.from)||isNaN(c.to)||(_=c.from+(_-c.from)*a,p=c.to+(p-c.to)*a,x=c.xoffset+(x-c.xoffset)*a)),c||(p=_+(p-_)*(r?1:a)),isNaN(_)&&(_=isNaN(u)?e.baseOffset:u),u=!isNaN(p)&&r?p:_,{from:_,to:p=isNaN(p)?_:p,xOffset:x});100==o&&100==l||(v.funnel=!0,v.toWidthPercent=o,v.fromWidthPercent=l),f.push(v)}if(r&&1<f.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var N,M=0,b=0,A=-1/0,w=1/0,S=1/0,C=-1/0,k=0;k<f.length;k++)(N=i[k]).isVisible&&(f[k].to>=f[k].from?(b+=f[k].to-f[k].from,S=Math.min(S,f[k].from),C=Math.max(C,f[k].to)):(M+=f[k].from-f[k].to,A=Math.max(A,f[k].from),w=Math.min(w,f[k].to)));for(var D,F=M,T=b,j=(M*=a,b*=a,0),O=0,k=0;k<f.length;k++)f[k].to>=f[k].from?(b<(D=f[k].to-f[k].from)+O&&(D=Math.max(0,b-O),f[k].to=f[k].from+D),100==o&&100==l||(f[k].funnel=!0,!isNaN(h)&&O<=T*h?f[k].fromWidthPercent=100*d:f[k].fromWidthPercent=Math.abs(f[k].from-S)/T*(o-l)+l,!isNaN(h)&&0+(O+D)<=T*h?f[k].toWidthPercent=100*d:f[k].toWidthPercent=Math.abs(f[k].to-S)/T*(o-l)+l),O+=D):(M<(D=f[k].from-f[k].to)+j&&(D=Math.max(0,M-j),f[k].to=f[k].from-D),100==o&&100==l||(f[k].funnel=!0,!isNaN(h)&&j<=F*h?f[k].fromWidthPercent=100*d:f[k].fromWidthPercent=Math.abs(f[k].from-A)/F*(o-l)+l,!isNaN(h)&&0+(j+D)<=F*h?f[k].toWidthPercent=100*d:f[k].toWidthPercent=Math.abs(f[k].to-A)/F*(o-l)+l),j+=D)}return f},_columnAsPieSlice:function(e,t,i,s){var r=this._toPolarCoord(i,t,s.x,s.y),a=this._toPolarCoord(i,t,s.x,s.y+s.height),a=oe.jqx._ptdist(i.x,i.y,a.x,a.y),r=oe.jqx._ptdist(i.x,i.y,r.x,r.y),n=t.width,o=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,l=-(s.x-t.x)*o/n,s=-(s.x+s.width-t.x)*o/n;return l-=t=360*i.startAngle/(2*Math.PI),s-=t,e&&(null!=e.element?(o=this.renderer.pieSlicePath(i.x,i.y,a,r,s,l,0),this.renderer.attr(e.element,{d:o+=" Z"})):e.element=this.renderer.pieslice(i.x,i.y,a,r,s,l,0)),{fromAngle:s,toAngle:l,innerRadius:a,outerRadius:r}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,s=this.seriesGroups[i],r=e.renderData,a=-1!=s.type.indexOf("waterfall"),q=this._getXAxis(i),n=-1!=s.type.indexOf("stacked"),o=e.polarAxisCoords,L=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),l=0;l<s.series.length;l++)if(this._isSerieVisible(i,l)){L=l;break}for(var h=NaN,d=NaN,l=0;l<e.seriesCtx.length;l++){var f=e.seriesCtx[l];(isNaN(h)||h>f.xAdjust)&&(h=f.xAdjust),(isNaN(d)||d<f.xAdjust+f.columnWidth)&&(d=f.xAdjust+f.columnWidth)}for(var R=Math.abs(d-h),u=this._get([s.columnsGapPercent,25])/100,G=(u=isNaN(u)<0||1<=u?.25:u)*R,g=e.renderData.xoffsets,V=-1,E={},H=1==s.skipOverlappingPoints,c=g.first;c<=g.last;c++){var m=g.data[c];if(!isNaN(m)&&!(-1!=V&&Math.abs(m-V)<R-1+G&&H)){var V=m,_=this._getColumnVOffsets(r,i,e.seriesCtx,c,n,t),B=!1;if(a)for(var p=0;p<s.series.length;p++)s.series[p].summary&&g.xvalues[c][s.series[p].summary]&&(B=!0);for(p=0;p<e.seriesCtx.length;p++){var x,y,v,N,M,b,A,w,S,C=(f=e.seriesCtx[p]).seriesIndex,k=s.series[C],D=_[p].from,F=_[p].to,T=_[p].xOffset,j=(e.vertical?e.rect.x:e.rect.y)+f.xAdjust,O=f.settings,I=0!=f.itemsColors.length?f.itemsColors[c-r.xoffsets.first]:f.serieColors,P=this._isSerieVisible(i,C);P&&(j={x:m=oe.jqx._ptrnd(j+T),width:f.columnWidth},_[p].funnel&&(j.fromWidthPercent=_[p].fromWidthPercent,j.toWidthPercent=_[p].toWidthPercent),T=!0,e.vertical?(j.y=D,j.height=F-D,j.height<0&&(j.y+=j.height,j.height=-j.height,T=!1)):(j.x=D<F?D:F,j.width=Math.abs(D-F),T=D-F<0,j.y=m,j.height=f.columnWidth),D=D-F,isNaN(D)||(D=Math.abs(D),y=void 0,M=null==(v=(x=this._getRenderInfo(i,C,c)).element),(S=x.labelElement)&&(this.renderer.removeElement(S),S=void 0),o?(y=this._columnAsPieSlice(N={element:v},e.rect,o,j),v=N.element,I=this._getColors(i,C,void 0,"radialGradient",y.outerRadius)):_[p].funnel?(N=this._getTrapezoidPath(oe.extend({},j),e.vertical,T),M?v=this.renderer.path(N,{}):this.renderer.attr(v,{d:N})):M?v=this.renderer.rect(j.x,j.y,e.vertical?j.width:0,e.vertical?0:j.height):1==e.vertical?this.renderer.attr(v,{x:j.x,y:j.y,height:D}):this.renderer.attr(v,{x:j.x,y:j.y,width:D}),D<1&&(1!=t||o)?this.renderer.attr(v,{display:"none"}):this.renderer.attr(v,{display:"block"}),M&&this.renderer.attr(v,{fill:I.fillColor,"fill-opacity":O.opacity,"stroke-opacity":O.opacity,stroke:I.lineColor,"stroke-width":O.stroke,"stroke-dasharray":O.dashStyle}),S&&this.renderer.removeElement(S),!P||0==D&&t<1?this._setRenderInfo(i,C,c,x={element:v,labelElement:S}):(a&&0!=this._get([k.showWaterfallLines,s.showWaterfallLines])&&(n&&p!=L||(M=n?-1:p,1!=t||isNaN(r.offsets[p][c].from)||isNaN(r.offsets[p][c].to)||null!=(P=E[M])&&(M={x:m,y:(k={x:P.x,y:oe.jqx._ptrnd(P.y)}).y},w=s.columnsTopWidthPercent/100,(isNaN(w)||1<w||w<0)&&(w=1),A=s.columnsBottomWidthPercent/100,(isNaN(A)||1<A||A<0)&&(A=1),b=e.vertical?j.width:j.height,k.x=k.x-b/2+b/2*w,w=B?b*w/2:b*A/2,M.x=M.x+b/2-(q.flip?-w:w),e.vertical||(this._swapXY([k]),this._swapXY([M])),this.renderer.line(k.x,k.y,M.x,M.y,{stroke:P.color,"stroke-width":O.stroke,"stroke-opacity":O.opacity,"fill-opacity":O.opacity,"stroke-dasharray":O.dashStyle}))),1==t&&0!=D&&(E[n?-1:p]={y:F,x:e.vertical?j.x+j.width:j.y+j.height,color:I.lineColor})),S=o?(this._toPolarCoord(o,e.rect,j.x+j.width/2,j.y),b=this._showLabel(i,C,c,j,void 0,void 0,!0),A=y.outerRadius+10,w=this._adjustTextBoxPosition(o.x,o.y,b,A,(y.fromAngle+y.toAngle)/2,!0,!1,!1),this._showLabel(i,C,c,{x:w.x,y:w.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,C,c,j,void 0,void 0,!1,!1,T),this._setRenderInfo(i,C,c,x={element:v,labelElement:S}),1==t&&this._installHandlers(v,"column",i,C,c))))}}}},_getTrapezoidPath:function(e,t,i){var s="",r=e.fromWidthPercent/100,a=e.toWidthPercent/100,n=(t||(n=e.width,e.width=e.height,e.height=n,n=e.x,e.x=e.y,e.y=n),e.x+e.width/2),o=[{x:n-e.width*(i?a:r)/2,y:e.y+e.height},{x:n-e.width*(i?r:a)/2,y:e.y},{x:n+e.width*(i?r:a)/2,y:e.y},{x:n+e.width*(i?a:r)/2,y:e.y+e.height}];t||this._swapXY(o),s+="M "+oe.jqx._ptrnd(o[0].x)+","+oe.jqx._ptrnd(o[0].y);for(var l=1;l<o.length;l++)s+=" L "+oe.jqx._ptrnd(o[l].x)+","+oe.jqx._ptrnd(o[l].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var s=this,r=s.seriesGroups[e];if(r.series&&0!=r.series.length){var a="horizontal"==r.orientation,n=t,o=(a&&(n={x:t.y,y:t.x,width:t.height,height:t.width}),s._calcGroupOffsets(e,n));if(o&&0!=o.xoffsets.length){n.width,(r.polar||r.spider)&&(l=s._getPolarAxisCoords(e,n)).r,s._alignValuesWithTicks(e);for(var l,h=s._getGroupGradientType(e),d=[],f=0;f<r.series.length;f++)d[f]=s._getColumnSerieWidthAndOffset(e,f);for(var u,g,c,f=0;f<r.series.length;f++)this._isSerieVisible(e,f)&&(g=s._getSerieSettings(e,f),(u=r.series[f]).customDraw||(c=oe.isFunction(u.colorFunction)?void 0:s._getColors(e,f,NaN,h),u={rect:t,inverse:a,groupIndex:e,seriesIndex:f,symbolType:u.symbolType,symbolSize:u.symbolSize,"fill-opacity":g.opacity,"stroke-opacity":g.opacity,"stroke-width":g.stroke,"stroke-dasharray":g.dashStyle,gradientType:h,colors:c,renderData:o,polarAxisCoords:l,columnsInfo:d,isOHLC:i,items:[],self:s},c=(g=s._getAnimProps(e,f)).enabled&&!s._isToggleRefresh&&o.xoffsets.length<5e3?g.duration:0,s._animCandleStick(u,0),s._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){s._animCandleStick(t,i)},u)))}}},_animCandleStick:function(e,t){for(var i=["Open","Low","Close","High"],s=e.columnsInfo[e.seriesIndex].width,r=e.self.seriesGroups[e.groupIndex],a=e.renderData.xoffsets,n=-1,o=Math.abs(a.data[a.last]-a.data[a.first]),l=(o*=t,NaN),h=NaN,d=0;d<e.columnsInfo.length;d++){var f=e.columnsInfo[d];(isNaN(l)||l>f.offset)&&(l=f.offset),(isNaN(h)||h<f.offset+f.width)&&(h=f.offset+f.width)}for(var u=Math.abs(h-l),g=0!=r.skipOverlappingPoints,c=a.first;c<=a.last;c++){var m=a.data[c];if(!isNaN(m)&&!(-1!=n&&Math.abs(m-n)<u&&g)){if(o<Math.abs(a.data[c]-a.data[a.first]))break;var _,n=m,p=e.items[c]=e.items[c]||{};for(d in i){var x=e.self._getDataValueAsNumber(c,r.series[e.seriesIndex]["dataField"+i[d]],e.groupIndex);if(isNaN(x))break;var y=e.renderData.offsets[e.seriesIndex][c][i[d]];if(isNaN(y))break;p[i[d]]=y}for(_ in m+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(m=(b=this._toPolarCoord(e.polarAxisCoords,this._plotRect,m,y)).x,y=b.y),m=oe.jqx._ptrnd(m),i)p[_]=oe.jqx._ptrnd(p[_]);var v,N,M,b=(b=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,c,e.gradientType);e.isOHLC?(N="M"+m+","+p.Low+" L"+m+","+p.High+" M"+(m-s/2)+","+p.Open+" L"+m+","+p.Open+" M"+(m+s/2)+","+p.Close+" L"+m+","+p.Close,e.inverse&&(N="M"+p.Low+","+m+" L"+p.High+","+m+" M"+p.Open+","+(m-s/2)+" L"+p.Open+","+m+" M"+p.Close+","+m+" L"+p.Close+","+(m+s/2)),(v=p.lineElement)||(v=this.renderer.path(N,{}),this.renderer.attr(v,{fill:b.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.lineElement=v),1==t&&this._installHandlers(v,"column",e.groupIndex,e.seriesIndex,c)):((v=p.lineElement)||(v=e.inverse?this.renderer.line(p.Low,m,p.High,m):this.renderer.line(m,p.Low,m,p.High),this.renderer.attr(v,{fill:b.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.lineElement=v),m-=s/2,(N=p.stickElement)||(M=b.fillColor,p.Close<=p.Open&&b.fillColorAlt&&(M=b.fillColorAlt),N=e.inverse?this.renderer.rect(Math.min(p.Open,p.Close),m,Math.abs(p.Close-p.Open),s):this.renderer.rect(m,Math.min(p.Open,p.Close),s,Math.abs(p.Close-p.Open)),this.renderer.attr(N,{fill:M,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.stickElement=N),1==t&&this._installHandlers(N,"column",e.groupIndex,e.seriesIndex,c))}}},_renderScatterSeries:function(e,t,i){var s=this.seriesGroups[e];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("bubble"),a="horizontal"==s.orientation,n=t,o=(a&&(n={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,n));if(o&&0!=o.xoffsets.length){var l,h=n.width,d=((s.polar||s.spider)&&(h=2*(l=this._getPolarAxisCoords(e,n)).r),this._alignValuesWithTicks(e),this._getGroupGradientType(e));i=i||"to";for(var f=0;f<s.series.length;f++){var u=this._getSerieSettings(e,f),g=s.series[f];if(!g.customDraw){var c=g.dataField,m=oe.isFunction(g.colorFunction),_=this._getColors(e,f,NaN,d),p=NaN,x=NaN;if(r)for(var y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"!=typeof(S=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(S)||((isNaN(p)||S<p)&&(p=S),(isNaN(x)||x<S)&&(x=S))}for(var v=g.minRadius||g.minSymbolSize,N=(isNaN(v)&&(v=h/50),g.maxRadius||g.maxSymbolSize),M=((N=isNaN(N)?h/25:N)<v&&(N=v),g.radius),M=isNaN(M)&&!isNaN(g.symbolSize)?"circle"==g.symbolType?g.symbolSize/2:g.symbolSize:5,b=this._getAnimProps(e,f),b=b.enabled&&!this._isToggleRefresh&&o.xoffsets.length<5e3?b.duration:0,A={groupIndex:e,seriesIndex:f,symbolType:g.symbolType,symbolSize:g.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-width-symbol":u.strokeSymbol,"stroke-dasharray":u.dashStyle,items:[],polarAxisCoords:l},w=void 0,y=o.xoffsets.first;y<=o.xoffsets.last;y++){var S=this._getDataValueAsNumber(y,c,e);if("number"==typeof S){var C=o.xoffsets.data[y],k=o.xoffsets.xvalues[y],D=o.offsets[f][y][i];if(!(D<n.y||D>n.y+n.height))if(!isNaN(C)&&!isNaN(D))if(a?(j=C,C=D,D=j+t.y):C+=t.x,!(!m&&w&&this.enableSampling&&oe.jqx._ptdist(w.x,w.y,C,D)<1)){var w={x:C,y:D},F=M;if(r){var T=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,e);if("number"!=typeof T)continue;F=v+(N-v)*(T-p)/Math.max(1,x-p),isNaN(F)&&(F=v)}o.offsets[f][y].radius=F;var j,T=NaN,O=NaN,I=0,P=this._elementRenderInfo;null!=k&&P&&P.length>e&&P[e].series.length>f&&((P=P[e].series[f][k])&&!isNaN(P.to)&&(T=P.to,O=P.xoffset,I=M,a?(j=O,O=T,T=j+t.y):O+=t.x,r&&(I=v+(N-v)*(P.valueRadius-p)/Math.max(1,x-p),isNaN(I)&&(I=v)))),m&&(_=this._getColors(e,f,y,d)),A.items.push({from:I,to:F,itemIndex:y,fill:_.fillColor,stroke:_.lineColor,x:C,y:D,xFrom:O,yFrom:T})}}}this._animR(A,0);var q=this;this._enqueueAnimation("series",void 0,void 0,b,function(e,t,i){q._animR(t,i)},A)}}}}},_animR:function(e,t){for(var i=e.items,s=e.symbolType||"circle",r=e.symbolSize,a=0;a<i.length;a++){var n=i[a],o=n.x,l=n.y,h=Math.round((n.to-n.from)*t+n.from),d=(isNaN(n.yFrom)||(l=n.yFrom+(l-n.yFrom)*t),isNaN(n.xFrom)||(o=n.xFrom+(o-n.xFrom)*t),e.polarAxisCoords&&(o=(d=this._toPolarCoord(e.polarAxisCoords,this._plotRect,o,l)).x,l=d.y),o=oe.jqx._ptrnd(o),l=oe.jqx._ptrnd(l),h=oe.jqx._ptrnd(h),this._getRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex)),f=d.element,u=d.labelElement;"circle"==s?(f||(f=this.renderer.circle(o,l,h),this.renderer.attr(f,{fill:n.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:n.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(f,void 0,void 0,h):this.renderer.attr(f,{r:h,cy:l,cx:o})):(f&&this.renderer.removeElement(f),f=this._drawSymbol(s,o,l,n.fill,e["fill-opacity"],n.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],r||h)),u&&this.renderer.removeElement(u),u=this._showLabel(e.groupIndex,e.seriesIndex,n.itemIndex,{x:o-h,y:l-h,width:2*h,height:2*h}),1<=t&&this._installHandlers(f,"circle",e.groupIndex,e.seriesIndex,n.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex,{element:f,labelElement:u})}},_showMultiSeriesToolTip:function(e,t,i){for(var s=this,r='<div style="text-align:left">',a="",n=0;n<s.seriesGroups.length;n++)if(!s._isPieGroup(n)){var o=s._getXAxis(n),l=s._getValueAxis(n),h=s.seriesGroups[n],d=this._getAxisSettings(o),f=d.toolTipFormatSettings,d=d.toolTipFormatFunction,u=s._getDataValue(i,o.dataField,n),o=(null!=o.dataField&&""!=o.dataField||(u=i),"date"==o.type&&(u=s._castAsDate(u,(f?f.dateFormat:void 0)||o.dateFormat)),d||f||"date"!=o.type||(d=this._getDefaultDTFormatFn(o.baseUnit||"day")),o.displayText||o.dataField||""),o=(""!=o&&(o+=": "),o+s._formatValue(u,f,d,n,g,i));a!=o&&(""!=a&&(r+="<br />"),r+=o+"<br /><br />",a=o);for(var g=0;g<h.series.length;g++){var c,m=h.series[g];0!=h.showToolTips&&0!=m.showToolTips&&s._isSerieVisible(n,g)&&(c=s._get([m.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,s.toolTipFormatSettings]),m=s._get([m.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,s.toolTipFormatFunction]),c=s._getFormattedValue(n,g,i,c,m),r+="<span style='color:"+s._getColors(n,g,i).lineColor+";'>"+c+"</span><br />\n")}}var _=this._get([s.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),p=this._get([s.toolTipBackground,"#FFFFFF"]),x=this._get([s.toolTipLineColor,s._defaultLineColor]),y=this._get([s.toolTipOpacity,1]),v=(r+="</div>",this.getItemCoord(s._ttEl.gidx,s._ttEl.sidx,s._ttEl.iidx));s._createTooltip(v,s.seriesGroups[s._ttEl.gidx],r,{css:_,fill:p,stroke:x,fillOpacity:y,symbolSize:3})},_showToolTip:function(e,t,i,s,r){var a=this,n=a._getXAxis(i),o=a._getValueAxis(i);if(!a._ttEl||i!=a._ttEl.gidx||s!=a._ttEl.sidx||r!=a._ttEl.iidx){var l=a.seriesGroups[i],h=l.series[s],d=a.enableCrosshairs,f=(a._pointMarker?(e=parseInt(a._pointMarker.x+5),t=parseInt(a._pointMarker.y-5)):d=!1,d&&0==a.showToolTips);e=oe.jqx._ptrnd(e),t=oe.jqx._ptrnd(t),a._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){a._ttEl||(a._ttEl={}),a._ttEl.sidx=s,a._ttEl.gidx=i,a._ttEl.iidx=r;for(var u=0,g=0;g<a.seriesGroups.length;g++)for(var c=0;c<a.seriesGroups[g].series.length;c++)u++;if(a.showToolTipsOnAllSeries&&!a._isPieGroup(i)&&1<u)a._showMultiSeriesToolTip(e,t,r);else{var e=a._get([h.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings,a.toolTipFormatSettings]),t=a._get([h.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction,a.toolTipFormatFunction]),o=a._getColors(i,s,r),m=a._getDataValue(r,n.dataField,i),_=(null!=n.dataField&&""!=n.dataField||(m=r),"date"==n.type&&(m=a._castAsDate(m,(e?e.dateFormat:void 0)||n.dateFormat)),"");if(oe.isFunction(t)){var p,x={},y=0;for(p in h)0==p.indexOf("dataField")&&(x[p.substring(9,p.length).toLowerCase()]=a._getDataValue(r,h[p],i),y++);0==y?x=a._getDataValue(r,void 0,i):1==y&&(x=x[""]),_=t(x,r,h,l,m,n)}else{_=a._getFormattedValue(i,s,r,e,t);var e=this._getAxisSettings(n),t=e.toolTipFormatSettings,e=e.toolTipFormatFunction,v=(e||t||"date"!=n.type||(e=this._getDefaultDTFormatFn(n.baseUnit||"day")),a._formatValue(m,t,e,i,s,r));_=a._isPieGroup(i)?(m=a._getDataValue(r,h.displayText||h.dataField,i),(v=a._formatValue(m,t,e,i,s,r))+": "+_):0<(m=n.displayText||n.dataField||"").length?m+": "+v+"<br>"+_:v+"<br>"+_}a.renderer.getRect();if(d){var t=oe.jqx._ptrnd(a._pointMarker.x),e=oe.jqx._ptrnd(a._pointMarker.y),n=a.crosshairsColor||a._defaultLineColor;if(l.polar||l.spider){var m=this._getPolarAxisCoords(i,this._plotRect);if(oe.jqx._ptdist(t,e,m.x,m.y)>m.r)return;var v=Math.atan2(e-m.y,t-m.x),d=Math.cos(v)*m.r+m.x,v=Math.sin(v)*m.r+m.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:m.x,y1:m.y,x2:d,y2:v}):a._ttEl.vLine=a.renderer.line(m.x,m.y,d,v,{stroke:n,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:t,x2:t}),a.renderer.attr(a._ttEl.hLine,{y1:e,y2:e})):(a._ttEl.vLine=a.renderer.line(t,a._plotRect.y,t,a._plotRect.y+a._plotRect.height,{stroke:n,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,e,a._plotRect.x+a._plotRect.width,e,{stroke:n,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}f||0==a.showToolTips||(m=this._get([h.toolTipClass,l.toolTipClass,a.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),d=this._get([h.toolTipBackground,l.toolTipBackground,a.toolTipBackground,"#FFFFFF"]),v=this._get([h.toolTipLineColor,l.toolTipLineColor,a.toolTipLineColor,o.lineColor]),t=this._get([h.toolTipOpacity,l.toolTipOpacity,a.toolTipOpacity,1]),e=this.getItemCoord(i,s,r),n=0,a._pointMarker&&a._pointMarker.element&&(n=h.symbolSizeSelected,isNaN(n)&&(n=h.symbolSize),(isNaN(n)||50<n||n<0)&&(n=l.symbolSize),(isNaN(n)||50<n||n<0)&&(n=8)),a._createTooltip(e,l,_,{css:m,fill:d,stroke:v,fillOpacity:t,symbolSize:n}))}}}},_fitTooltip:function(e,t,i,s,r){var a,n={},r=2+r/2;if(t.x-i.width-7-r>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-r,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+r<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+r,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-r-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-r-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+r<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+r,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(e,t,i,s){var r,a,n,o=this,l=t.type,h=!1,d=o._ttEl.box;if(d||(h=!0,(d=o._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",oe(r).css({"z-index":1e7,"box-sizing":"content-box"}),oe(d).css({"z-index":1e7}),oe(document.body).append(d),(r=document.createElement("div")).id="arrowOuterDiv",r.style.width="0px",r.style.height="0px",r.style.position="absolute",oe(r).css({"z-index":1e7+1,"box-sizing":"content-box"}),(a=document.createElement("div")).id="arrowInnerDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",(n=document.createElement("div")).id="contentDiv",n.style.position="absolute",oe(n).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),oe(n).addClass("jqx-rc-all"),oe(n).appendTo(oe(d)),oe(r).appendTo(oe(d)),oe(a).appendTo(oe(d)),oe(a).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){n=oe(d).find("#contentDiv")[0],r=oe(d).find("#arrowOuterDiv")[0],(a=oe(d).find("#arrowInnerDiv")[0]).style.opacity=r.style.opacity=s.fillOpacity,n.style.backgroundColor=s.fill,n.style.borderColor=s.stroke,n.style.opacity=s.fillOpacity;var i="<span class='"+s.css+"'>"+i+"</span>",f=(oe(n).html(i),this._measureHtml(i,"jqx-rc-all jqx-button")),i=o._plotRect;if(!(f.width>i.width||f.height>i.height)){var u={width:f.width,height:f.height},g="",c=o._isColumnType(l),m=Math.max(e.x,i.x),_=Math.max(e.y,i.y),p=("dataPoint"==o.toolTipAlignment?(-1!=l.indexOf("pie")||-1!=l.indexOf("donut")?(l=(e.fromAngle+e.toAngle)/2,l*=Math.PI/180,v=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,m=e.x=e.center.x+Math.cos(l)*v,_=e.y=e.center.y-Math.sin(l)*v,e.width=e.height=1):c&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(l=this._fitTooltip(this._plotRect,e,u,t,s.symbolSize)).arrowLocation&&(g=l.arrowLocation,m=l.x,_=l.y,u.width=l.width,u.height=l.height)):g="","top"==g||"bottom"==g?(u.height+=7,m-=3.5,"bottom"==g&&(_-=7)):"left"!=g&&"right"!=g||(u.width+=7,_-=3.5,"right"==g&&(m-=7)),m+u.width>i.x+i.width&&(g="",m=i.x+i.width-u.width),_+u.height>i.y+i.height&&(g="",_=i.y+i.height-u.height),{x:0,y:0}),x=(oe(n).css({width:f.width,height:f.height,left:0,top:0}),r.style["margin-top"]=r.style["margin-left"]=0,a.style["margin-top"]=a.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0,"7px solid"),y="7px solid transparent";switch(g){case"left":p={x:0,y:(f.height-7)/2},n.style["margin-left"]="7px",r.style["margin-left"]="0px",r.style["margin-top"]=p.y+"px",r.style["border-left"]="",r.style["border-right"]=x+" "+s.stroke,r.style["border-top"]=y,r.style["border-bottom"]=y,a.style["margin-left"]="1px",a.style["margin-top"]=p.y+"px",a.style["border-left"]="",a.style["border-right"]=x+" "+s.fill,a.style["border-top"]=y,a.style["border-bottom"]=y;break;case"right":p={x:u.width-7,y:(f.height-7)/2},r.style["margin-left"]=p.x+"px",r.style["margin-top"]=p.y+"px",r.style["border-left"]=x+" "+s.stroke,r.style["border-right"]="",r.style["border-top"]=y,r.style["border-bottom"]=y,a.style["margin-left"]=p.x-1+"px",a.style["margin-top"]=p.y+"px",a.style["border-left"]=x+" "+s.fill,a.style["border-right"]="",a.style["border-top"]=y,a.style["border-bottom"]=y;break;case"top":p={x:u.width/2-3.5,y:0},n.style["margin-top"]={x:0,y:7}.y+"px",r.style["margin-left"]=p.x+"px",r.style["border-top"]="",r.style["border-bottom"]=x+" "+s.stroke,r.style["border-left"]=y,r.style["border-right"]=y,a.style["margin-left"]=p.x+"px",a.style["margin-top"]="1px",a.style["border-top"]="",a.style["border-bottom"]=x+" "+s.fill,a.style["border-left"]=y,a.style["border-right"]=y;break;case"bottom":p={x:u.width/2-3.5,y:u.height-7},r.style["margin-left"]=p.x+"px",r.style["margin-top"]=p.y+"px",r.style["border-top"]=x+" "+s.stroke,r.style["border-bottom"]="",r.style["border-left"]=y,r.style["border-right"]=y,a.style["margin-left"]=p.x+"px",a.style["margin-top"]=p.y-1+"px",a.style["border-top"]=x+" "+s.fill,a.style["border-bottom"]="",a.style["border-left"]=y,a.style["border-right"]=y}""==g?(oe(r).hide(),oe(a).hide()):(oe(r).show(),oe(a).show()),oe(d).css({width:u.width+"px",height:u.height+"px"});var v=o.host.coord();h&&(oe(d).fadeOut(0,0),d.style.left=m+v.left+"px",d.style.top=_+v.top+"px"),oe(d).clearQueue(),oe(d).animate({left:m+v.left,top:_+v.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),oe(d).fadeTo(400,1)}}else oe(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv,t=(i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",oe(i).addClass(t),this.host.append(i)),oe(i).html(e),{width:oe(i).width()+2,height:oe(i).height()+2});return oe.jqx.browser&&oe.jqx.browser.mozilla&&(t.height+=3),t},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?oe(this._ttEl.box).hide():oe(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return oe.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},i={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},s={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},r=e.title||{},r={visible:t._get([r.visible,!0]),text:t._get([e.description,r.text]),style:t._get([e.descriptionClass,r.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,r.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,r.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([r.rotationPoint,"centercenter"]),offset:t._get([r.offset,{x:0,y:0}])},a=e.line||{},t={visible:t._get([a.visible,!0]),color:t._get([a.color,i.color,t._defaultLineColor]),dashStyle:t._get([a.dashStyle,i.dashStyle,""]),width:t._get([a.lineWidth,1]),angle:t._get([a.angle,NaN])},a={left:(a=e.padding||{}).left||0,right:a.right||0,top:a.top||0,bottom:a.bottom||0},n=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:i,tickMarks:s,line:t,title:r,labels:n,padding:a,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,n.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,n.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,s){for(var r=this.seriesGroups[e],a=r.series[t],n=isNaN(i)?void 0:this._getDataValue(i,a.dataField,e),o=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},h=0;h<o.length;h++){var d=o[h],f="labels"+d,u="label"+d,d=d.substring(0,1).toLowerCase()+d.substring(1),g=void 0;r.labels&&"object"==typeof r.labels&&(g=r.labels[d]),a.labels&&"object"==typeof a.labels&&null!=a.labels[d]&&(g=a.labels[d]),g=this._get([a[f],a[u],g,r[f],r[u]]),oe.isFunction(g)?l[d]=g(n,i,a,r):l[d]=g}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,a.showLabels,r.showLabels,null!=a.labels||void 0,null!=r.labels||void 0]);t=l.padding||1;return l.padding={left:this._get([t.left,isNaN(t)?1:t]),right:this._get([t.right,isNaN(t)?1:t]),top:this._get([t.top,isNaN(t)?1:t]),bottom:this._get([t.bottom,isNaN(t)?1:t])},l},_showLabel:function(e,t,i,s,r,a,n,o,l,h,d){this.seriesGroups[e].series[t];var f={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return n?f:void 0;if(s.width<0||s.height<0)return n?f:void 0;var g=u.angle,h=(isNaN(h)||(g=h),u.offset||{}),h={x:h.x,y:h.y},e=(isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0),r=r||u.horizontalAlignment||"center",a=a||u.verticalAlignment||"center",this._getFormattedValue(e,t,i,void 0,void 0,!0)),t=s.width,i=s.height;if(1==o&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",h.y*=-1),f=this.renderer.measureText(e,g,{class:u.class}),n)return f;o=0,l=0,n=(0<t&&(""==r||"center"==r?o+=(t-f.width)/2:"right"==r&&(o+=t-f.width)),0<i&&(""==a||"center"==a?l+=(i-f.height)/2:"bottom"==a&&(l+=i-f.height)),o+=s.x+h.x,l+=s.y+h.y,this._plotRect);o<=n.x&&(o=n.x+2),l<=n.y&&(l=n.y+2);var c,r=Math.max(f.width,1),t=Math.max(f.height,1),a=(l+t>=n.y+n.height&&(l=n.y+n.height-t-2),o+r>=n.x+n.width&&(o=n.x+n.width-r-2),u.backgroundColor),i=u.borderColor,h=u.padding,t=((a||i)&&(c=this.renderer.beginGroup(),s=this.renderer.rect(o-h.left,l-h.top,f.width+h.left+h.right,f.height+h.bottom+h.bottom,{fill:a||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:i||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1})),this.renderer.text(e,o,l,f.width,f.height,g,{class:u.class,opacity:u.opacity||1},!1,"center","center"));return d&&(d.x=o-h.left,d.y=l-h.top,d.width=f.width+h.left+h.right,d.height=f.height+h.bottom+h.bottom),this._isVML&&(this.renderer.removeElement(t),this.renderer.getContainer()[0].appendChild(t)),c&&this.renderer.endGroup(),c||t}},_getAnimProps:function(e,t){var e=this.seriesGroups[e],t=isNaN(t)?void 0:e.series[t],i=1==this.enableAnimations,s=(e.enableAnimations&&(i=1==e.enableAnimations),t&&t.enableAnimations&&(i=1==t.enableAnimations),this.animationDuration),e=(isNaN(s)&&(s=1e3),e.animationDuration);return isNaN(e)||(s=e),t&&(e=t.animationDuration,isNaN(e)||(s=e)),{enabled:i,duration:s=5e3<s?1e3:s}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;i=this._getColors(e,t,s,this._getGroupGradientType(e)),t=this._getColors(e,t,s-1,this._getGroupGradientType(e));return i.fillColor!=t.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("stacked"),q=r&&-1!=i.type.indexOf("100"),a=-1!=i.type.indexOf("spline"),n=-1!=i.type.indexOf("step"),o=-1!=i.type.indexOf("range"),l=1==i.polar||1==i.spider;if(!(n=l?!1:n)||!a){this._getDataLen(e);t.width;var h="horizontal"==i.orientation,L=1==this._getXAxis(e).flip,d=t,f=(h&&(d={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,d));if(f&&0!=f.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var u=i.series.length-1;0<=u;u--){var g=this._getSerieSettings(e,u),c={groupIndex:e,rect:d,serieIndex:u,swapXY:h,isArea:s,isSpline:a,isRange:o,isPolar:l,settings:g,segments:[],pointsLength:0};if(this._isSerieVisible(e,u)){var m=i.series[u];if(!m.customDraw){var _=oe.isFunction(m.colorFunction),p=F=f.xoffsets.first,R=this._getColors(e,u,NaN,this._getGroupGradientType(e));do{var x=[],G=[],V=[],y=0,v=0,N=NaN,M=NaN,b=NaN;if(!(f.xoffsets.length<1)){for(var A,w,S,E,C=this._getAnimProps(e,u),H=C.enabled&&!this._isToggleRefresh&&f.xoffsets.length<1e4&&1!=this._isVML?C.duration:0,C=F,B=!1,k=(this._getColors(e,u,F,this._getGroupGradientType(e)),void 0),D=F;D<=f.xoffsets.last;D++){var F=D,T=f.xoffsets.data[D],j=f.xoffsets.xvalues[D];if(!isNaN(T)&&(y=T=Math.max(T,1),v=f.offsets[u][D].to,!(!_&&k&&this.enableSampling&&oe.jqx._ptdist(k.x,k.y,y,v)<1))){var k={x:y,y:v},O=f.offsets[u][D].from;if(isNaN(v)||isNaN(O)){if("connect"==m.emptyPointsDisplay)continue;if("zero"!=m.emptyPointsDisplay){B=!0;break}isNaN(v)&&(v=f.baseOffset),isNaN(O)&&(O=f.baseOffset)}if(_&&this._isColorTransition(e,u,f,F)&&1<x.length){F--;break}var I=this._elementRenderInfo;I&&I.length>e&&I[e].series.length>u&&(I=I[e].series[u][j],b=oe.jqx._ptrnd(I?I.to:void 0),j=oe.jqx._ptrnd(d.x+(I?I.xoffset:void 0)),V.push(h?{y:j,x:b,index:D}:{x:j,y:b,index:D})),p=D,g.stroke<2&&(v-d.y<=1&&(v=d.y+1),O-d.y<=1&&(O=d.y+1),d.y+d.height-v<=1&&(v=d.y+d.height-1),d.y+d.height-O<=1&&(O=d.y+d.height-1)),!s&&q&&((v=v<=d.y?d.y+1:v)>=d.y+d.height&&(v=d.y+d.height-1),(O=O<=d.y?d.y+1:O)>=d.y+d.height&&(O=d.y+d.height-1)),y=Math.max(T,1)+d.x,1==i.skipOverlappingPoints&&!isNaN(N)&&Math.abs(N-y)<=1||(!n||isNaN(N)||isNaN(M)||M!=v&&x.push(h?{y:y,x:oe.jqx._ptrnd(M)}:{x:y,y:oe.jqx._ptrnd(M)}),x.push(h?{y:y,x:oe.jqx._ptrnd(v),index:D}:{x:y,y:oe.jqx._ptrnd(v),index:D}),G.push(h?{y:y,x:oe.jqx._ptrnd(O),index:D}:{x:y,y:oe.jqx._ptrnd(O),index:D}),N=y,M=v,isNaN(b)&&(b=v))}}0==x.length?F++:(A=x[x.length-1].index,_&&(R=this._getColors(e,u,A,this._getGroupGradientType(e))),C=d.x+f.xoffsets.data[C],w=d.x+f.xoffsets.data[p],s&&1==i.alignEndPointsWithIntervals&&(C>d.x&&(C=d.x),w<d.x+d.width&&(w=d.x+d.width),L&&(S=C,C=w,w=S)),w=oe.jqx._ptrnd(w),C=oe.jqx._ptrnd(C),S=f.baseOffset,b=oe.jqx._ptrnd(b),E=oe.jqx._ptrnd(v)||S,o&&(x=x.concat(G.reverse())),c.pointsLength+=x.length,c.segments.push({lastItemIndex:A,colorSettings:R,pointsArray:x,pointsStart:V,left:C,right:w,pyStart:b,pyEnd:E,yBase:S,labelElements:[],symbolElements:[]}))}}while(F<f.xoffsets.first+f.xoffsets.length-1||B);this._linesRenderInfo[e][u]=c}}else this._linesRenderInfo[e][u]=c}var z=this._linesRenderInfo[e],P=[];for(D in z)P.push(z[D]);P=P.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&r&&P.reverse();for(D=0;D<P.length;D++){var c=P[D],W=(this._animateLine(c,0==H?1:0),this);this._enqueueAnimation("series",void 0,void 0,H,function(e,t,i){W._animateLine(t,i)},c)}}}}},_animateLine:function(e,t){for(var i=e.settings,s=e.groupIndex,r=e.serieIndex,a=this.seriesGroups[s],n=a.series[r],o=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,h=!0,d=(!e.isPolar||isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1),0==n.endPointsConnect&&(h=!1),0),f=0;f<e.segments.length;f++){var u=e.segments[f],g=this._calculateLine(s,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=g){var c=g.split(" "),m=(c.length,""!=(m=g)?this._buildLineCmd(g,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0"),g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var _=0;_<u.labelElements.length;_++)this.renderer.removeElement(u.labelElements[_]);u.labelElements=[]}if(u.symbolElements){for(_=0;_<u.symbolElements.length;_++)this.renderer.removeElement(u.symbolElements[_]);u.symbolElements=[]}if(u.pointsArray.length==c.length&&("none"!=o||l))for(var p=n.symbolSize,x=this._plotRect,_=0;_<c.length;_++){var y,v,N=c[_].split(",");(N={x:parseFloat(N[0]),y:parseFloat(N[1])}).x<x.x||N.x>x.x+x.width||N.y<x.y||N.y>x.y+x.height||("none"!=o&&(y=this._getColors(s,r,u.pointsArray[_].index,this._getGroupGradientType(s)),y=this._drawSymbol(o,N.x,N.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,p),u.symbolElements.push(y)),l&&(y=(0<_?c[_-1]:c[_]).split(","),y={x:parseFloat(y[0]),y:parseFloat(y[1])},v=(_<c.length-1?c[_+1]:c[_]).split(","),v={x:parseFloat(v[0]),y:parseFloat(v[1])},(N=this._adjustLineLabelPosition(s,r,u.pointsArray[_].index,N,y,v))&&(v=this._showLabel(s,r,u.pointsArray[_].index,{x:N.x,y:N.y,width:0,height:0}),u.labelElements.push(v))))}if(1==t&&"none"!=o)for(_=0;_<u.symbolElements.length;_++)isNaN(u.pointsArray[_].index)||this._installHandlers(u.symbolElements[_],"symbol",s,r,u.pointsArray[_].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,a){e=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(e)return t={x:s.x-e.width/2,y:0},t.y=s.y-1.5*e.height,t},_calculateLine:function(e,t,i,s,r,a,n,o,l){for(var h,d=this.seriesGroups[e],f=(1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(e,this._plotRect)),""),u=s.length,g=(o||0!=r.length||(u=t*n-i),0);g<u+1&&g<s.length;g++){0<g&&(f+=" ");var c=s[g].y,m=s[g].x,_=o?a:c,p=m;r&&r.length>g&&(_=r[g].y,p=r[g].x,(isNaN(_)||isNaN(p))&&(_=c,p=m)),u<=s.length&&0<g&&g==u&&(p=s[g-1].x,_=s[g-1].y),c=l?(m=oe.jqx._ptrnd((m-_)*(o?n:1)+_),oe.jqx._ptrnd(c)):(m=oe.jqx._ptrnd((m-p)*n+p),oe.jqx._ptrnd((c-_)*n+_)),h&&(m=(p=this._toPolarCoord(h,this._plotRect,m,c)).x,c=p.y),f+=m+","+c}return f},_buildLineCmd:function(e,t,i,s,r,a,n,o,l,h,d,f){var u=e,i=f?n+","+i:i+","+n,e=(!o||l||t||(u=i+" "+e+" "+(f?n+","+s:s+","+n)),(u=d?this._getBezierPoints(u):u).split(" "));if(0==e.length)return"";if(1==e.length)return f=e[0].split(","),"M "+e[0]+" L"+(parseFloat(f[0])+1)+","+(parseFloat(f[1])+1);s=e[0].replace("M","");return o&&!l?u=t?"M "+s+" L "+s+(d?"":" L "+s+" ")+u:"M "+i+" L "+s+" "+u:d||(u="M "+s+" L "+s+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var e=this.seriesGroups[e],i=-1!=e.type.indexOf("area"),s=-1!=e.type.indexOf("line"),t=e.series[t],r=t.dashStyle||e.dashStyle||"",a=t.opacity||e.opacity,n=((isNaN(a)||a<0||1<a)&&(a=1),t.lineWidth),e=(("auto"==(n=isNaN(n)&&"auto"!=n?e.lineWidth:n)||isNaN(n)||n<0||15<n)&&(n=i?2:s?3:1),t.lineWidthSymbol);return{stroke:n,strokeSymbol:e=isNaN(e)?1:e,opacity:a,dashStyle:r}},_getColors:function(e,t,i,s,r){var a=this.seriesGroups[e],n=a.series[t],n=this._get([n.useGradientColors,a.useGradientColors,a.useGradient,!0]),o=this._getSeriesColors(e,t,i),l=(o.fillColor||(o.fillColor=p,o.fillColorSelected=oe.jqx.adjustColor(p,1.1),o.fillColorAlt=oe.jqx.adjustColor(p,4),o.fillColorAltSelected=oe.jqx.adjustColor(p,3),o.lineColor=o.symbolColor=oe.jqx.adjustColor(p,.9),o.lineColorSelected=o.symbolColorSelected=oe.jqx.adjustColor(p,.9)),[[0,1.4],[100,1]]),h=[[0,1],[25,1.1],[50,1.4],[100,1]],d=NaN;if(isNaN(r)||(d=2==r?l:h),n){var f,u,g={};for(f in o)g[f]=o[f];if(o=g,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var c,m="verticalLinearGradient"==s?d||l:d||h,_=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(c in _){var p=o[_[c]];p&&(o[_[c]]=this.renderer._toLinearGradient(p,"verticalLinearGradient"==s,m))}}else"radialGradient"==s&&(d=l,("pie"==a.type||"donut"==a.type||a.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(u=this._renderData[e].offsets[t][i],d=[[0,1.3],[90,1.2],[100,1]]),o.fillColor=this.renderer._toRadialGradient(o.fillColor,d,u),o.fillColorSelected=this.renderer._toRadialGradient(o.fillColorSelected,d,u))}return o},_installHandlers:function(i,s,r,a,n){if(!this.enableEvents)return!1;var o=this,t=this.seriesGroups[r],l=this.seriesGroups[r].series[a],h=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");h||0==t.enableSelection||0==l.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i=o._selected;i&&i.isLineType&&"click"==i.linesUnselectMode&&(i.group!=r||i.series!=a)||(i=e.pageX||e.clientX||e.screenX,e=e.pageY||e.clientY||e.screenY,i-=(t=o.host.offset()).left,e-=t.top,o._mouseX==i&&o._mouseY==e||o._ttEl&&o._ttEl.gidx==r&&o._ttEl.sidx==a&&o._ttEl.iidx==n||o._startTooltipTimer(r,a,n))}),0!=t.enableSelection&&0!=l.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=o._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=r||t.series!=a)||o._select(i,s,r,a,n,n)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(o._hostClickTimer),o._lastClickTs=(new Date).valueOf(),h&&"symbol"!=s&&"pointMarker"!=s||(o._isColumnType(t.type)&&o._unselect(),isNaN(n)||(e.stopImmediatePropagation(),o._raiseItemEvent("click",t,l,n)))})},_getHorizontalOffset:function(e,t,i,s){var r=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var a=this._calcGroupOffsets(e,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};for(var n,o,l,h,d,f=i,u=s,g=this.seriesGroups[e],c=((g.polar||g.spider)&&(n=this._getPolarAxisCoords(e,r)),this._getXAxis(e).flip,a.xoffsets.first);c<=a.xoffsets.last;c++){var m,_=a.xoffsets.data[c],p=a.offsets[t][c].to,x=0;x=n?(_=(m=this._toPolarCoord(n,r,_+r.x,p)).x,p=m.y,oe.jqx._ptdist(f,u,_,p)):"horizontal"==g.orientation?(m=p,p=_+=r.y,oe.jqx._ptdist(f,u,_=m,p)):(_+=r.x,Math.abs(f-_)),(isNaN(o)||x<o)&&(o=x,l=c,h=_,d=p)}return{index:l,value:a.xoffsets.data[l],polarAxisCoords:n,x:h,y:d}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,s=this._selected.series,r=this.seriesGroups[i],a=r.series[s],n=this._plotRect;if(this.renderer&&((n=this.renderer.getRect()).x+=5,n.y+=5,n.width-=10,n.height-=10),e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return this._hideToolTip(),void this._unselect();var o="horizontal"==r.orientation,n=this._plotRect;if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),h=l.index;if(null!=h){if(this._selected.item!=h){for(var d=this._linesRenderInfo[i][s].segments,f=0;h>d[f].lastItemIndex;)if(++f>=d.length)return;var u=d[f].pathElement,g=d[f].lastItemIndex;this._unselect(!1),this._select(u,"path",i,s,h,g)}var u=this._getSymbol(this._selected.group,this._selected.series),g=("none"==u&&(u="circle"),this._calcGroupOffsets(i,n)),c=g.offsets[this._selected.series][h].to,m=c,g=(-1!=r.type.indexOf("range")&&(m=g.offsets[this._selected.series][h].from),o?e:t);t=!isNaN(m)&&Math.abs(g-m)<Math.abs(g-c)?m:c,isNaN(t)||(e=l.value,o?(g=e,e=t,t=g+n.y):e+=n.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=oe.jqx._ptrnd(t),e=oe.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t)||(m=this._getSeriesColors(i,s,h),c=this._getSerieSettings(i,s),o=a.symbolSizeSelected,isNaN(o)&&(o=a.symbolSize),(isNaN(o)||50<o||o<0)&&(o=r.symbolSize),(isNaN(o)||50<o||o<0)&&(o=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:u,x:e,y:t,gidx:i,sidx:s,iidx:h},this._pointMarker.element=this._drawSymbol(u,e,t,m.fillColorSymbolSelected,c.opacity,m.lineColorSymbolSelected,c.opacity,c.strokeSymbol,c.dashStyle,o),this._installHandlers(this._pointMarker.element,"pointMarker",i,s,h)),this._startTooltipTimer(i,this._selected.series,h)))}}}},_drawSymbol:function(e,t,i,s,r,a,n,o,l,h){var d=h||6,f=d/2;switch(e){case"none":return;case"circle":g=this.renderer.circle(t,i,d/2);break;case"square":g=this.renderer.rect(t-(f=(d-=1)/2),i-f,d,d);break;case"diamond":var u="M "+(t-f)+","+i+" L"+t+","+(i-f)+" L"+(t+f)+","+i+" L"+t+","+(i+f)+" Z",g=this.renderer.path(u);break;case"triangle_up":case"triangle":u="M "+(t-f)+","+(i+f)+" L "+(t+f)+","+(i+f)+" L "+t+","+(i-f)+" Z";g=this.renderer.path(u);break;case"triangle_down":u="M "+(t-f)+","+(i-f)+" L "+t+","+(i+f)+" L "+(t+f)+","+(i-f)+" Z";g=this.renderer.path(u);break;case"triangle_left":u="M "+(t-f)+","+i+" L "+(t+f)+","+(i+f)+" L "+(t+f)+","+(i-f)+" Z";g=this.renderer.path(u);break;case"triangle_right":u="M "+(t-f)+","+(i-f)+" L "+(t-f)+","+(i+f)+" L "+(t+f)+","+i+" Z";g=this.renderer.path(u);break;default:g=this.renderer.circle(t,i,d)}return this.renderer.attr(g,{fill:s,"fill-opacity":r,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(g,{r:d/2}),"square"!=e&&this.renderer.attr(g,{x:t,y:i})),g},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],e=this.seriesGroups[e],r=e.series[t];return"default"==(i=null==(i=null!=r.symbolType?r.symbolType:i)?e.symbolType:i)?s[t%s.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,s,r,a,e,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(r)&&(r=o._mouseX),isNaN(a)&&(a=o._mouseY-3),0==l&&o._showToolTip(r,a,t,i,s),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(r,a,t,i,s);var e=o.toolTipHideDelay;isNaN(n)||(e=n),isNaN(e)&&(e=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,a){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var n,o,l=this.seriesGroups[i],h=l.series[s];0!=l.enableSelection&&0!=h.enableSelection&&(n=-1!=l.type.indexOf("line")&&-1==l.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:a,isLineType:n,linesUnselectMode:h.linesUnselectMode||l.linesUnselectMode},o=(a=this._getColors(i,s,a||r,this._getGroupGradientType(i))).fillColorSelected,n&&(o="none"),n=this._getSerieSettings(i,s),i="symbol"==t?a.lineColorSymbolSelected:a.lineColorSelected,o="symbol"==t?a.fillColorSymbolSelected:o,s="symbol"==t?1:n.stroke,this.renderer.getAttr(e,"fill")==a.fillColorAlt&&(o=a.fillColorAltSelected),this.renderer.attr(e,{stroke:i,fill:o,"stroke-width":s}),-1==l.type.indexOf("pie")&&-1==l.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",l,h,r))},_applyPieSelect:function(){var e,t,r=this,a=(r._createAnimationGroup("animPieSlice"),this._selected);!a||(e=this.getItemCoord(a.group,a.series,a.item))&&(t=this._getRenderInfo(a.group,a.series,a.item),this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var s=t.coord,i=s.selectedRadiusChange*i,s=r.renderer.pieSlicePath(s.center.x,s.center.y,0==s.innerRadius?0:s.innerRadius+i,s.outerRadius+i,s.fromAngle,s.toAngle,s.centerOffset);r.renderer.attr(t.element.element,{d:s}),r._showPieLabel(a.group,a.series,a.item,void 0,i)},{element:t,coord:e}),r._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t=this._selected;!t||(e=this.getItemCoord(t.group,t.series,t.item))&&e.center&&(e=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(t.element,{d:e}),this._showPieLabel(t.group,t.series,t.item,void 0,0))},_unselect:function(){var e,t,i,s,r,a,n,o,l,h=this;h._selected&&(n=h._selected.group,l=h._selected.series,e=h._selected.item,r=h._selected.iidxBase,t=h._selected.type,s=(i=h.seriesGroups[n]).series[l],a=-1!=i.type.indexOf("line")&&-1==i.type.indexOf("area"),o=(r=h._getColors(n,l,r||e,h._getGroupGradientType(n))).fillColor,a&&(o="none"),a=h._getSerieSettings(n,l),n="symbol"==t?r.lineColorSymbol:r.lineColor,o="symbol"==t?r.fillColorSymbol:o,this.renderer.getAttr(h._selected.element,"fill")==r.fillColorAltSelected&&(o=r.fillColorAlt),l="symbol"==t?1:a.stroke,h.renderer.attr(h._selected.element,{stroke:n,fill:o,"stroke-width":l}),-1==i.type.indexOf("pie")&&-1==i.type.indexOf("donut")||this._applyPieUnselect(),h._selected=void 0,isNaN(e)||h._raiseItemEvent("mouseout",i,s,e)),h._pointMarker&&(h._pointMarker.element&&(h.renderer.removeElement(h._pointMarker.element),h._pointMarker.element=void 0),h._pointMarker=void 0,h._hideCrosshairs())},_raiseItemEvent:function(e,t,i,s){for(var r=i[e]||t[e],a=0;a<this.seriesGroups.length&&this.seriesGroups[a]!=t;a++);a!=this.seriesGroups.length&&(s={event:e,seriesGroup:t,serie:i,elementIndex:s,elementValue:this._getDataValue(s,i.dataField,a)},r&&oe.isFunction(r)&&r(s),this._raiseEvent(e,s))},_raiseEvent:function(e,t){var i=new oe.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var s=Math.abs(t-e)/i,r=.1,a=[1,2,3,4,5,10,15,20,25,50,100],n=(s<1&&(a=[.5,.25,.125,.1],r=10),0);do{n=0,1<=s?r*=10:r/=10;for(var o=1;o<a.length&&Math.abs(a[n]*r-s)>Math.abs(a[o]*r-s);o++)n=o}while(n==a.length-1);return a[n]*r},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis)for(var r in i.valueAxis={itemOffsets:{}},s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r];if(s.xAxis)for(var r in i.xAxis={itemOffsets:{}},s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r];i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<s.offsets.length;o++){a.push({});for(var l,h=0;h<s.offsets[o].length;h++)n?(l=s.offsets[o][h],a[o][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):a[o][s.xoffsets.xvalues[h]]={value:s.offsets[o][h].value,valueRadius:s.offsets[o][h].valueRadius,xoffset:s.xoffsets.data[h],from:s.offsets[o][h].from,to:s.offsets[o][h].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};t=this.getValueAxisDataPointOffset(t,i),e=this.getXAxisDataPointOffset(e,i),i=this._toPolarCoord(s.polarCoords,s.xAxis.rect,e,t);return{x:i.x,y:i.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,a,n){e=this._getDataPointOffset(e,i,s,r,a,n),t=this._getDataPointOffset(t,i,s,r,a,n);return Math.abs(e-t)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var s=0;s<=e&&null!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var s=this._getXAxisRenderData(t);if(!s)return NaN;var r=s.data.axisStats,a=r.min.valueOf(),r=r.max.valueOf(),n=r-a;if(0==n&&(n=1),e.valueOf()>r||e.valueOf()<a)return NaN;var r=this._getXAxis(t),o="horizontal"==i.orientation?"height":"width",l="horizontal"==i.orientation?"y":"x",e=(e.valueOf()-a)/n,a=s.rect[o]-s.data.padding.left-s.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(a=s.data.axisSize),this._plotRect[l]+s.data.padding.left+a*(r.flip?1-e:e)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;t=this._renderData[t];if(!t)return NaN;var i=1==i.flip,s=t.logBase,r=t.scale,a=t.gbase,t=t.baseOffset;return this._getDataPointOffset(e,a,s,r,t,i)},_getDataPointOffset:function(e,t,i,s,r,a){return isNaN(e)&&(e=t),e=isNaN(i)?(e-t)*s:(oe.jqx.log(e,i)-oe.jqx.log(t,i))*s,this._isVML&&(e=Math.round(e)),e=a?r+e:r-e},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var s=this._getValueAxis(e);if(!s||!i.series||0==i.series.length)return this._renderData[e];var r=1==s.flip,a=1==s.logarithmicScale,n=s.logarithmicScaleBase||10,o=[],l=-1!=i.type.indexOf("stacked"),h=l&&-1!=i.type.indexOf("100"),d=-1!=i.type.indexOf("range"),q=this._isColumnType(i.type),f=-1!=i.type.indexOf("waterfall"),u=this._getDataLen(e),g=i.baselineValue||s.baselineValue||0,c=(h&&(g=0),this._stats.seriesGroups[e]);if(c&&c.isValid){s=c.hasStackValueReversal;if(s&&(g=0),f&&l){if(s)return;g=c.base}(g=g>c.max?c.max:g)<c.min&&(g=c.min);var s=h||a?c.maxRange:c.max-c.min,m=c.min,_=c.max,p=t.height/(a?c.intervals:s),x=0,x=h?m*_<0?-((s/=2)+g)*p:-g*p:-(g-m)*p;r?x=t.y-x:x+=t.y+t.height;for(var L=[],R=[],y=[],v=(a&&(s=oe.jqx.log(_,n)-oe.jqx.log(g,n),l&&(s=c.intervals,g=h?0:m),c.intervals,r||(x=t.y+s/c.intervals*t.height)),x=oe.jqx._ptrnd(x),m*_<0?t.height/2:t.height),N=[],M=[],b=l&&(q||a),G=[],o=new Array(i.series.length),A=0;A<i.series.length;A++)o[A]=new Array(u);for(var w=0;w<u;w++){!f&&l&&(M=[]);for(A=0;A<i.series.length;A++){!l&&a&&(N=[]);var S=i.series[A],C=S.dataField,k=S.dataFieldFrom,V=S.dataFieldTo,D=S.radiusDataField||S.sizeDataField,F=(o[A][w]={},this._isSerieVisible(e,A));if(-1!=i.type.indexOf("candle")||-1!=i.type.indexOf("ohlc")){var E,H=["Open","Close","High","Low"];for(E in H){var B="dataField"+H[E];S[B]&&(o[A][w][H[E]]=this._getDataPointOffset(this._getDataValueAsNumber(w,S[B],e),g,a?n:NaN,p,x,r))}}else{if(l)for(;M.length<=w;)M.push(0);var T=NaN,k=(d&&(T=this._getDataValueAsNumber(w,k,e),isNaN(T)&&(T=g)),NaN),k=d?this._getDataValueAsNumber(w,V,e):this._getDataValueAsNumber(w,C,e),V=this._getDataValueAsNumber(w,D,e);if(l&&(M[w]+=F?k:0),F||(k=NaN),isNaN(k)||a&&k<=0)o[A][w]={from:void 0,to:void 0};else{l&&(b?j=g<=k?L:R:k=M[w]);var j,C=p*(k-g);if(d&&(C=p*(k-T)),l&&b&&(C=G[w]?p*k:(G[w]=!0,p*(k-g))),a){for(;N.length<=w;)N.push({p:{value:0,height:0},n:{value:0,height:0}});D=d?T:g,F=D<k?N[w].p:N[w].n;F.value+=k,h?(k=F.value/(c.psums[w]+c.nsums[w])*100,C=(oe.jqx.log(k,n)-c.minPow)*p):(C=oe.jqx.log(F.value,n)-oe.jqx.log(D,n),C*=p),C-=F.height,F.height+=C}var D=x,F=(d&&(F=0,F=a?(oe.jqx.log(T,n)-oe.jqx.log(g,n))*p:(T-g)*p,D+=r?F:-F),l&&(h&&!a&&(F=c.psums[w]-c.nsums[w],g<k?(C=c.psums[w]/F*v,0!=c.psums[w]&&(C*=k/c.psums[w])):(C=c.nsums[w]/F*v,0!=c.nsums[w]&&(C*=k/c.nsums[w]))),b&&(isNaN(j[w])&&(j[w]=D),D=j[w])),isNaN(y[w])&&(y[w]=0),y[w]),z=C=Math.abs(C);if(1<=C&&(P=this._isVML?Math.round(C):oe.jqx._ptrnd(C)-1,C=.5<Math.abs(C-P)?Math.round(C):P),F+=C-z,l||(F=0),.5<Math.abs(F)&&(0<F?(--C,--F):(C+=1,F+=1)),y[w]=F,A==i.series.length-1&&h){for(var O=0,I=0;I<A;I++)O+=Math.abs(o[I][w].to-o[I][w].from);if((O+=C)<v)if(.5<C)C=oe.jqx._ptrnd(C+v-O);else for(I=A-1;0<=I;){if(1<Math.abs(o[I][w].to-o[I][w].from)){o[I][w].from>o[I][w].to&&(o[I][w].from+=v-O);break}I--}}r&&(C*=-1);var P=k<g,z=(d&&(P=k<T),isNaN(T)?k:{from:T,to:k});P?(b&&(j[w]+=C),o[A][w]={from:D,to:D+C,value:z,valueRadius:V}):(b&&(j[w]-=C),o[A][w]={from:D,to:D-C,value:z,valueRadius:V})}}}}s=this._renderData[e];return s.baseOffset=x,s.gbase=g,s.logBase=a?n:NaN,s.scale=p,s.offsets=f?this._applyWaterfall(o,u,e,x,g,a?n:NaN,p,r,l):o,s.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._renderData[e]={},a=r.offsets=[],n=0;n<s.series.length;n++){for(var o=s.series[n],l=this._get([o.minAngle,o.startAngle]),h=((isNaN(l)||l<0||360<l)&&(l=0),this._get([o.maxAngle,o.endAngle])),d=(h=isNaN(h)||h<0||360<h?360:h)-l,f=o.initialAngle||0,u=(h<(f=f<l?l:f)&&(f=h),o.centerOffset||0),g=oe.jqx.getNum([o.offsetX,s.offsetX,t.width/2]),c=oe.jqx.getNum([o.offsetY,s.offsetY,t.height/2]),l=Math.min(t.width,t.height)/2,m=f,_=o.radius,p=(this._isPercent(_)&&(_=parseFloat(_)/100*l),isNaN(_)&&(_=.4*l),o.innerRadius),x=(this._isPercent(p)&&(p=parseFloat(p)/100*l),(isNaN(p)||_<=p)&&(p=0),o.selectedRadiusChange),y=(this._isPercent(x)&&(x=parseFloat(x)/100*(_-p)),isNaN(x)&&(x=.1*(_-p)),a.push([]),0),v=0,N=0;N<i;N++){var M=this._getDataValueAsNumber(N,o.dataField,e);isNaN(M)||!this._isSerieVisible(e,n,N)&&1!=o.hiddenPointsDisplay||(0<M?y+=M:v+=M)}var b=y-v;0==b&&(b=1);for(N=0;N<i;N++){var A,w,S,C,k,D,M=this._getDataValueAsNumber(N,o.dataField,e);isNaN(M)?a[n].push({}):(D=o.displayText||o.displayField,A=(null==(D=this._getDataValue(N,D,e))&&(D=N),0),S=(!(w=this._isSerieVisible(e,n,N))&&1!=o.hiddenPointsDisplay||(A=Math.abs(M)/b*d),t.x+g),C=t.y+c,D=(oe.isFunction(k=u)&&(k=u({seriesIndex:n,seriesGroupIndex:e,itemIndex:N})),{key:e+"_"+n+"_"+N,value:M,displayValue:D,x:S,y:C,fromAngle:m,toAngle:m+A,centerOffset:k=isNaN(k)?0:k,innerRadius:p,outerRadius:_,selectedRadiusChange:x,visible:w}),a[n].push(D),m+=A)}}return r},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i,s=this.seriesGroups[t];for(i in e)if(-1!=s.type.indexOf(e[i]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),t=null==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(t=!0),null==e||null==i.valuesOnTicks?t:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,s){var r=0;switch("year"!=i&&"month"!=i&&(r=t.valueOf()-e.valueOf()),i){case"year":r=this._getYearsDiff(e,t);break;case"month":r=this._getMonthsDiff(e,t);break;case"day":r/=864e5;break;case"hour":r/=36e5;break;case"minute":r/=6e4;break;case"second":r/=1e3}return r="year"!=i&&"month"!=i&&0!=s?oe.jqx._rnd(r,1,!0):r},_getBestDTUnit:function(e,t,i,s,r){for(var a="day",n=t.valueOf()-e.valueOf(),a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year",o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,f=-1;l<o.length&&!(o[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,o[l].key,r),u=this._getDTIntCnt(e,t,u,o[l].key);(-1==d||d<u)&&(d=u,f=l)}return a=o[f].key},_getXAxisStats:function(e,t,i){for(var s,r,a=this._getDataLen(e),n="date"==t.type||"time"==t.type,o=(n&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(o=this._testXAxisDateFormat())&&this._autoDateFormats.push(o)),n?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue)),l=n?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue),h=(this._selectorRange&&this._selectorRange[e]&&(h=this._selectorRange[e].min,isNaN(h)||(o=n?this._castAsDate(h,t.dateFormat):this._castAsNumber(h)),h=this._selectorRange[e].max,isNaN(h)||(l=n?this._castAsDate(h,t.dateFormat):this._castAsNumber(h))),o),o=l,l=null==t.type||"auto"==t.type,d=l||"basic"==t.type,f=0,u=0,g=0;g<a&&t.dataField;g++){var c=this._getDataValue(g,t.dataField,e),c=n?this._castAsDate(c,t.dateFormat):this._castAsNumber(c);isNaN(c)||(n?f++:u++,(isNaN(s)||c<s)&&(s=c),(isNaN(r)||r<=c)&&(r=c))}(d=l&&(!n&&u==a||n&&f==a)?!1:d)&&(s=0,r=Math.max(0,a-1)),isNaN(h)&&(h=s),isNaN(o)&&(o=r),n?(this._isDate(h)||(h=this._isDate(o)?o:new Date),this._isDate(o)||(o=this._isDate(h)?h:new Date)):(isNaN(h)&&(h=0),isNaN(o)&&(o=d?Math.max(0,a-1):h)),null==s&&(s=h),null==r&&(r=o);var m,_,p,x,l=t.rangeSelector,l=(l&&((y=l.minValue||h)&&n&&(y=this._castAsDate(y,l.dateFormat||t.dateFormat)),(v=(v=l.maxValue||o)&&n?this._castAsDate(v,l.dateFormat||t.rangeSelector):v)<(h=h<y?y:h)&&(h=y),v<(o=o<y?v:o)&&(o=v)),t.unitInterval),y=(n&&(_="hour"==(m=(m=t.baseUnit)||this._getBestDTUnit(h,o,e,i))||"minute"==m||"second"==m||"millisecond"==m),1==t.logarithmicScale),v=t.logarithmicScaleBase,l=((isNaN(v)||v<=1)&&(v=10),t.unitInterval),i=(y?l=1:(isNaN(l)||l<=0)&&(l=this._estAxisInterval(h,o,e,i,m)),{min:h,max:o}),N=this.seriesGroups[e];return y?(h||(h=1,o&&o<h&&(h=o)),i={min:h,max:o=o||h},p=oe.jqx._rnd(oe.jqx.log(h,v),1,!1),x=oe.jqx._rnd(oe.jqx.log(o,v),1,!0),o=Math.pow(v,x),h=Math.pow(v,p)):n||!N.polar&&!N.spider||(h=oe.jqx._rnd(h,l,!1),o=oe.jqx._rnd(o,l,!0)),{min:h,max:o,logAxis:{enabled:y,base:v,minPow:p,maxPow:x},dsRange:{min:s,max:r},filterRange:i,useIndeces:d,isDateTime:n,isTimeUnit:_,dateTimeUnit:m,interval:l}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return e},_getDTIntCnt:function(e,t,i,s){var r=0,a=new Date(e),n=(n=new Date(t)).valueOf();if(i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==s?a=new Date(a.valueOf()+i):"second"==s?a=new Date(a.valueOf()+1e3*i):"minute"==s?a=new Date(a.valueOf()+6e4*i):"hour"==s?a=new Date(a.valueOf()+6e4*i*24):"day"==s?a.setDate(a.getDate()+i):"month"==s?a.setMonth(a.getMonth()+i):"year"==s&&a.setFullYear(a.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,a){if(isNaN(e)||isNaN(t))return NaN;var n,o=[1,2,5,10,15,20,50,100,200,500],l=0,h=s/(!isNaN(a)&&0<a?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(n=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(a)&&(h=.9*s/n)),h<=1)return Math.abs(t-e);for(;;){var d=o.length<=l?Math.pow(10,3+l-o.length):o[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,r):(t-e)/d)<=h)break;l++}a=this.seriesGroups[i];return d=(a.spider||a.polar)&&t-e<2*d?t-e:d},_getPaddingSize:function(e,t,i,s,r,a,n){var o,l,h=e.min,d=e.max,f=(e.logAxis.enabled&&(h=e.logAxis.minPow,d=e.logAxis.maxPow),e.interval),e=e.dateTimeUnit;return r?(r=s/Math.max(1,d-h+f)*f,a?{left:0,right:r}:i?{left:0,right:0}:{left:r/2,right:r/2}):i&&!n?{left:0,right:0}:this._isDate(h)&&this._isDate(d)?(o=this._getDTIntCnt(h,d,Math.min(f,d-h),e),{left:(l=s/Math.max(2,o))/2,right:l/2}):1==(o=Math.max(1,d-h))?{left:a=s/4,right:a}:{left:(l=s/(o+1))/2,right:l/2}},_calculateXOffsets:function(e,t){for(var i=this.seriesGroups[e],s=this._getXAxis(e),r=[],a=[],n=this._getDataLen(e),o=this._getXAxisStats(e,s,t),l=o.min,h=o.max,d=o.isDateTime,f=o.isTimeUnit,u=this._hasColumnSeries(),g=i.polar||i.spider,c=this._get([i.startAngle,i.minAngle,0]),i=this._get([i.endAngle,i.maxAngle,360]),i=g&&!(1e-4<Math.abs(Math.abs(i-c)-360)),c=this._alignValuesWithTicks(e),m=this._getPaddingSize(o,s,c,t,g,i,u),_=h-l,p=o.filterRange,x=(0==_&&(_=1),t-m.left-m.right),y=(g&&c&&!i&&(m.left=m.right=0),-1),v=-1,N=0;N<n;N++){var M,b,A=void 0===s.dataField?N:this._getDataValue(N,s.dataField,e);o.useIndeces?N<p.min||N>p.max?(r.push(NaN),a.push(void 0)):(M=m.left+(N-l)/_*x,1==o.logAxis.enabled&&(b=o.logAxis.base,M=this._jqxPlot.scale(A,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:b},{min:0,max:x,flip:!1})),r.push(oe.jqx._ptrnd(M)),a.push(A),-1==y&&(y=N),(-1==v||v<N)&&(v=N)):(A=d?this._castAsDate(A,s.dateFormat):this._castAsNumber(A),isNaN(A)||A<p.min||A>p.max?(r.push(NaN),a.push(void 0)):(M=0,M=1==o.logAxis.enabled?(b=o.logAxis.base,this._jqxPlot.scale(A,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:b},{min:0,max:x,flip:!1})):!d||f?(A-l)*x/_:(A.valueOf()-l.valueOf())/(h.valueOf()-l.valueOf())*x,M=oe.jqx._ptrnd(m.left+M),r.push(M),a.push(A),-1==y&&(y=N),(-1==v||v<N)&&(v=N)))}if(1==s.flip)for(N=0;N<r.length;N++)isNaN(r[N])||(r[N]=t-r[N]);(f||d)&&(_=this._getDateDiff(l,h,s.baseUnit),_=oe.jqx._rnd(_,1,!1));u=Math.max(1,_),g=x/u;return y==v&&1==u&&(r[y]=m.left+x/2),{axisStats:o,data:r,xvalues:a,first:y,last:v,length:-1==v?0:v-y+1,itemWidth:g,intervalWidth:g*o.interval,rangeLength:_,useIndeces:o.useIndeces,padding:m,axisSize:x}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){e=this.seriesGroups[e],t=e.series[t];return 1==t.greyScale||0!=t.greyScale&&(1==e.greyScale||0!=e.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var s=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var r in s)s[r]=oe.jqx.toGreyScale(s[r]);return s},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],a=r.series[t];if(this._isPieGroup(e))var n=this._getDataLen(e),s=this._getItemColorFromScheme(a.colorScheme||r.colorScheme||this.colorScheme,t*n+i,e,t);else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(r.colorScheme&&(d=r.colorScheme,0),!(d=null!=d&&""!=d?d:this.colorSchemes[0].name))return s;for(l=0;l<this.colorSchemes.length;l++){var f=this.colorSchemes[l];if(f.name==d){for(;o>f.colors.length;)o-=f.colors.length,++l>=this.colorSchemes.length&&(l=0),f=this.colorSchemes[l];s=f.colors[o%f.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var s=this.seriesGroups[e],r=s.series[t],a=(oe.isFunction(r.colorFunction)||"pie"==s.type||"donut"==s.type||(i=NaN),e+"_"+t+"_"+(isNaN(i)?"NaN":i));if(this._colorsCache.get(a))return this._colorsCache.get(a);var n,o={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(oe.isFunction(r.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,r.dataField,e);if(-1==s.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,r.dataFieldFrom,e),to:this._getDataValue(i,r.dataFieldTo,e)}),"object"==typeof(n=r.colorFunction(l,i,r,s)))for(var h in n)o[h]=n[h];else o.fillColor=n}else{for(var h in o)r[h]&&(o[h]=r[h]);r.fillColor||r.color?r.fillColor=r.fillColor||r.color:o.fillColor=this._getColorFromScheme(e,t,i)}var d={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(h in o)"object"==typeof n&&n[h]||r[h]&&(o[h]=r[h]);for(h in o)"object"==typeof n&&n[h]||r[h]||(o[h]=oe.jqx.adjustColor(o[d[h].baseColor],d[h].adjust));return this._colorsCache.set(a,o),o},_getItemColorFromScheme:function(e,t,i,s){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var r=0;r<this.colorSchemes.length&&e!=this.colorSchemes[r].name;r++);for(var a=0;a<=t;){r==this.colorSchemes.length&&(r=0);var n,o=this.colorSchemes[r].colors.length;if(!(a+o<=t))return n=this.colorSchemes[r].colors[t-a],this._isGreyScale(i,s)&&0==n.indexOf("#")?oe.jqx.toGreyScale(n):n;a+=o,r++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,s,r,a){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!oe.isFunction(i))return e.toString();try{return i(e,a,r,s)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,s,r,a){var n=this.seriesGroups[e],o=n.series[t],l="",h=s,d=(d=r)||(o.formatFunction||n.formatFunction),h=h||(o.formatSettings||n.formatSettings),f=(!o.formatFunction&&o.formatSettings&&(d=void 0),{}),u=0;for(g in o)0==g.indexOf("dataField")&&(f[g.substring(9).toLowerCase()]=this._getDataValue(i,o[g],e),u++);if(0==u&&(f=this._getDataValue(i,void 0,e)),-1!=n.type.indexOf("waterfall")&&this._isSummary(e,i)&&(f=this._renderData[e].offsets[t][i].value,u=0),d&&oe.isFunction(d))try{return d(1==u?f[""]:f,i,o,n)}catch(e){return e.message}if(1==u&&this._isPieGroup(e))return this._formatValue(f[""],h,d,e,t,i);if(0<u){var g,c=0;for(g in f){0<c&&""!=l&&(l+="<br>");var m="dataField"+(0<g.length?g.substring(0,1).toUpperCase()+g.substring(1):""),m=o["displayText"+(0<g.length?g.substring(0,1).toUpperCase()+g.substring(1):"")]||o[m],_=f[g];null!=_&&(_=this._formatValue(_,h,d,e,t,i),l+=!0===a?_:m+": "+_,c++)}}else null!=f&&(l=this._formatValue(f,h,d,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=oe.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=oe.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(i=oe.jqx.dataFormat.parsedate(e,this._autoDateFormats[s]),this._isDate(i))return i;t=this._detectDateFormat(e);return t&&(i=oe.jqx.dataFormat.parsedate(e,t),this._isDate(i))?(this._autoDateFormats.push(t),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"number"==typeof(e="string"==typeof e&&this._isNumberAsString(e)?parseFloat(e):e)&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||oe.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=oe.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;var i=".",s="",r=this,r=(r.localization&&(i=r.localization.decimalSeparator||r.localization.decimalseparator||i,s=r.localization.thousandsSeparator||r.localization.thousandsseparator||s),(t=t||{}).decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator),t.prefix||""),a=t.sufix||"",n=t.decimalPlaces,o=(isNaN(n)&&(n=this._getDecimalPlaces([e],void 0,3)),t.negativeWithBrackets||!1),l=e<0,h=(l&&o&&(e*=-1),e.toString()),t=Math.pow(10,n),h=(Math.round(e*t)/t).toString();if(d=(h=isNaN(h)?"":h).lastIndexOf("."),0<n)for(d<0?d=(h+=i).length-1:"."!==i&&(h=h.replace(".",i));h.length-1-d<n;)h+="0";for(var d=-1<(d=h.lastIndexOf(i))?d:h.length,f=h.substring(d),u=0,g=d;0<g;g--,u++)u%3==0&&g!==d&&(!l||1<g||l&&o)&&(f=s+f),f=h.charAt(g-1)+f;return h=f,r+(h=l&&o?"("+h+")":h)+a},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],a=e[t+3],n=e[t+4],e=e[t+5],t=Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2)),o=t+Math.sqrt(Math.pow(n-r,2)+Math.pow(e-a,2)),t=.4*t/(o=0==o?1:o),o=.4-t;return[r+t*(i-n),a+t*(s-e),r-o*(i-n),a-o*(s-e)]},_getBezierPoints:function(e){for(var t="",i=[],s=[],r=e.split(" "),a=0;a<r.length;a++){var n=r[a].split(",");i.push(parseFloat(n[0])),i.push(parseFloat(n[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var o=i.length;if(o<=1)return"";if(2==o)return t="M"+oe.jqx._ptrnd(i[0])+","+oe.jqx._ptrnd(i[1])+" L"+oe.jqx._ptrnd(i[0]+1)+","+oe.jqx._ptrnd(i[1]+1)+" ";for(a=0;a<o-4;a+=2)s=s.concat(this._calculateControlPoints(i,a));for(a=2;a<o-5;a+=2)t+=" C"+oe.jqx._ptrnd(s[2*a-2])+","+oe.jqx._ptrnd(s[2*a-1])+" "+oe.jqx._ptrnd(s[2*a])+","+oe.jqx._ptrnd(s[2*a+1])+" "+oe.jqx._ptrnd(i[a+2])+","+oe.jqx._ptrnd(i[a+3])+" ";return t=o<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+oe.jqx._ptrnd(i[0])+","+oe.jqx._ptrnd(i[1])+" L"+oe.jqx._ptrnd(i[2])+","+oe.jqx._ptrnd(i[3])+" "+t:"M"+oe.jqx._ptrnd(i[0])+","+oe.jqx._ptrnd(i[1])+" Q"+oe.jqx._ptrnd(s[0])+","+oe.jqx._ptrnd(s[1])+" "+oe.jqx._ptrnd(i[2])+","+oe.jqx._ptrnd(i[3])+" "+t,4<=o&&(Math.abs(i[o-2]-i[o-4])<3||Math.abs(i[o-1]-i[o-3])<3||this._isVML)?t+=" L"+oe.jqx._ptrnd(i[o-2])+","+oe.jqx._ptrnd(i[o-1])+" ":5<=o&&(t+=" Q"+oe.jqx._ptrnd(s[2*o-10])+","+oe.jqx._ptrnd(s[2*o-9])+" "+oe.jqx._ptrnd(i[o-2])+","+oe.jqx._ptrnd(i[o-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,a,n){this._animGroups[e].animations.push({key:t,properties:i,duration:s=s<0?0:s,fn:r,context:a,easing:n=null==n?"easeInOutSine":n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(u in this._animGroups){for(var s=this._animGroups[u].animations,r=this._animGroups[u].startTick,a=0,n=0;n<s.length;n++){var o=s[n],l=t-r,h=(o.duration>a&&(a=o.duration),0<o.duration?l/o.duration:1),d=h;if(o.easing&&0!=o.duration&&(d=oe.easing[o.easing](h,l,0,1,o.duration)),1<h&&(d=h=1),o.fn)o.fn(o.key,o.context,d);else{for(var f={},u=0;u<o.properties.length;u++){var g=o.properties[u],c=0,c=1==h?g.to:d*(g.to-g.from)+g.from;f[g.key]=c}this.renderer.attr(o.key,f)}}t<r+a&&(i[u]={startTick:r,animations:s})}this._animGroups=i,this.renderer instanceof oe.jqx.HTML5Renderer&&this.renderer.refresh()}for(var u in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;t=e.x,e.x=e.y,e.y=t+this._plotRect.y-this._plotRect.x,t=e.width;return e.width=e.height,e.height=t,e},getItemCoord:function(e,t,i){var s=this;if(s._isPieGroup(e)&&(!s._isSerieVisible(e,t,i)||!s._renderData||s._renderData.length<=e))return{x:NaN,y:NaN};if(!s._isSerieVisible(e,t)||!s._renderData||s._renderData.length<=e)return{x:NaN,y:NaN};var r,a,n=s.seriesGroups[e],o=n.series[t],i=s._getItemCoord(e,t,i);if(s._isPieGroup(e)){if(isNaN(i.x)||isNaN(i.y)||isNaN(i.fromAngle)||isNaN(i.toAngle))return{x:NaN,y:NaN};var s=this._plotRect,l=i.fromAngle*(Math.PI/180),h=i.toAngle*(Math.PI/180),d=s.x+i.center.x+Math.cos(l)*i.outerRadius,f=s.x+i.center.x+Math.cos(h)*i.outerRadius,l=s.y+i.center.y-Math.sin(l)*i.outerRadius,s=s.y+i.center.y-Math.sin(h)*i.outerRadius,h=Math.min(d,f),f=Math.abs(f-d);return i={x:h,y:d=Math.min(l,s),width:f,height:Math.abs(s-l),center:i.center,centerOffset:i.centerOffset,innerRadius:i.innerRadius,outerRadius:i.outerRadius,selectedRadiusChange:i.selectedRadiusChange,fromAngle:i.fromAngle,toAngle:i.toAngle}}return-1!=n.type.indexOf("column")||-1!=n.type.indexOf("waterfall")?(r=this._getColumnSerieWidthAndOffset(e,t),i.height=Math.abs(i.y.to-i.y.from),i.y=Math.min(i.y.to,i.y.from),i.x+=r.offset,i.width=r.width):-1!=n.type.indexOf("ohlc")||-1!=n.type.indexOf("candlestick")?(r=this._getColumnSerieWidthAndOffset(e,t),d=i.y,h=Math.min(d.Open,d.Close,d.Low,d.High),f=Math.max(d.Open,d.Close,d.Low,d.High),i.height=Math.abs(f-h),i.y=h,i.x+=r.offset,i.width=r.width):-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")?(i.width=i.height=0,i.y=i.y.to):-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(i.center={x:i.x,y:i.y.to},a=i.y.radius,"circle"!=o.symbolType&&null!=o.symbolType&&(a/=2),i.y=i.y.to,i.radius=a,i.width=2*a,i.height=2*a),i=this._fixCoords(i,e),(n.polar||n.spider)&&(s=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,i.x,i.y),i.x=s.x,i.y=s.y,i.center&&(i.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,i.center.x,i.center.y))),-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(i.x-=a,i.y-=a),i},_getItemCoord:function(e,t,i){var s=this.seriesGroups[e];if(!s||!this._renderData)return{x:NaN,y:NaN};if(!s.series[t])return{x:NaN,y:NaN};s=this._plotRect;if(this._isPieGroup(e)){var r=this._renderData[e].offsets[t][i];if(!r)return{x:NaN,y:NaN};var a,n,o=(r.fromAngle+r.toAngle)/2*(Math.PI/180);return{x:a=s.x+r.x+Math.cos(o)*r.outerRadius,y:n=s.y+r.y-Math.sin(o)*r.outerRadius,center:{x:r.x,y:r.y},centerOffset:r.centerOffset,innerRadius:r.innerRadius,outerRadius:r.outerRadius,selectedRadiusChange:r.selectedRadiusChange,fromAngle:r.fromAngle,toAngle:r.toAngle}}if(a=s.x+this._renderData[e].xoffsets.data[i],n=this._renderData[e].offsets[t][i],isNaN(a)||!n)return{x:NaN,y:NaN};var l,h={};for(l in n)h[l]=n[l];return{x:a,y:h}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getXAxis(t),r=this._plotRect,a=0,n=NaN,o=this._renderData[0].xoffsets.axisStats,l=0,h=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var d=this._getPolarAxisCoords(t,r);if(oe.jqx._ptdist(e.x,e.y,d.x,d.y)>d.r)return NaN;var f=Math.atan2(d.y-e.y,e.x-d.x),n=(f=(f=Math.PI/2-f)<0?2*Math.PI+f:f)*d.r,f=d.startAngle+Math.PI/2,u=d.endAngle+Math.PI/2,l=f*d.r,h=u*d.r,a=(u-f)*d.r,u=this._getPaddingSize(o,s,s.valuesOnTicks,a,!0,d.isClosedCircle,this._hasColumnSeries());d.isClosedCircle?(a-=u.left+u.right,h-=u.left+u.right):s.valuesOnTicks||(l+=u.left,h-=u.right)}else{if("horizontal"!=i.orientation){if(e<r.x||e>r.x+r.width)return NaN;n=e-r.x,a=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;n=e-r.y,a=r.height}this._renderData[t]&&this._renderData[t].xoffsets&&(a-=(u=this._renderData[t].xoffsets.padding).left+u.right,n-=u.left),h=a}return this._jqxPlot.scale(n,{min:l,max:h},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logAxis.enabled?"logarithmic":"linear",base:o.logAxis.base,flip:s.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getValueAxis(t),r=this._plotRect,a=0,n=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var o=this._getPolarAxisCoords(t,r),n=oe.jqx._ptdist(e.x,e.y,o.x,o.y);n=(a=o.r)-n}else if("horizontal"==i.orientation){if(e<r.x||e>r.x+r.width)return NaN;n=e-r.x,a=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;n=e-r.y,a=r.height}o=this._stats.seriesGroups[t];return this._jqxPlot.scale(n,{min:0,max:a},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logarithmic?"logarithmic":"linear",base:o.logBase,flip:!s.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"},s=(t&&(i=oe.extend({},i,t)),[]);for(n in oe.isArray(e)?s=e:s.push(e),i)i[n]={format:i[n],count:0};for(var r=0;r<s.length;r++){var a=s[r];if(null!=a)for(var n in i)null!=oe.jqx.dataFormat.parsedate(a,i[n].format)&&i[n].count++}var o={key:void 0,count:0};for(n in i)i[n].count>o.count&&(o.key=n,o.count=i[n].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),s=t._getDataLen(e),r={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)r["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<s&&o<10;o++){var l=t._getDataValue(o,i.dataField,e);null!=l&&n.push(l)}return t._detectDateFormat(n,r)}})}(jqxBaseFramework);