!function(h){h.jqx.jqxWidget("jqxSplitter","",{}),h.extend(h.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:h.jqx.mobile.getTouchEventName("touchstart"),mouseup:h.jqx.mobile.getTouchEventName("touchend"),mousemove:h.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===h.jqx._jqxSplitter.prototype||h.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){this.overlay||"undefined"==t?(this.overlay.remove(),this.overlay=null):1==t&&(this.overlay=h("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(h(document.body)),this.host.coord(),this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(h(window).width()),this.overlay.height(h(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize"))},_startDrag:function(t){return!(t.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=h.jqx.position(t),!1)))},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var e,s,i,l,a,n="horizontal"==this.orientation?"top":"left",r="vertical"==this.orientation?"width":"height";if((this._position=h.jqx.position(t),this.overlay&&!this._splitBarClone)&&3<=Math.abs(this._position[n]-this._dragStart[n]))return i=this.splitBar.coord(),this._cloneStart={left:i.left,top:i.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels});return!this._splitBarClone||(l=(i=this.host[r]())/100,r=this._splitBarClone[r]()+2,a=parseInt(this.host.coord()[n]),i+0-r<(a=(a=this._position[n]-this._dragStart[n]+this._cloneStart[n]-a)<0?0:a)&&(a=i+0-r),e=this.panels[0].min,-1!=(s=this.panels[1].min).toString().indexOf("%")&&(s=parseFloat(s)*l),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),a<e&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),a=e),i+0-r-s<a&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),a=i+0-r-s),this._splitBarClone.css(n,a),h.jqx.isPassiveSupported()&&this._isTouchDevice||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),!1)},resize:function(t,e){this.width=t,this.height=e,this._arrange()},_resize:function(){var t="horizontal"==this.orientation?"height":"width",e="horizontal"==this.orientation?"top":"left",e=this._splitBarClone.css(e),t=this.host[t](),s=1/(t/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(e)*s+"%",this.panels[1].size=100-parseFloat(e)*s+"%"):(this.panels[0].size=parseFloat(e),this.panels[1].size=t-parseFloat(e)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var t=this.splitBar.clone();return t.fadeTo(0,.7),t.css("z-index",99999),"vertical"==this.orientation?t.css("cursor","col-resize"):t.css("cursor","row-resize"),this.host.append(t),t},_eventName:function(t){return this._isTouchDevice?this._eventsMap[t]:t},_addHandlers:function(){var t,e=this;h.jqx.utilities.resize(this.host,function(){e._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(t){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){function t(t){t.collapsed?e.expand():e.collapse()}e.panels[0].collapsible?t(e.panels[0]):e.panels[1].collapsible&&t(e.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){e.splitBarButton.addClass(e.toThemeProperty("jqx-splitter-collapse-button-hover")),e.splitBarButton.addClass(e.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){e.splitBarButton.removeClass(e.toThemeProperty("jqx-splitter-collapse-button-hover")),e.splitBarButton.removeClass(e.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(h(document),this._eventName("mousemove")+"."+this.element.id,function(t){t=e._drag(t);if(!e._isTouchDevice)return t}),this.addHandler(h(document),this._eventName("mouseup")+"."+this.element.id,function(){return e._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(t){return e._startDrag(t)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){e.resizable&&!e.disabled&&(e.splitBar.addClass(e.toThemeProperty("jqx-splitter-splitbar-hover")),e.splitBar.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){e.resizable&&!e.disabled&&(e.splitBar.removeClass(e.toThemeProperty("jqx-splitter-splitbar-hover")),e.splitBar.removeClass(e.toThemeProperty("jqx-fill-state-hover")))}),""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(t=null,(t=window.parent&&document.referrer?document.referrer:t)&&-1!=t.indexOf(document.location.host)&&(t=function(t){e._stopDrag()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",t,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t)))},_removeHandlers:function(){this.removeHandler(h(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(h(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(h(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var e=t[0].className.split(" "),t=t[1].className.split(" ");if(-1!=e.indexOf("jqx-reset")&&-1!=e.indexOf("jqx-splitter")&&-1!=e.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=t.indexOf("jqx-reset")&&-1!=t.indexOf("jqx-splitter")&&-1!=t.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(0<this.host.parent().length&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=h.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=h("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return h.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=this.host.children().length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:null==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=h(t[0]),this.panel2=this.panels[1].element=h(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",h.each(this.panels,function(){null==this.min&&(this.min=0),null==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),null==this.collapsible&&(this.collapsible=!0),null==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){null!=this.width&&("string"!=typeof(t=this.width)&&(t=parseInt(this.width)+"px"),this.host.css("width",t)),null!=this.height&&("string"!=typeof(t=this.height)&&(t=parseInt(this.height)+"px"),this.host.css("height",t)),this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var t="horizontal"==this.orientation?"width":"height";this.splitBar.css(t,"100%"),this.panel1.css(t,"100%"),this.panel2.css(t,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){var t;this.disabled||(this.panels[0].collapsed=this.panels[1].collapsed=!(t=-1),this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?t=0:this.panels[1].collapsible&&(t=1),-1!=t&&(this.panels[t].collapsed=!0,this.panels[t].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:t,panels:this.panels}),this._raiseEvent(0,{panels:this.panels})))},expand:function(){var t;this.disabled||(this.panels[0].collapsed=this.panels[1].collapsed=!(t=-1),this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?t=0:this.panels[1].collapsible&&(t=1),-1!=t&&(this.panels[t].collapsed=!1,this.panels[t].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:t,panels:this.panels}),this._raiseEvent(0,{panels:this.panels})))},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(t){1!=t&&this._arrange()},propertyChangedHandler:function(t,e,s,i){"panels"===e||"orientation"===e||"showSplitBar"===e?t.render():("touchMode"===e&&(t._isTouchDevice=i),"disabled"===e?i?t.disable():t.enable():"theme"===e?h.jqx.utilities.setTheme(s,i,t.host):t.refresh())},_layoutPanels:function(){var t,e,s,i,l,a,n,r=this,h="horizontal"==this.orientation?"height":"width",o="horizontal"==this.orientation?"top":"left",p=parseInt(this._splitBarSize)+2,d=(this.showSplitBar||(p=0),this.host[h]()),c=d/100,u=1/c,m=u*p,B=this.panel1,v=this.panel2,x=this.panels[0].size;this.panels[0].collapsed&&(n=!0),this.panels[1].collapsed&&(a=!0),t=this.panels[0].min,-1!=(e=this.panels[1].min).toString().indexOf("%")&&(e=parseFloat(e)*c),-1!=t.toString().indexOf("%")&&(t=parseFloat(t)*c),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(B.width(this.host.width()),v.width(this.host.width())):(B.height(this.host.height()),v.height(this.host.height())));n?(s=Math.max(e,d-p),B[h](0),v[h](s)):a?(s=Math.max(t,d-p),v[h](0),B[h](s)):-1!=x.toString().indexOf("%")?(c=100-parseFloat(x),B.css(h,parseFloat(x)+"%"),v.css(h,(c-=m)+"%"),(l=v[h]())<e&&(i=(s=l-e)*u,x=parseFloat(x)+parseFloat(i),c=100-parseFloat(x),B.css(h,parseFloat(x)+"%"),v.css(h,(c-=m)+"%")),B[h]()<t&&(i=t*u,B.css(h,parseFloat(i)+"%"))):(l=d-x-p,B[0].style[h]!=x+"px"&&B[h](x),v[0].style[h]!=l+"px"&&v[h](l),l<e&&(x+=l-e,v[h](e),B[h](x)),x<t&&B[h](t)),n=r.panel1[h](),r.splitBar[0].style[o]!=n+"px"&&(a=n,"vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="",r.splitBar[0].style.borderRightColor="",r.splitBarButton[0].style.width=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.left="0px"):(r.splitBar[0].style.borderTopColor="",r.splitBar[0].style.borderBottomColor="",r.splitBarButton[0].style.height=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.top="0px"),r._hasBorder&&(d-p==n?"vertical"==r.orientation?(r.splitBar[0].style.borderRightColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px"):(r.splitBar[0].style.borderBottomColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px"):0==n&&("vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.left="-1px"):(r.splitBar[0].style.borderTopColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.top="-1px"))),r.splitBar[0].style[o]=a+"px"),r.panel2[0].style[o]!=n+p+"px"&&(r.panel2[0].style[o]=n+p+"px"),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),h.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,e){t=new h.Event(this._events[t]),t.owner=this,t.args=e,this.orientation,e=new Array;return e[0]={},e[1]={},e[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,e[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,e[0].min=this.panels[0].min,e[1].min=this.panels[1].min,e[0].collapsible=this.panels[0].collapsible,e[1].collapsible=this.panels[1].collapsible,e[0].collapsed=this.panels[0].collapsed,e[1].collapsed=this.panels[1].collapsed,t.args.panels=e,this.host.trigger(t)}})}(jqxBaseFramework);