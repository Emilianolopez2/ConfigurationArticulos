!function(r){r.jqx.jqxWidget("jqxTimePicker","",{}),r.extend(r.jqx._jqxTimePicker.prototype,{defineInstance:function(){var e={autoSwitchToMinutes:!1,footer:!1,footerTemplate:null,format:"12-hour",minuteInterval:1,selection:"hour",value:new Date,view:"portrait",width:500,height:500,animation:!0,disabled:!1,readonly:!1,unfocusable:!1,name:"",_events:["change"]};return this===r.jqx._jqxTimePicker.prototype||r.extend(!0,this,e),e},createInstance:function(){this._createTimePicker()},_createTimePicker:function(){this.widgetID=this.element.id;var e=this,t='<div class="'+e.toThemeProperty("jqx-container jqx-rc-all jqx-widget")+'"><div class="'+e.toThemeProperty("jqx-header jqx-unselectable jqx-widget-header")+'"><div class="'+e.toThemeProperty("jqx-hour-minute-container")+'"><div class ="'+e.toThemeProperty("jqx-hour-container")+'"></div><div>:</div><div class="'+e.toThemeProperty("jqx-minute-container")+'"></div></div><div class="'+e.toThemeProperty("jqx-am-pm-container")+'"><div class="'+e.toThemeProperty("jqx-am-container")+'">AM</div><div class="'+e.toThemeProperty("jqx-pm-container")+'">PM</div></div></div><div class="'+e.toThemeProperty("jqx-main-container jqx-widget-content")+'"><div class="'+e.toThemeProperty("jqx-svg-container jqx-item")+'"><div class="'+e.toThemeProperty("jqx-svg-picker jqx-fill-state-normal jqx-item")+'"></div></div><div class="'+e.toThemeProperty("jqx-footer")+'"></div></div><input name="'+this.name+'" type="hidden"></div>';e.element.innerHTML=t,e.element.className+=e.toThemeProperty("jqx-time-picker jqx-rc-all jqx-widget"),e.element.setAttribute("view",e.view),e._container=e.element.getElementsByTagName("div")[0],e._header=e.element.getElementsByClassName("jqx-header")[0],e._hourMinuteContainer=e.element.getElementsByClassName("jqx-hour-minute-container")[0],e._hourContainer=e.element.getElementsByClassName("jqx-hour-container")[0],e._minuteContainer=e.element.getElementsByClassName("jqx-minute-container")[0],e._ampmContainer=e.element.getElementsByClassName("jqx-am-pm-container")[0],e._amContainer=e.element.getElementsByClassName("jqx-am-container")[0],e._pmContainer=e.element.getElementsByClassName("jqx-pm-container")[0],e._main=e.element.getElementsByClassName("jqx-main-container")[0],e._svgContainer=e.element.getElementsByClassName("jqx-svg-container")[0],e._picker=e.element.getElementsByClassName("jqx-svg-picker")[0],e._footer=e.element.getElementsByClassName("jqx-footer")[0],e._hiddenInput=e.element.getElementsByTagName("input")[0],e.footer&&e.element.setAttribute("footer",""),e.readonly&&e.element.setAttribute("readonly",""),e.disabled&&e.element.setAttribute("disabled",""),e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},r(e.element).css({width:e.width,height:e.height}),r.jqx.utilities.resize(e.host,function(){e._resizeHandler()}),e._validateInitialPropertyValues(),e._applyInitialSettings(),e._isVisible()?(e._setPickerSize(),r(e._picker).jqxDraw(),e._draw=r(e._picker).jqxDraw("getInstance"),e._getMeasurements(),e._getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e._addEventHandlers()):e._renderingSuspended=!0},_getAngleRangeCoefficient:function(){var e=this;e._angleRangeCoefficient=e._angleDifference/e._range},_getAngleByValue:function(e,t,n){var a=this,t=((e=!1!==t&&a.logarithmicScale?Math.log10(e):e)-a._drawMin)*a._angleRangeCoefficient,e=a.inverted?a.startAngle+t:a.endAngle-t;return n?e:e*Math.PI/180+Math.PI/2},_addGaugeTicksAndLabels:function(){var e,t,n,a=this,i=Math.max(a._tickIntervalHandler.labelsSize.minLabelSize,a._tickIntervalHandler.labelsSize.maxLabelSize),r=a._majorTicksInterval,o=a._minorTicksInterval,l={},s=a._distance,d=a._measurements.radius,u=d-s.majorTickDistance,c=d-s.minorTickDistance,m="none"!==a.ticksVisibility&&!1!==a._plotTicks?(e=function(e){a._drawTick(e,u,"major")},function(e){a._drawTick(a._getAngleByValue(e,!0),c,"minor")}):(e=function(){},function(){}),_="none"!==a.labelsVisibility&&!1!==a._plotLabels?function(e,t,n){a._drawLabel(e,t,s.labelDistance,n)}:function(){},d=a.inverted?(t=a.startAngle,a.endAngle):(t=a.endAngle,a.startAngle),h=a._getAngleByValue(a._drawMin,!1),g=(e(h),l[a._drawMin]=!0,_(h,a.min,!1),a._drawMin-a._drawMin%r);0<=a._drawMin&&(g+=r);for(var v=g;v>=a._drawMin;v-=o)n=v;for(e(h=a._getAngleByValue(g,!1)),l[g]=!0,2*Math.PI*a._measurements.innerRadius*(this._getAngleDifference(t,a._getAngleByValue(g,!1,!0))/360)>i&&_(h,a._getActualValue(g),g<a._drawMax),v=g+r;v<a._drawMax-r;v+=r)e(h=a._getAngleByValue(v,!1)),l[v]=!0,_(h,a._getActualValue(v),!0);if(void 0===l[v]&&v<=a._drawMax&&(e(h=a._getAngleByValue(v,!1)),l[v]=!0,2*Math.PI*a._measurements.innerRadius*(this._getAngleDifference(d,a._getAngleByValue(v,!1,!0))/360)>=i&&_(h,a._getActualValue(v),!0),a._normalizedStartAngle!==a.endAngle&&(e(h=a._getAngleByValue(a._drawMax,!1)),l[a._drawMax]=!0,2*Math.PI*a._measurements.innerRadius*(this._getAngleDifference(d,t)/360)>=i&&_(h,a.max,!1))),a.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(l,r,m);else for(var p=n;p<a._drawMax;p+=o)l[p]||m(p)},_getAngleDifference:function(e,t){t=Math.abs(t-e)%360;return 180<t?360-t:t},_getActualValue:function(e){return this.logarithmicScale?Math.pow(10,e):e},_computeArrowBodyPoints:function(e,t,n,a){var i=Math.sin(t),t=Math.cos(t),r=e-n*t+a*i,o=e+n*i+a*t,l=e+n*t+a*i,a=e-n*i+a*t,t="M "+(e+n*t)+","+(e-n*i)+" L "+(e-n*t)+","+(e+n*i)+" L "+r+","+o+" "+l+","+a;return this._headCenter={x:(r+l)/2,y:(o+a)/2},t},_documentMoveHandler:function(e){this._dragging&&this._changeSelection(e,!0)},_documentUpHandler:function(){var e=this;e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.animation?(r(e._picker).addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){r(e._picker).removeClass("animate")},550)):(e.selection="minute",e._changeToMinuteSelection())))},_drawArrow:function(t,n,e){var a,i,r=this,o="hour"===r.selection,l="12-hour"===r.format,s=r._oldTimePart;delete r._oldTimePart,void 0===n&&(o?(n=r.value.getHours(),l&&12<n&&(n-=12)):n=r.value.getMinutes()),void 0===s||e||!r.animation?r._drawArrowSVG(t,n):o&&!l?r._animate24HourView(s,n):(o?(a=.2,n%=i=12,s%=i):(a=1,i=60),(e=n-s)<0&&(e+=i),(l=s-n)<0&&(l+=i),l<e&&(a*=-1),r._animationFrameId=requestAnimationFrame(function e(){s+=a,(s=parseFloat((s%i).toFixed(1)))<0&&(s+=i),r._drawArrowSVG(t,s),s!==n%i&&(r._animationFrameId=requestAnimationFrame(e))}))},_animate24HourView:function(n,a){var i=this,r=.2,e=(i._inInnerCircle=!1,0===n||12<n),t=0===a||12<a;if(e!=t){if(n=e?Math.abs(n-12):(n+12)%24,i._inInnerCircle=t,i._drawArrowSVG(!0,n),n===a)return}else i._inInnerCircle=t;var e=n,t=a,o=(i._inInnerCircle&&(0===t&&e<18?t=12:0===e&&t<18&&(e=12)),t-e),e=e-t;o<0&&(o+=12),e<0&&(e+=12),e<o&&(r*=-1),i._animationFrameId=requestAnimationFrame(function(){!function e(t){(i._inInnerCircle=t)?((n=parseFloat((n+r).toFixed(1)))<0?n+=24:n<1&&(n+=12),12!==n&&24!==n||(n=0)):(n=12!==(n+=r)?parseFloat((n%12).toFixed(1)):n)<=0&&(n+=12),i._drawArrowSVG(!0,n),n!==a?i._animationFrameId=requestAnimationFrame(function(){e(t)}):i._inInnerCircle=!1}(i._inInnerCircle)})},_drawArrowSVG:function(e,t){var n=this,a=n._measurements,i=n._getAngleByValue(t),i=n._inInnerCircle?n._computeArrowBodyPoints(a.radius,i,1,a.innerRadius-n._largestLabelSize/2-45):n._computeArrowBodyPoints(a.radius,i,1,a.innerRadius-n._largestLabelSize/2);e?(n._arrow.setAttribute("d",i),n._head.setAttribute("cx",n._headCenter.x),n._head.setAttribute("cy",n._headCenter.y),n._head.setAttribute("r",n._largestLabelSize),n._headRect=n._head.getBoundingClientRect(),t%1==0&&n._highlightLabel(t)):(n._arrow=n._draw.path(i,{class:n.toThemeProperty("jqx-needle jqx-widget-header")}),n._head=n._draw.circle(n._headCenter.x,n._headCenter.y,n._largestLabelSize,{class:n.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),n._headRect=n._head.getBoundingClientRect())},_drawLabel:function(e,t,n){var a=this,i=a._measurements,r=i.radius,i={class:a.toThemeProperty("jqx-label jqx-unselectable jqx-item"),"font-size":i.fontSize,"font-family":i.fontFamily,"font-weight":i.fontWeight,"font-style":i.fontStyle},o=("hour"===a.selection?a._plotInnerCircle?0<t?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t),a._draw.measureText(t,0,i)),n=r-n-a._largestLabelSize/2,l=r+n*Math.sin(e),r=r+n*Math.cos(e);a._draw.text(t,Math.round(l)-o.width/2,Math.round(r)-o.height/2,o.width,o.height,0,i).setAttribute("value",parseFloat(t))},_getCenterCoordinates:function(){var e=this._picker.getBoundingClientRect(),t=this._measurements.radius,n=document.body.scrollLeft||document.documentElement.scrollLeft,a=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+n+t,y:e.top+a+t}},_headerClickHandler:function(e){var t,n=this;if(!n.disabled&&!n.readonly)switch(e.target){case n._hourContainer:"hour"!==n.selection&&(n.selection="hour",n._changeToHourSelection());break;case n._minuteContainer:"minute"!==n.selection&&(n.selection="minute",n._changeToMinuteSelection());break;case n._amContainer:r(n._amContainer).hasClass("jqx-selected")||(n._selectAmPm("am"),t=new Date(n.value.getTime()),n.value.setHours(n.value.getHours()-12),n._hiddenInput.value=n.value,n._raiseEvent("0",{value:n.value,oldValue:t}));break;case n._pmContainer:r(n._pmContainer).hasClass("jqx-selected")||(n._selectAmPm("pm"),t=new Date(n.value.getTime()),n.value.setHours(n.value.getHours()+12),n._hiddenInput.value=n.value,n._raiseEvent("0",{value:n.value,oldValue:t}))}},_highlightLabel:function(e){var t,n=this;if(n._highlightedLabel){if(parseFloat(n._highlightedLabel.getAttribute("value"))===e)return;-1<n._highlightedLabel.className.baseVal.indexOf(n.toThemeProperty("jqx-selected"))&&(a=function(e,t){t=new RegExp("\\s?"+t+"\\s?","gm");return e.replace(t,"")}(n._highlightedLabel.className.baseVal,n.toThemeProperty("jqx-selected")),n._highlightedLabel.className.baseVal=a),n._highlightedLabel=void 0}"hour"===n.selection?(void 0===e&&(e=n.value.getHours()),"12-hour"===n.format&&(0===e?e=12:12<e&&(e-=12)),t=e):(void 0===e&&(e=n.value.getMinutes()),60===(t=5*Math.round(e/5))&&(t=0));var a=n._picker.querySelector('.jqx-label[value="'+t+'"]');a&&(t===e||n._overlapsLabel(a))&&((n._highlightedLabel=a).className.baseVal+=" "+n.toThemeProperty("jqx-selected"))},_isVisible:function(){var e=this.host[0];return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_getMeasurements:function(){var e,t,n,a=this,i=a._measurements,r=document.createElement("div"),o=(r.className="jqx-label",r.style.position="absolute",r.style.visibility="hidden",a._svgContainer.appendChild(r),"hour"===a.selection?(o="1",e="23",a.max=12,a._drawMax="12",a._range=12):(o="00",e="55",a.max=60,a._drawMax="60",a._range=60),r.innerHTML=o,o=r.offsetWidth,t=r.offsetHeight,r.innerHTML=e,e=r.offsetWidth,n=r.offsetHeight,a._largestLabelSize=Math.max(o,t,e,n),a._tickIntervalHandler.labelsSize.minLabelSize=t,a._tickIntervalHandler.labelsSize.maxLabelSize=n,window.getComputedStyle(r));i.fontSize=o.fontSize,i.fontFamily=o.fontFamily,i.fontWeight=o.fontWeight,i.fontStyle=o.fontStyle,a._svgContainer.removeChild(r)},_renderHours:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._addGaugeTicksAndLabels(),"24-hour"===e.format&&(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10)},_renderMinutes:function(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._addGaugeTicksAndLabels()},_renderSVG:function(){var e,t=this;!t._isVisible()||t._renderingSuspended?t._renderingSuspended=!0:(t._centralCircle=t._draw.circle(t._measurements.radius,t._measurements.radius,4,{class:t.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),"hour"===t.selection&&"24-hour"===t.format&&(0===t.value.getHours()||12<t.value.getHours())&&(t._inInnerCircle=!0),t._drawArrow(!1),t._inInnerCircle=!1,"hour"===t.selection?(t.interval=1,t._renderHours(),e=t.value.getHours(),"12-hour"===t.format&&12<e&&(e-=12),t._highlightLabel(e)):(t.interval=t.minuteInterval,t._renderMinutes(),t._highlightLabel(t.value.getMinutes())))},_selectAmPm:function(e){var t=this;"am"===e?(t._ampm="am",r(t._pmContainer).removeClass(t.toThemeProperty("jqx-selected")),r(t._amContainer).addClass(t.toThemeProperty("jqx-selected"))):(t._ampm="pm",r(t._amContainer).removeClass(t.toThemeProperty("jqx-selected")),r(t._pmContainer).addClass(t.toThemeProperty("jqx-selected")))},_setFocusable:function(){var e=this;if(e.disabled||e.unfocusable)return e._hourContainer.removeAttribute("tabindex"),e._minuteContainer.removeAttribute("tabindex"),e._amContainer.removeAttribute("tabindex"),e._pmContainer.removeAttribute("tabindex"),void e._picker.removeAttribute("tabindex");var t=0<e.tabIndex?e.tabIndex:0;e._hourContainer.tabIndex=t,e._minuteContainer.tabIndex=t,e._amContainer.tabIndex=t,e._pmContainer.tabIndex=t,e._picker.tabIndex=t},_setPickerSize:function(){var e=this,t=e._svgContainer.offsetWidth,n=e._svgContainer.offsetHeight,t=.9*Math.min(t,n);void 0!==e._pickerSize&&e._pickerSize!==t?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=t,e._measurements.radius=t/2,e._measurements.innerRadius=e._measurements.radius-10,e._picker.style.width=t+="px",e._picker.style.height=t},refresh:function(e){!0!==e&&this.render()},setHours:function(e){var t=this;if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setHours method required a parameter. Its type should be number.";(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:12<e&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||12<e),t._drawArrow(!0,e,arguments[2]),t.animation||(t._inInnerCircle=!1))},setMinutes:function(e){if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setMinutes method required a parameter. Its type should be number.";e=60===e?0:Math.max(0,Math.min(e,59)),this._updateMinutes(e),"minute"===this.selection&&this._drawArrow(!0,e,arguments[1])},propertyChangedHandler:function(e,t,n,a){var i=e;if(n!=a||a instanceof Object)switch(t){case"disabled":i.disabled?(i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.element.setAttribute("disabled","")):(i.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),i.element.removeAttribute("disabled")),i._setFocusable();break;case"footer":case"view":i._resizeHandler();break;case"footerTemplate":i._validateFooterTemplate();break;case"format":var r=i.value.getHours();"12-hour"===a?(i._ampmContainer.removeClass("jqx-hidden"),i.value.getHours()<12?i._selectAmPm("am"):i._selectAmPm("pm"),0===r?r=12:12<r&&(r-=12)):i._ampmContainer.addClass("jqx-hidden"),i._hourContainer.innerHTML=r,"hour"===i.selection&&(i._draw.clear(),i._renderSVG());break;case"minuteInterval":r=Math.max(1,Math.min(a,60));r!==a&&(i.minuteInterval=r),"minute"===i.selection&&(i.interval=r);break;case"selection":"hour"===a?i._changeToHourSelection():i._changeToMinuteSelection();break;case"value":i._oldValue=n,i._validateValue();var r=i.value.getHours()===n.getHours(),o=i.value.getMinutes()===n.getMinutes();r&&o||(o?i.setHours(i.value.getHours()):(r||i.setHours(i.value.getHours(),!0),i.setMinutes(i.value.getMinutes()))),delete i._oldValue}},_applyInitialSettings:function(){var e=this,t=e.value,n=t.getHours(),t=t.getMinutes();"12-hour"===e.format?n<12?(e._ampm="am",e._amContainer.className+=" "+e.toThemeProperty("jqx-selected"),0===n&&(n=12)):(e._ampm="pm",e._pmContainer.className+=" "+e.toThemeProperty("jqx-selected"),12<n&&(n-=12)):e._ampmContainer.className+=" "+e.toThemeProperty("jqx-hidden"),1===(t=t.toString()).length&&(t="0"+t),e._hourContainer.innerHTML=n,e._minuteContainer.innerHTML=t,"hour"===e.selection?e._hourContainer.className+=" "+e.toThemeProperty("jqx-selected"):e._minuteContainer.className+=" "+e.toThemeProperty("jqx-selected")},_getValueByAngle:function(e,t){for(var n,a=this,i=a.inverted?(n=e,a._normalizedStartAngle):(n=a.endAngle,e);n<i;)n+=360;if(e=(n-i)/a._angleDifference*a._range+parseFloat(a._drawMin),a.logarithmicScale){if(a.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(e,!0)).toFixed(12));e=Math.pow(10,e)}return t&&!a.coerce?Math.round(e):this._getCoercedValue(e,!1)},_getCoercedValue:function(e,t,n){var a=this;if(!a.coerce)return e;var i=!a.logarithmicScale,r=parseFloat(a.min),o=parseFloat(a.max),l=e-r,s=l%parseFloat(a.interval);if(0==s)return e;var s=parseFloat((l-s).toFixed(12)),d=s+parseFloat(a.interval);return a.max-a.min<=parseFloat(a.interval)&&i?r+(o-r)/2<=e?o:r:Math.abs(l-s)<Math.abs(l-d)||o<(a=d+r)?s+r:a},_changeSelection:function(e,t){var n=this,a=e.pageX,i=e.pageY,r=n._getCenterCoordinates(),o=Math.sqrt(Math.pow(r.x-a,2)+Math.pow(r.y-i,2));if(n._measurements.center=r,"mousedown"===e.type){if(o>n._measurements.radius)return void e.stopPropagation();n._dragging=!0}"24-hour"===n.format&&"hour"===n.selection&&o<n._measurements.radius-50?n._inInnerCircle=!0:n._inInnerCircle=!1;e=-1*Math.atan2(i-r.y,a-r.x)*180/Math.PI,e<0&&(e+=360),n._angle=e,o=n._getValueByAngle(n._angle);"hour"===n.selection?("24-hour"===n.format&&n._inInnerCircle?0!==o&&12!==o?o+=12:o=0:0===o&&(o=12),n._updateHours(o)):n._updateMinutes(o=60===o?0:o),void 0!==n._oldTimePart&&(cancelAnimationFrame(n._animationFrameId),n._drawArrow(!0,o,t))},_changeToHourSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;cancelAnimationFrame(e._animationFrameId),e.interval=1,r(e._hourContainer).addClass(e.toThemeProperty("jqx-selected")),r(e._minuteContainer).removeClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===e.value.getHours()||12<e.value.getHours())&&(e._inInnerCircle=!0),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1},_changeToMinuteSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;e._inInnerCircle=!1,cancelAnimationFrame(e._animationFrameId),e.interval=e.minuteInterval,r(e._hourContainer).removeClass(e.toThemeProperty("jqx-selected")),r(e._minuteContainer).addClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderMinutes(),e._drawArrow(!0,void 0,!0)},_overlapsLabel:function(e){var e=e.getBoundingClientRect(),t=this._headRect;return!(e.right-10<t.left||e.left+10>t.right||e.bottom-10<t.top||e.top+10>t.bottom)},_parseDateString:function(e,t){var n=e.indexOf("Date("),a=e.indexOf(")"),i=e;if(-1!==n&&-1!==a){if(""===(i=(i=e.slice(n+5,a)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(i))return(i=(i=i.replace(/\s/g,"")).split(",")).map(function(e,t){i[t]=parseInt(e)}),i.unshift(null),i=new(Function.prototype.bind.apply(Date,i))}if(""===i.trim())return t;if(!isNaN(i))return new Date(parseInt(i,10));try{i=new Date(i)}catch(e){i=t}return isNaN(i.getTime())?t:i},_updateHours:function(e,t){var n=this,a=e,i=("12-hour"===n.format?"am"===n._ampm?12===a&&(a=0):a<12&&(a+=12):a=e,void 0!==n._oldValue?n._oldValue:new Date(n.value.getTime())),r=i.getHours();a===r?delete n._oldTimePart:(n._oldTimePart=r,void 0===n._oldValue&&n.value.setHours(a),n._hourContainer.innerHTML=e,!0!==t&&(n._hiddenInput.value=n.value,n._raiseEvent("0",{value:n.value,oldValue:i})))},_updateMinutes:function(e){var t=this,n=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),a=n.getMinutes();e===a?delete t._oldTimePart:(t._oldTimePart=a,void 0===t._oldValue&&t.value.setMinutes(e),1===(e=e.toString()).length&&(e="0"+e),t._minuteContainer.innerHTML=e,t._hiddenInput.value=t.value,t._raiseEvent("0",{value:t.value,oldValue:n}))},_validateFooterTemplate:function(){var e,t=this,n=t.footerTemplate,a=window.navigator.userAgent,a=-1<a.indexOf("MSIE")||-1<a.indexOf("NET");if(null===n||a)t._footer.innerHTML="";else{if(n instanceof HTMLTemplateElement?e=n:"string"!=typeof n||(e=document.getElementById(n))instanceof HTMLTemplateElement||(e=void 0),void 0===e)return t.footerTemplate=null,void(t._footer.innerHTML="");a=document.importNode(e.content,!0);t._footer.appendChild(a)}},_validateInitialPropertyValues:function(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()},_validateValue:function(){var e,t=this,n=t.value,a=void 0!==t._oldValue?this._oldValue:new Date;if(!(n instanceof Date))if("string"==typeof n){if(/^\d{1,2}:\d{1,2}$/.test(n))return e=n.split(":"),void(t.value=new Date(a.getFullYear(),a.getMonth(),a.getDate(),parseFloat(e[0]),parseFloat(e[1])));t.value=t._parseDateString(n,a)}else t.value=a},destroy:function(){var e=this;e._removeEventHandlers(),e._draw.clear(),e.host.removeData(),e.host.removeClass(),e.host.remove(),delete e.element,delete e.host},_keydownHandler:function(e){var t,n,a,i=this;i._dragging||(t=i.enableShadowDOM&&i.shadowRoot.activeElement||document.activeElement,a=e.key,!i._header.contains(t)||"Enter"!==a&&" "!==a?t!==i._picker||e.altKey||("ArrowRight"===a||"ArrowUp"===a?n=1:"ArrowLeft"!==a&&"ArrowDown"!==a||(n=-1),n&&(e.preventDefault(),"hour"===i.selection?(0===(a=i.value.getHours())&&-1===n?a=23:23===a&&1===n?a=0:a+=n,"12-hour"===i.format&&(12<=a&&r(i._amContainer).hasClass("jqx-selected")?a-=12:a<12&&r(i._pmContainer).hasClass("jqx-selected")&&(a+=12)),i.setHours(a,void 0,!0)):(60<=(a=i.value.getMinutes())+(n*=i.minuteInterval)?a=0:a<-1*n?a=60%n==0?60+n:60-60%n:a+=n,i.setMinutes(a,!0)))):(e.preventDefault(),i._headerClickHandler({target:t})))},_resizeHandler:function(){var e=this,t=!1;e._isVisible()?(t=!(e._renderingSuspended=!1),e._getMeasurements(),e._getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1,e._draw.refresh()):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0},_pickerDownHandler:function(e){this.disabled||this.readonly||!jqx.mobile.isTouchDevice()&&1!==e.which||this._changeSelection(e)},_pickerMoveHandler:function(e){},_addEventHandlers:function(){var e=this;e.addHandler(r(e.element),"keydown.timepicker"+e.widgetID,e._keydownHandler.bind(this)),e.addHandler(r(e.element),"resize.timepicker"+e.widgetID,e._resizeHandler.bind(this)),e.addHandler(r(e._header),"click.timepicker"+e.widgetID,e._headerClickHandler.bind(this)),e.addHandler(r(e._picker),"mousedown.timepicker"+e.widgetID,e._pickerDownHandler.bind(this)),e.addHandler(r(document),"mousemove.timepicker"+e.widgetID,e._documentMoveHandler.bind(this)),e.addHandler(r(document),"mouseup.timepicker"+e.widgetID,e._documentUpHandler.bind(this))},_removeEventHandlers:function(){var e=this;e.removeHandler(r(e.element),"keydown.timepicker"+e.widgetID),e.removeHandler(r(e.element),"resize.timepicker"+e.widgetID),e.removeHandler(r(e._header),"click.timepicker"+e.widgetID),e.removeHandler(r(e._picker),"mousedown.timepicker"+e.widgetID),e.removeHandler(r(e._picker),"mousemove.timepicker"+e.widgetID),e.removeHandler(r(document),"mousemove.timepicker"+e.widgetID),e.removeHandler(r(document),"mouseup.timepicker"+e.widgetID)},_raiseEvent:function(e,t){var n,e=this._events[e],e=new r.Event(e);e.owner=this,e.args=t;try{n=this.host.trigger(e)}catch(e){}return n},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework);