!function(e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=t[r];if(e.call(n,o,r,t))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=t[r];if(e.call(n,o,r,t))return r;r++}return-1},configurable:!0,writable:!0}),e.extend(e.jqx._jqxGrid.prototype,{_getChartDataFields:function(e){var t,i,n=this,r=!0,o=[];for(i in e[0])"$"!==i&&"uid"!==i&&"boundindex"!==i&&"uniqueid"!==i&&"visibleindex"!==i&&("string"===(n.source._source.dataFields?n.source._source.dataFields.find(function(e){return e.name===i}):n.source._source.datafields.find(function(e){return e.name===i})).type?0===n.columns.records.findIndex(function(e){return e.datafield===i})&&(t=i):(r=!1,o.push({dataField:i,displayText:i})));return{xAxisDataField:t,series:o,stringOnly:r}},createChart:function(e,t){var i=this,n=i.getselection(),r=n.rows,o=n.cells,n=document.createElement("div"),a=[],s={},d=[],l=[];if(o&&1<o.length&&o.forEach(function(e){-1===d.indexOf(e.rowindex)&&d.push(e.rowindex),-1===l.indexOf(e.datafield)&&l.push(e.datafield)}),t=0===r.length&&0===o.length?i.source.records:t)a=a.concat(t);else for(var t=i.source.records,c=0;c<t.length;c++){var f={};if(0<r.length){if(-1===r.indexOf(c))continue}else if(0<o.length&&1<o.length){if(-1===d.indexOf(c))continue;l.forEach(function(e){f[e]=t[c][e]}),a.push(f);continue}i.columns.records.forEach(function(e){f[e.datafield]=t[c][e.datafield]}),a.push(f)}var u,h=i._getChartDataFields(a);if(h.stringOnly)i.showheader&&(u=i.element.querySelector("#"+e),i.toolbar[0].firstElementChild.classList.add("warning"),u&&u.classList.add("warning"),setTimeout(function(){i.toolbar[0].firstElementChild.classList.remove("warning"),u&&u.classList.remove("warning")},1e3));else{var g=h.series,p={title:"",description:"",showLegend:!0,showBorderLine:!1,padding:{left:5,top:10,right:5,bottom:5}};if(p.source=a,p.xAxis={dataField:h.xAxisDataField,gridLines:{visible:!0}},p.valueAxis={displayValueAxis:!0,description:i.charting.description,axisSize:"auto",formatSettings:i.charting.formatSettings},p.colorScheme=i.charting.colorScheme,p.seriesGroups=[s],s.formatSettings=i.charting.formatSettings,s.series=g,"line"===e)g.forEach(function(e){e.symbolSize=8,e.symbolType="square"});else if("pie"===e){var x=g[0].dataField;delete s.formatSettings,s.formatFunction=function(e,t){return isNaN(e)&&"object"==typeof e?t:e},s.showLabels=!0,g.length=0,g.push({dataField:x,displayText:h.xAxisDataField,initialAngle:0})}else if("bar"===e)e="column",s.orientation="horizontal",p.xAxis.textRotationAngle=90,p.valueAxis.textRotationAngle=30,p.valueAxis.flip=!0;else if("area"===e)for(var y=1,c=0;c<g.length;c++)g[c].opacity=y,y-=.2,y=Math.max(.3,y);s.type=e,i.charting.ready&&i.charting.ready(p),i.charting.appendTo?(x="string"===i.charting.appendTo?document.querySelector(i.charting.appendTo):i.charting.appendTo)&&(new jqxChart(n,p),x.appendChild(n)):i._openChartDialog(n,e,p)}},_openChartDialog:function(e,t,i){var n=this;if(!n.charting.dialog.enabled)return!1;var r=document.createElement("div"),o=(r.innerHTML="<div>"+n.charting.dialog.header+'</div><div style="overflow:hidden;"></div>',t.substring(0,1).toUpperCase(),t.substring(1),e.style.width="100%",e.style.height="100%",new jqxWindow(r,{width:n.charting.dialog.width,height:n.charting.dialog.height,position:n.charting.dialog.position,isModal:!0}));o.open(),setTimeout(function(){r.querySelector(".jqx-widget-content").appendChild(e);new jqxChart(e,i)},100),o.on("close",function(){o.destroy()})}})}(jqxBaseFramework);