!function(l){l.jqx.jqxWidget("jqxNotification","",{}),l.extend(l.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===l.jqx._jqxNotification.prototype||l.extend(!0,this,t),t},createInstance:function(t){var e=this;e.render(),1==e.autoOpen&&e.open()},render:function(){var t,e=this;0==e.host.hasClass("jqx-notification")?(e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-notification")),e.host.css({zIndex:e.zIndex,display:"none",opacity:e.opacity}),e._container=e._notificationContainer(),e._appendContent(),e._setHoverFunctions(),e._instances=new Array,e._instanceKey=0,null==(t=l.data(document.body,"jqxNotifications"))&&(t=0),l.data(document.body,"jqxNotifications",t+1)):e.refresh()},refresh:function(t){t||this._appendContent(!0)},open:function(){var t,e=this;0==e.disabled&&((t=e.host.clone()).removeAttr("id"),t.width(e.width),t.height(e.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0",{element:t})}),1==e.blink&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,e.opacity/1.5,function(){t.fadeTo(400,e.opacity)})},850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++)},closeAll:function(){for(var t=this,e=0;e<t._instances.length;e++)t._instances[e]&&t._close(t._instances[e])},closeLast:function(){for(var t=this,e=t._instances.length;0<=e;e--)if(t._instances[e]){t._close(t._instances[e]);break}},destroy:function(){var t=this,e=(t.closeAll(),t.host.remove(),l.data(document.body,"jqxNotifications"));l.data(document.body,"jqxNotifications",e-1),t._destroyContainers(e-1)},propertyChangedHandler:function(t,e,n,o){var i=this;if(o!=n)switch(e){case"width":case"height":var a=n.indexOf&&-1!=n.indexOf("%"),s=(null==a&&(a=!1),o.indexOf&&-1!=o.indexOf("%"));(s=null==s?!1:s)!=a&&(i[e]=n);break;case"appendContainer":case"position":i._container=i._notificationContainer();break;case"browserBoundsOffset":i.appendContainer||i._position(i._container);break;case"opacity":i.host.css("opacity",o);break;case"showCloseButton":case"template":case"icon":case"rtl":i._appendContent(!0)}},_raiseEvent:function(t,e){var n=this,t=n.events[t],t=new l.Event(t);t.owner=n,t.args=e;try{var o=n.host.trigger(t)}catch(t){}return o},_close:function(t){var e=this;e._instances[t._key]&&(e._instances[t._key]=!1,clearInterval(t._blinkInterval),clearTimeout(t._autoCloseTimeout),t.fadeOut(e.animationCloseDelay,function(){e._removeHandlers(t),t.remove(),e._raiseEvent("1")}))},_addHandlers:function(e){var t,n=this;n.addHandler(e,"click.notification"+n.element.id,function(t){n._raiseEvent("2"),1==n.closeOnClick&&n._close(e)}),n.addHandler(e,"mouseenter.notification"+n.element.id,function(t){e._blinkInterval||n.mouseenterFunction(e)}),n.addHandler(e,"mouseleave.notification"+n.element.id,function(t){e._blinkInterval||"none"==e.css("display")||n.mouseleaveFunction(e)}),1==n.showCloseButton&&(t=e.find(".jqx-notification-close-button"),n.addHandler(t,"click.notification"+n.element.id,function(t){t.stopPropagation(),n._close(e)}))},_removeHandlers:function(t){var e=this,t=(e.removeHandler(t,"click.notification"+e.element.id),e.removeHandler(t,"click.mouseenter"+e.element.id),e.removeHandler(t,"click.mouseleave"+e.element.id),t.find(".jqx-notification-close-button"));0<t.length&&e.removeHandler(t,"click.notification"+e.element.id)},_appendContent:function(t){function e(){0==i.rtl?(o.addClass("jqx-notification-icon-ltr"),n.before(o)):(o.addClass("jqx-notification-icon-rtl"),n.after(o))}var n,o,i=this,a=i.host.html(),s=(t||i.host.children().detach(),t&&(i.host.removeAttr("class"),i.host.addClass(i.toThemeProperty("jqx-rc-all")),i.host.addClass(i.toThemeProperty("jqx-notification"))),l("<table class='"+i.toThemeProperty("jqx-notification-table")+"'></table>")),c=l("<tr></tr>"),r=(s.append(c),i.rtl?"jqx-notification-content-rtl":"");t?(a=(n=i.host.find(".jqx-notification-content")).html(),n.detach(),i.rtl?n.addClass("jqx-notification-content-rtl"):n.removeClass("jqx-notification-content-rtl")):n=l("<td class='"+i.toThemeProperty("jqx-notification-content")+" "+r+"'></td>"),c.html(n);i.template?(i.host.addClass("jqx-widget"),i.host.addClass("jqx-popup"),i.host.addClass("jqx-notification-"+i.template),o=l("<td class='"+i.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+i.template+"'></td>"),e()):(i.host.addClass(i.toThemeProperty("jqx-widget")),i.host.addClass(i.toThemeProperty("jqx-popup")),i.host.addClass(i.toThemeProperty("jqx-fill-state-normal")),i.icon&&(o=l("<td class='"+i.toThemeProperty("jqx-notification-icon")+"'></td>"),i.icon.padding=i.icon.padding?parseInt(i.icon.padding):5,o.css({width:parseInt(i.icon.width)+i.icon.padding,height:i.icon.height,"background-image":"url('"+i.icon.url+"')"}),e())),1==i.showCloseButton&&(t=i.template?"jqx-notification-close-button jqx-notification-close-button-"+i.template:i.toThemeProperty("jqx-icon-close")+" "+i.toThemeProperty("jqx-notification-close-button"),r=l("<td class='"+i.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+t+" "+i.element.id+"CloseButton' title='Close'></div></td>"),0==i.rtl?(r.find("div").addClass("jqx-notification-close-button-ltr"),n.after(r)):(r.find("div").addClass("jqx-notification-close-button-rtl"),n.before(r))),i.host[0].innerHTML="",i.host.append(s),i.host.find(".jqx-notification-content").html(a)},_position:function(t){var e,n,o,i,a=this;switch(a.position){case"top-right":n=a.browserBoundsOffset,o=a.browserBoundsOffset,i=e="";break;case"top-left":e=a.browserBoundsOffset,o=a.browserBoundsOffset,i=n="";break;case"bottom-left":e=a.browserBoundsOffset,o=n="",i=a.browserBoundsOffset;break;case"bottom-right":n=a.browserBoundsOffset,o=e="",i=a.browserBoundsOffset}t.css({left:e,right:n,top:o,bottom:i})},_notificationContainer:function(){var t,e=this;if(e.appendContainer){if(0==(t=l(e.appendContainer)).length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+e.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else 0==(t=l("#jqxNotificationDefaultContainer-"+e.position)).length&&(l("body").append("<div id='jqxNotificationDefaultContainer-"+e.position+"' class='jqx-notification-container'></div>"),t=l("#jqxNotificationDefaultContainer-"+e.position),e.width.indexOf&&-1!=e.width.indexOf("%")&&t.addClass(e.toThemeProperty("jqx-notification-container-full-width")),e.height.indexOf&&-1!=e.height.indexOf("%")&&t.addClass(e.toThemeProperty("jqx-notification-container-full-height")),e._position(t));return t},_destroyContainers:function(t){0==t&&l(".jqx-notification-container").remove()},_setHoverFunctions:function(){var e=this,t=!1;0==(t="msie"==l.jqx.browser.browser&&"9.0"==l.jqx.browser.version?!0:t)?(e.mouseenterFunction=function(t){t.fadeTo("fast",e.hoverOpacity)},e.mouseleaveFunction=function(t){t.fadeTo("fast",e.opacity)}):(e.mouseenterFunction=function(t){t.css("filter","alpha(opacity = "+100*e.hoverOpacity+")")},e.mouseleaveFunction=function(t){t.css("filter","alpha(opacity = "+100*e.opacity+")")})}})}(jqxBaseFramework);