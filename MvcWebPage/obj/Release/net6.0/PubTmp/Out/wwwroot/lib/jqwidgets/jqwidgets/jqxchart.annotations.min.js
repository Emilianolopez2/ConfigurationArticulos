!function(t){t.extend(t.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(t,e,i){var a=this.seriesGroups[t],s=this.renderer;if(!isNaN(t)){var o=this._get([this.getXAxisDataPointOffset(e.xValue,t),e.x]),n=this._get([this.getValueAxisDataPointOffset(e.yValue,t),e.y]),r=this._get([this.getXAxisDataPointOffset(e.xValue2,t),e.x2]),l=this._get([this.getValueAxisDataPointOffset(e.yValue2,t),e.y2]);if((a.polar||a.spider)&&(n=!(t=this.getPolarDataPointOffset(e.xValue,e.yValue,t))||isNaN(t.x)||isNaN(t.y)?(o=e.x,e.y):(o=t.x,t.y)),isNaN(n)||isNaN(o))return!1;"horizontal"==a.orientation&&(t=o,o=n,n=t,t=r,r=l,l=t),e.offset&&(isNaN(e.offset.x)||(o+=e.offset.x,r+=e.offset.x),isNaN(e.offset.y)||(n+=e.offset.y,l+=e.offset.y));var f,h,c,x=this._get([e.width,r-o]),N=this._get([e.height,l-n]);switch(isNaN(x)&&(x=90,N=20),e.type){case"rect":f=s.rect(o,n,x,N);break;case"circle":f=s.rect(o,n,e.radius);break;case"line":f=s.rect(o,n,r,l);break;case"path":f=s.path(e.path)}s.attr(f,{fill:e.fillColor,stroke:e.lineColor,opacity:this._get([e.fillOpacity,e.opacity]),"stroke-opacity":this._get([e.lineOpacity,e.opacity]),"stroke-width":e.lineWidth,"stroke-dasharray":e.dashStyle||"none"}),e.text&&(t=a=0,(c=e.text).offset&&(isNaN(c.offset.x)||(a+=c.offset.x),isNaN(c.offset.y)||(t+=c.offset.y)),h=s.text(c.value,o+a,n+t,NaN,NaN,c.angle,{},!0===c.clip,c.horizontalAlignment||"center",c.verticalAlignment||"center",c.rotationPoint||"centermiddle"),s.attr(h,{fill:c.fillColor,stroke:c.lineColor,class:c.class}));for(var y=["click","mouseenter","mouseleave"],d=this,u=0;u<y.length;u++){var g=this._getEvent(y[u])||y[u];f&&this.renderer.addHandler(f,g,function(){d._raiseAnnotationEvent(e,g)}),h&&this.renderer.addHandler(h,g,function(){d._raiseAnnotationEvent(e,g)})}}},_raiseAnnotationEvent:function(t,e){this._raiseEvent("annotation_"+e,{annotation:t})}})}(jqxBaseFramework);