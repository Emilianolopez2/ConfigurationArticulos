!function(d){d.jqx.jqxWidget("jqxProgressBar","",{}),d.extend(d.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===d.jqx._jqxProgressBar.prototype||d.extend(!0,this,t),t},createInstance:function(t){var e=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),d.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&isNaN(this.width),this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&isNaN(this.height),this.host.height(this.height),this.valueDiv=d("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=d("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=d("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),d.jqx.utilities.resize(this.host,function(){e.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var t="vertical"==this.orientation,e=this.colorRanges,i=e.length,s=0;s<i;s++){var h=e[s].stop,a=e[s].color;this._createColorElements(h,a,t,i-s,s)}},_refreshColorElements:function(){for(var t=this.host.outerWidth(),e=this.host.outerHeight(),i="vertical"==this.orientation,s=0;s<this.colorRanges.length;s++){var h=this.colorRanges[s].element;if(!h)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var a=this.colorRanges[s].stop,a=100*((a=a>Math.min(this.max,this.value)?Math.min(this.max,this.value):a)-this.min)/(this.max-this.min),a=i?e*a/100:t*a/100;a+="px",i?(h.css("height",a),"reverse"==this.layout?h.css("bottom",0):h.css("top",0)):(h.css("width",a),!this.rtl&&"reverse"!=this.layout||h.css("right","0px"))}},_createColorElements:function(t,e,i,s,h){var a,t=100*(t=t>Math.min(this.max,this.value)?Math.min(this.max,this.value):t)/this.max,t=(this.host.width(),this.host.height(),i?this.host.outerHeight()*t/100:this.host.outerWidth()*t/100),r=(t+="px",d(this.valueDiv).parent()[0]);r.style.position="relative",(i=i||!1)?((a=d("<div/>")).attr("class","jqx-progressbar-range"),a.css("width","100%"),a.css("height",t),a.css("background-color",e),a.css("position","absolute"),a.css("z-index",s),"reverse"==this.layout?a.css("bottom",0):a.css("top",0)):((a=d("<div/>")).attr("class","jqx-progressbar-range"),a.css("width",t),a.css("height","100%"),a.css("background-color",e),a.css("position","absolute"),a.css("z-index",s),a.css("top","0px"),this.rtl&&a.css("right","0px")),a.appendTo(r),this.colorRanges[h].element=a},resize:function(t,e){this.width=t,this.height=e,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,e,i){if(null!=this.isInitialized&&1==this.isInitialized)return t=this.events[t],(t=new d.Event(t)).previousValue=e,t.currentValue=i,(t.owner=this).host.trigger(t)},actualValue:function(t){return void 0===t||(d.jqx.aria(this,"aria-valuenow",t),d.jqx.setvalueraiseevent(this,"value",t)),this._value()},val:function(t){return 0==arguments.length||"object"==typeof t?this.actualValue():this.actualValue(t)},propertiesChangedHandler:function(t,e,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(t.host.width(i.width),t.host.height(i.height),t.refresh())},propertyChangedHandler:function(t,e,i,s){var h;!this.isInitialized||i==s||t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||(h=this,"colorRanges"==e&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),("min"==e&&t.value<s||"max"==e&&t.value>s)&&(t.value=s),"value"===e&&null!=h.value&&(h.value=s,h.oldValue=i,d.jqx.aria(t,"aria-valuenow",s),(s<h.min||s>h.max)&&h._raiseevent(1,i,s),h.refresh()),"theme"==e&&d.jqx.utilities.setTheme(i,s,t.host),"renderText"==e||"orientation"==e||"layout"==e||"showText"==e||"min"==e||"max"==e?h.refresh():"width"==e&&null!=h.width?null==h.width||isNaN(h.width)||(h.host.width(h.width),h.refresh()):"height"!=e||null==h.height||null==h.height||isNaN(h.height)||(h.host.height(h.height),h.refresh()),"disabled"==e&&h.refresh())},_value:function(){var t,e=this.value;return"number"!=typeof e&&(t=parseInt(e),e=isNaN(t)?0:t),Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var t=d("<span>"+t+"</span>"),e=(d(this.host).append(t),t.width());return t.remove(),e},_textheight:function(t){var t=d("<span>"+t+"</span>"),e=(d(this.host).append(t),t.height());return t.remove(),e},_initialRender:!0,refresh:function(t){if(!0!==t){var t=this.actualValue(),e=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),d(this.element.children[0]).show(),!isNaN(t)&&!isNaN(e)){this.oldValue!==t&&(this._raiseevent(0,this.oldValue,t),this._raiseevent(3,this.oldValue,t),this.oldValue=t);var i=this.oldValue,s=this.host.outerHeight(),h=this.host.outerWidth(),a=(null!=this.width&&(h=parseInt(this.width)),null!=this.height&&(s=parseInt(this.height)),this._refreshColorElements(),parseInt(this.host.outerWidth())/2),r=(parseInt(this.host.outerHeight()),isNaN(e)&&(e=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this);try{var o,n=this.element.children[0];d(n)[0].style.position="relative","horizontal"==this.orientation?(d(n).toggle(t>=this.min),h=this.host.outerWidth()*e/100,l=0,"reverse"!=this.layout&&!this.rtl||(this._initialRender&&(d(n)[0].style.left=this.host.width()+"px",d(n)[0].style.width=0),l=this.host.outerWidth()-h),d(n).stop(),d(n).animate({width:h,left:l+"px"},this.animationDuration,function(){r._value()===r.max&&r._raiseevent(2,i,r.max)})):(d(n).toggle(t>=this.min),s=this.host.height()*e/100,o=0,"reverse"==this.layout&&(this._initialRender&&(d(n)[0].style.top=this.host.height()+"px",d(n)[0].style.height=0),o=this.host.height()-s),d(n).stop(),d(n).animate({height:s,top:o+"px"},this.animationDuration,function(){var t=r._percentage();(t=isNaN(t)?0:t).toFixed(0)==r.min&&(d(n).hide(),r._value()===r.max&&r._raiseevent(2,i,r.max))}))}catch(t){}this._initialRender=!1,this.feedbackElement.html(e.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(e.toFixed(0)+"%",e)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),0<this.colorRanges.length&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var h=this.feedbackElement.height(),l=this.feedbackElement.width(),t=Math.floor(a-parseInt(l)/2);this.feedbackElement.css({left:t,"margin-top":-parseInt(h)/2+"px"})}}}})}(jqxBaseFramework);