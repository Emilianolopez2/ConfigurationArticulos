!function(b){b.jqx.jqxWidget("jqxCalendar","",{}),b.extend(b.jqx._jqxCalendar.prototype,{defineInstance:function(){var e={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:b.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:b.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:b.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:25,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===b.jqx._jqxCalendar.prototype||(b.extend(!0,this,e),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e},_createFromInput:function(e){var t,i,a=this;"input"==a.element.nodeName.toLowerCase()&&(a.field=a.element,a.field.className&&(a._className=a.field.className),t={title:a.field.title},a.field.value&&(t.value=a.field.value),a.field.checked&&(t.checked=!0),a.field.id.length?t.id=a.field.id.replace(/[^\w]/g,"_")+"_"+e:t.id=b.jqx.utilities.createId()+"_"+e,a.field.getAttribute("min")&&"Invalid Date"!=(e=new Date(a.field.getAttribute("min")))&&(a.min=e),a.field.getAttribute("max")&&"Invalid Date"!=(e=new Date(a.field.getAttribute("max")))&&(a.max=e),(e=b("<div></div>",t))[0].style.cssText=a.field.style.cssText,a.width||(a.width=b(a.field).width()),a.height||(a.height=b(a.field).outerHeight()),b(a.field).hide().after(e),i=a.host.data(),a.host=e,a.host.data(i),a.element=e[0],a.element.id=a.field.id,a.field.id=t.id,a._className&&(a.host.addClass(a._className),b(a.field).removeClass(a._className)),a.field.tabIndex&&(i=a.field.tabIndex,a.field.tabIndex=-1,a.element.tabIndex=i))},createInstance:function(e){var t,i,a=this,s=(a._createFromInput("jqxCalendar"),a.isMaterialized()&&(i=(t=window.getComputedStyle(this.element)).getPropertyValue("--jqx-calendar-title-height"),t=t.getPropertyValue("--jqx-calendar-column-header-height"),i&&(this.titleHeight=parseInt(i)),t&&(this.columnHeaderHeight=parseInt(t)),"fluent"===this.theme&&(this.navigationDelay=0),setTimeout(function(){a.refreshControl()},200)),this.setCalendarSize(),""===this.element.id&&(this.element.id=b.jqx.utilities.createId()),"date"==b.type(this.value)&&(this.value=b.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar"),this.element.id,this),l=(this.propertyChangeMap.width=function(e,t,i,a){s.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,a){s.setCalendarSize()},b.global&&b.global.preferCulture(this.culture),"default"!=this.culture&&(b.global?(b.global.preferCulture(this.culture),this.localization.calendar=b.global.culture.calendar):window.Globalize&&(i=window.Globalize.culture(this.culture),this.localization.calendar=i.calendar),this.firstDayOfWeek=this.localization.calendar.firstDay),"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&null!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return s.keyboardNavigation&&null!=s._handleKey&&!(t=s._handleKey(e))&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()),t}),!1),r=this,n=!1;null!=s.width&&-1!=s.width.toString().indexOf("%")&&(n=!0),null!=s.height&&-1!=s.height.toString().indexOf("%")&&(n=!0),b.jqx.utilities.resize(this.host,function(){var e=r.host.find("#View"+s.element.id);l?r.refreshTitle(e):(l=!0,r.render()),n&&(s.refreshTimer&&clearTimeout(s.refreshTimer),s.refreshTimer=setTimeout(function(){s.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,a){a?e.host.addClass(s.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(s.toThemeProperty("jqx-fill-state-disabled")),s.refreshControl()}},_addInput:function(){var e=this.host.attr("name");this.input=b("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.getDate().toString())},setCalendarSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(e){if(this.readOnly)return!0;var t=e.keyCode,i=this._getSelectedDate();if(null==i){if("month"!=this.view||37!=t&&38!=t&&39!=t&&40!=t)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),i=this.selectedDate}if(e.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==t&&(p=this._getSelectedCell(),this._setDateAndSwitchViews(p,e,"keyboard")),"year"==this.view){var a,s=i.getMonth(),l=this._getYearAndMonthPart(this.getMinDate()),r=this._getYearAndMonthPart(this.getMaxDate());switch(t){case 37:return 0==s?l<=(a=new Date(i.getFullYear()-1,11,1))?(this.selectedDate=a,this.navigateBackward()):this.selectedDate!=l&&(this.selectedDate=l,this.navigateBackward()):l<=(a=new Date(i.getFullYear(),s-1,1))&&this._selectDate(a,"key"),!1;case 38:return(a=new Date(i.getFullYear(),s-4,1))<l&&(a=l),s-4<0?(this.selectedDate=a,this.navigateBackward()):this._selectDate(a,"key"),!1;case 40:return r<(a=new Date(i.getFullYear(),s+4,1))&&(a=r),11<s+4?(this.selectedDate=a,this.navigateForward()):this._selectDate(a,"key"),!1;case 39:return 11==s?(a=new Date(i.getFullYear()+1,0,1))<=r?(this.selectedDate=a,this.navigateForward()):this.selectedDate!=r&&(this.selectedDate=r,this.navigateForward()):(a=new Date(i.getFullYear(),s+1,1))<=r&&this._selectDate(a,"key"),!1}return!0}if("decade"==this.view){var n,h=this._renderStartDate.getFullYear(),d=this._renderEndDate.getFullYear(),o=i.getFullYear(),c=this.getMinDate().getFullYear(),u=this.getMaxDate().getFullYear();switch(t){case 37:return c<=o-1&&(o<=h?(this.selectedDate=new Date(o-1,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(o-1,i.getMonth(),1),"key")),!1;case 38:return(n=o-4<c?c:o-4)<h?(this.selectedDate=new Date(n,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(n,i.getMonth(),1),"key"),!1;case 40:return d<(n=u<(n=o+4)?u:n)?(this.selectedDate=new Date(n,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(n,i.getMonth(),1),"key"),!1;case 39:return o+1<=u&&(o==d?(this.selectedDate=new Date(o+1,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(o+1,i.getMonth(),1),"key")),!1}return!0}var g=new b.jqx._jqxDateTimeInput.getDateTime(i),m=this.getViewStart(),f=this.getViewEnd(),D=b.data(this.element,"View"+this.element.id);if(null==D)return!0;if(36==t)return g._setDay(1),this._isDisabled(g.dateTime)||this._selectDate(g.dateTime,"key"),!1;if(35==t)return w=this.value._daysInMonth(this.value.year,this.value.month),g._setDay(w),this._isDisabled(g.dateTime)||this._selectDate(g.dateTime,"key"),!1;var w=1;if(e.ctrlKey&&(w=12),34==t){if(this.navigateForward(w)){if(g._addMonths(w),this._isDisabled(g.dateTime))return!1;this._selectDate(g.dateTime,"key")}return!1}if(33==t){if(this.navigateBackward(w)){if(g._addMonths(-w),this._isDisabled(g.dateTime))return!1;this._selectDate(g.dateTime,"key")}return!1}if(38==t){if(g._addDays(-7),g.dateTime<this.getMinDate())return!1;if(g.dateTime<m)if(!this.navigateBackward())return!1;if(this._isDisabled(g.dateTime))return!1;this._selectDate(g.dateTime,"key");for(var v=0;v<D.cells.length;v++){var y=(p=D.cells[v]).getDate();if(p.isOtherMonth&&p.isSelected&&y<=g.dateTime){this.value.day=y.getDate(),this.navigateBackward(),this._selectDate(g.dateTime,"key");break}}return!1}if(40==t){if(g._addDays(7),g.dateTime>this.getMaxDate())return!1;if(g.dateTime>f)if(!this.navigateForward())return!1;if(this._isDisabled(g.dateTime))return!1;this._selectDate(g.dateTime,"key");for(v=0;v<D.cells.length;v++){y=(p=D.cells[v]).getDate();if(p.isOtherMonth&&p.isSelected&&y>=g.dateTime){this.value.day=y.getDate(),this.navigateForward(),this._selectDate(g.dateTime,"key");break}}return!1}if(37==t){if(g._addDays(-1),g.dateTime<this.getMinDate())return!1;if(g.dateTime<m)if(!this.navigateBackward())return!1;if(this._isDisabled(g.dateTime))return!1;this._selectDate(g.dateTime,"key");for(v=0;v<D.cells.length;v++){y=(p=D.cells[v]).getDate();if(p.isOtherMonth&&p.isSelected&&y<=g.dateTime){if(g.dateTime<this.getMinDate()||g.dateTime>this.getMaxDate())return!1;if(this._isDisabled(g.dateTime))return!1;this.navigateBackward(),this._selectDate(g.dateTime,"key");break}}return!1}if(39!=t)return!0;if(g._addDays(1),g.dateTime>this.getMaxDate())return!1;if(g.dateTime>f&&!this.navigateForward())return!1;if(this._isDisabled(g.dateTime))return!1;this._selectDate(g.dateTime,"key");for(v=0;v<D.cells.length;v++){var p,y=(p=D.cells[v]).getDate();if(p.isOtherMonth&&p.isSelected&&y>=g.dateTime){if(g.dateTime<this.getMinDate()||g.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(g.dateTime,"key");break}}return!1},render:function(){var e;this.canRender&&(this.host.children().remove(),e=this._renderSingleCalendar("View"+this.element.id),this.host.append(e))},addSpecialDate:function(e,t,i){var a;1==this.multipleMonthRows&&1==this.multipleMonthColumns&&(a=this.specialDates.length,this.specialDates[a]={Date:e,Class:t,Tooltip:i},this.refreshControl())},refresh:function(e){var t=this;this.render(),setTimeout(function(){t.refreshControl()})},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var e=this.getViewStart(),e=new b.jqx._jqxDateTimeInput.getDateTime(e);return e._addDays(41),e.dateTime},refreshSingleCalendar:function(e,t){var i,a,s;this.canRender&&(s=this.host.find("#"+e),i=this.getVisibleDate(),i=this.getFirstDayOfWeek(i),this.refreshCalendarCells(s,i,e),this.refreshTitle(s),this.refreshRowHeader(s,e),null!=this.selectedDate&&this._selectDate(this.selectedDate),i=parseInt(this.month.css("padding-top")),i=this.host.height()-2*i-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(i=this.month.height()-this.titleHeight),this.showFooter&&(i-=20),a=s.find("#cellsTable"+e),s=s.find("#calendarRowHeader"+e),a.height(i),s.height(i))},refreshRowHeader:function(e,t){if(this.showWeekNumbers){for(var i=this.getVisibleDate(),i=this.getFirstDayOfWeek(i),a=(i.dayOfWeek,this.getWeekOfYear(i)),s=new b.jqx._jqxDateTimeInput.getDateTime(new Date(i.dateTime)),l=(s._addDays(5),s.dayOfWeek=s.dateTime.getDay(),this.getWeekOfYear(s),this.rowHeader.find("table")),r=(l.width(this.rowHeaderWidth),i),n=new Array,h=0;h<6;h++){a.toString();var d=new b.jqx._jqxCalendar.cell(r.dateTime),o=h+1+this.element.id,c=b(l[0].rows[h].cells[0]),c=(d.element=c,d.row=h,d.column=0,c.find("#headerCellContent"+o));c.addClass(this.toThemeProperty("jqx-calendar-row-cell")),c[0].innerHTML=a,n[h]=d,r=new b.jqx._jqxDateTimeInput.getDateTime(new Date(r._addWeeks(1))),a=this.getWeekOfYear(r)}s=b.data(this.element,e[0].id);s.rowCells=n,this._refreshOtherMonthRows(s,t)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,a=!1,s=0;s<e.cells.length;s++){var l=e.cells[s];l.isVisible&&s<7?i=!0:l.isVisible&&s>=e.cells.length-7&&(a=!0)}i||this._displayFirstRow(!1,t),a||this._displayLastRow(!1,t)}},_displayLastRow:function(e,t){var t=this.host.find("#"+t),i=t.find("#calendarRowHeader"+t[0].id).find("table"),a=null,i=(this.showWeekNumbers&&i[0].cells&&(a=b(i[0].rows[5])),b(t.find("#cellTable"+t[0].id)[0].rows[5]));e?(this.showWeekNumbers&&a&&a.css("display","table-row"),i.css("display","table-row")):(this.showWeekNumbers&&a&&a.css("display","none"),i.css("display","none"))},_displayFirstRow:function(e,t){var t=this.host.find("#"+t),i=t.find("#calendarRowHeader"+t[0].id).find("table"),a=null,i=(this.showWeekNumbers&&i[0].cells&&(a=b(i[0].rows[0])),b(t.find("#cellTable"+t[0].id)[0].rows[0]));e?(this.showWeekNumbers&&a&&a.css("display","table-row"),i.css("display","table-row")):(this.showWeekNumbers&&a&&a.css("display","none"),i.css("display","none"))},_renderSingleCalendar:function(e,t){var i,a,s,l,r,n,h,d,o;if(this.canRender)return i=this.host.find("#"+e.toString()),null!=i&&i.remove(),i=b("<div id='"+e.toString()+"'></div>"),a=this.getVisibleDate(),a=this.getFirstDayOfWeek(a),s=new b.jqx._jqxDateTimeInput.getDateTime(a.dateTime),s._addMonths(1),s=b.jqx._jqxCalendar.monthView(a,s,null,null,null,i),null==t?(this.host.append(i),i[0].style.width="100%",i[0].style.height="100%"):t.append(i),b.data(this.element,e,s),r=parseInt(i.css("padding-top")),r=this.host.height()-2*r,n=r-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(n=r-this.titleHeight),this.showFooter&&(n-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0),r=this.rowHeaderWidth,l=this.columnHeaderHeight,this.showWeekNumbers||(r=0),this.showDayNames||(l=0),d="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",l="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+l+"'><td role='gridcell' id='selectCell' width='"+r+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+n+"' width='"+r+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+n+"'></td></tr></table>",i[0].innerHTML=d+l+"<div id='footer' style='margin: 0px; display: none; height:undefinedpx;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>",this.header=i.find("#calendarHeader"),this.header[0].id="calendarHeader"+e,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=i.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+e,this.table=i.find("#cellsTable"),this.table[0].id="cellsTable"+e,this.rowHeader=i.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+e,this.selectCell=i.find("#selectCell"),this.selectCell[0].id="selectCell"+e,this.title=i.find("#calendarTitle"),this.title[0].id="calendarTitle"+e,this.leftButton=i.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+e,this.titleHeader=i.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+e,this.rightButton=i.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+e,this.footer=i.find("#calendarFooter"),this._footer=i.find("#footer"),this._footer[0].id="footer"+e,this.footer[0].id="calendarFooter"+e,this.todayButton=i.find("#todayButton"),this.todayButton[0].id="todayButton"+e,this.doneButton=i.find("#doneButton"),this.doneButton[0].id="doneButton"+e,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container")),this.showFooter&&this._footer.css("display","block"),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=i,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(i):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter&&(this.footer.height(20),(r=b("<a href='javascript:;'>"+this.todayString+"</a>")).appendTo(this.todayButton),(n=b("<a href='javascript:;'>"+this.clearString+"</a>")).appendTo(this.doneButton),n.addClass(this.toThemeProperty("jqx-calendar-footer")),r.addClass(this.toThemeProperty("jqx-calendar-footer")),h=this,d="mousedown",b.jqx.mobile.isTouchDevice()&&(d=b.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(r,d,function(){return h.today?h.today():h.setDate(new Date,"mouse"),!1}),this.addHandler(n,d,function(){return h.clear?h.clear():h.setDate(null,"mouse"),!1})),"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(i),this.oldView=this.view,this.renderCalendarCells(i,a,e),null==t&&this.renderTitle(i),this._refreshOtherMonthRows(s,e),i.find("tbody").css({border:"none",background:"transparent"}),null!=this.selectedDate&&this._selectDate(this.selectedDate),o=this,this.addHandler(this.host,"focus",function(){o.focus()}),i},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(e){var s,i=b("<div role='button' style='float: left;'></div>"),a=b("<div role='button' style='float: right;'></div>"),t=this.title,l=(t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-header")),t.addClass(this.toThemeProperty("jqx-calendar-title-header")),t.find("td")),r=(b.jqx.browser.msie&&b.jqx.browser.version<8?("transparent"!=l.css("background-color")&&(r=t.css("background-color"),l.css("background-color",r)),"transparent"!=l.css("background-image")&&(r=t.css("background-image"),n=t.css("background-repeat"),t.css("background-position"),l.css("background-image",r),l.css("background-repeat",n),l.css("background-position","left center scroll"))):l.css("background-color","transparent"),this.disabled&&t.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton),this.leftButton),n=(a.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.appendTo(this.rightButton),this.rightButton),l=(this.enableTooltips&&b(r).jqxTooltip&&(b(r).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),b(n).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})),this.titleHeader),t=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),r=("decade"==this.view?t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture)),b("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+t+"</div>")),n=(l.append(r),r.addClass(this.toThemeProperty("jqx-calendar-title-content")),parseInt(i.width())),t=e.width()-2*n,h=(l.find(".jqx-calendar-title-content").width(t),b.data(i,"navigateLeft",this),b.data(a,"navigateRight",this),b.jqx.mobile.isTouchDevice());this.disabled||((s=this).addHandler(l,"mousedown",function(e){if(s.enableViews){if(!s._viewAnimating&&!s._animating){var t,i,a=s.view;switch(s.oldView=a,s.view){case"month":s.view="year";break;case"year":s.view="decade"}-1==s.views.indexOf("year")&&"year"==s.view&&(s.view="decade"),-1==s.views.indexOf("decade")&&"decade"==s.view&&(s.view=a),a!=s.view&&(a="View"+s.element.id,t=s.host.find("#"+a),i=s.getVisibleDate(),i=s.getFirstDayOfWeek(i),s.renderCalendarCells(t,i,a,!0),s.refreshTitle(t),s._raiseEvent("8"))}return!1}}),this.addHandler(i,"mousedown",function(e){var t;return!s._animating&&(b.data(i,"navigateLeftRepeat",!0),(t=b.data(i,"navigateLeft")).enableFastNavigation&&!h&&t.startRepeat(t,i,!0,s.navigationDelay+200),t.navigateBackward(s.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(0,e))}),this.addHandler(i,"mouseup",function(e){b.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(e){b.data(i,"navigateLeftRepeat",!1)}),this.addHandler(a,"mousedown",function(e){var t;return!s._animating&&(b.data(a,"navigateRightRepeat",!0),(t=b.data(a,"navigateRight")).enableFastNavigation&&!h&&t.startRepeat(t,a,!1,s.navigationDelay+200),t.navigateForward(s.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(1,e))}),this.addHandler(a,"mouseup",function(e){b.data(a,"navigateRightRepeat",!1)}),this.addHandler(a,"mouseleave",function(e){b.data(a,"navigateRightRepeat",!1)}))},refreshTitle:function(e){var t,i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture),a=("decade"==this.view?i=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(i=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture)),this.titleHeader);this.titleHeader&&(t=a.find(".jqx-calendar-title-content"),i=b("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>"),a.append(i),i.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=t&&t.remove())},startRepeat:function(t,i,a,s){var l=window.setTimeout(function(){var e=b.data(i,"navigateLeftRepeat");(e=a?e:b.data(i,"navigateRightRepeat"))?(s<25&&(s=25),a?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,s)):(t.navigateForward(1,"arrow"),l=t.startRepeat(t,i,!1,s))):window.clearTimeout(l)},s)},navigateForward:function(e,t){null==e&&(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var a=this.getMaxDate().getFullYear();if(this.value.year==(i=a<i?a:i)){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var s,a=this.value.day;return this.value.month+e<=12&&((i=this.value._daysInMonth(this.value.year,this.value.month+e))<a&&(a=i)),"month"==this.view?(s=new Date(this.value.year,this.value.month-1+e,a),"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))):s=new Date(this.value.year,this.value.month-1,a),this.navigateTo(s)},navigateBackward:function(e,t){null==e&&(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var a=this.getMinDate().getFullYear();if(i<a&&(i=a),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var s,a=this.value.day;return 1<=this.value.month-e&&((i=this.value._daysInMonth(this.value.year,this.value.month-e))<a&&(a=i)),"month"==this.view?(s=new Date(this.value.year,this.value.month-1-e,a),"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))):s=new Date(this.value.year,this.value.month-1,a),this.navigateTo(s)},_isRestrictedRange:function(e,t){if(t<e)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(t<e)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(t<e)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(e){if(!b.isArray(this.restrictedDates))return!1;for(var t=0;t<this.restrictedDates.length;t++){var i=this.restrictedDates[t];if("object"==typeof i&&null!=i.from&&null!=i.to){var a=i.from,s=i.to;if(e.valueOf()>=a.valueOf()&&e.valueOf()<=s.valueOf())return!0}else if(i.getMonth()==e.getMonth()&&i.getDate()==e.getDate()&&i.getFullYear()==e.getFullYear())return!0}return!1},_isDisabled:function(e){var t=e.getDay();return-1==this.selectableDays.indexOf(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t])||!!this._isRestrictedDate(e)},refreshCalendarCells:function(e,t,i){if("year"==this.view||"decade"==this.view||"centuries"==this.view)this.refreshViews(e,t,i);else{for(var a=this.table.find("#cellTable"+i.toString()),s=t,l=new Array,r=0,n=new b.jqx._jqxDateTimeInput.getDateTime(new Date),h=0;h<6;h++)for(var d=0;d<7;d++){var o=d,o=(o=this.rtl?6-o:o)+1,c="#cell"+(h+1)+o+this.element.id,u=new Date(s.dateTime.getFullYear(),s.dateTime.getMonth(),s.dateTime.getDate()),g=new b.jqx._jqxCalendar.cell(u),o=b(a[0].rows[h].cells[o-1]);o[0].id=c.substring(1),g.element=o,g.row=h,g.column=d,g.isVisible=!0,g.isOtherMonth=!1,g.isToday=!1,g.isWeekend=!1,g.isHighlighted=!1,g.isSelected=!1,s.month!=this.value.month&&(g.isOtherMonth=!0,g.isVisible=this.showOtherMonthDays),this._isRestrictedDate(u)&&(g.isRestricted=!0,g.isDisabled=!0),g.isDisabled||(u<this.getMinDate()||u>this.getMaxDate()||this._isDisabled(u))&&(g.isDisabled=!0),s.month==n.month&&s.day==n.day&&s.year==n.year&&(g.isToday=!0),s.isWeekend()&&(g.isWeekend=!0),b.data(this.element,"cellContent"+c.substring(1),g),b.data(this.element,c.substring(1),g),l[r]=g,r++,b.jqx.utilities.html(o,s.day),this._applyCellStyle(g,o,o),s=new b.jqx._jqxDateTimeInput.getDateTime(new Date(s._addDays(1)))}t=b.data(this.element,e[0].id);null!=t&&(t.cells=l),this.renderedCells=l,this._refreshOtherMonthRows(t,i)}},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear(),a=(i<12&&(i=12),this.getMinDate()),s=this.getMaxDate(),l=this.value.dateTime.getFullYear();if("decade"==this.view){(l=l+12>s.getFullYear()?s.getFullYear()-11:l)<a.getFullYear()&&(l=a.getFullYear());for(var r=0;r<i;r++){var n=new Date(a.getFullYear()+r,0,1);if(a.getFullYear()<=l&&l<=n.getFullYear()){for(var h=new Date(n.getFullYear(),n.getMonth(),1),d=0;d<12;d++){var o=new Date(h.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=o.getFullYear();a.getFullYear()<=c&&c<=s.getFullYear()?(e.push(c),t.push(o),0==d&&(this._renderStartDate=o),this._renderEndDate=o):(e.push(c),t.push(o))}break}}}else if("centuries"==this.view)for(r=0;r<i;r+=120){n=new Date(a.getFullYear()+r+120,0,1);if(a.getFullYear()<=l&&l<=n.getFullYear()){(h=new Date(n.getFullYear()-130,n.getMonth(),1))<a&&(h=a);for(d=0;d<12;d++){var u=new Date(h.getFullYear()+10*d,h.getMonth(),1);h.getFullYear()>=a.getFullYear()&&u.getFullYear()<=s.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==d&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(e,t,i){for(var a=new Array,s=e.find("#cellTable"+i.toString()),i=this._getDecadeAndCenturiesData(),l=i.years,r=i.dates,n=0,h=this.getMinDate(),d=this.getMaxDate(),o=0;o<3;o++)for(var c=0;c<4;c++){var u=c,g=(u=this.rtl?3-u:u,(w=new Date(this.value.dateTime)).setDate(1),w.setMonth(4*o+u),new b.jqx._jqxCalendar.cell(w)),m=s[0].rows["row"+(1+o)+this.element.id],m=b(m.cells[c]),f=(g.isSelected=!1,g.isVisible=!0,g.element=m,g.row=o,g.column=c,g.index=a.length,"");if("year"==this.view){var D=this.localization.calendar.months.names[4*o+u];switch(this.monthNameFormat){case"default":D=this.localization.calendar.months.namesAbbr[4*o+u];break;case"shortest":D=this.localization.calendar.months.namesShort[4*o+u];break;case"firstTwoLetters":D=D.substring(0,2);break;case"firstLetter":D=D.substring(0,1)}f=D}else"decade"!=this.view&&"centuries"!=this.view||(null==(f=l[4*o+u])&&(f="<span style='cursor: default; visibility: hidden;'>2013</span>"),g.setDate(r[4*o+u]));var w=g.getDate();"year"==this.view?w.getMonth()==this.getDate().getMonth()&&w.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0):w.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(w)<this._getYearAndMonthPart(h)&&(g.isDisabled=!0),this._getYearAndMonthPart(w)>this._getYearAndMonthPart(d)&&(g.isDisabled=!0)):(w.getFullYear()<h.getFullYear()&&(g.isDisabled=!0),w.getFullYear()>d.getFullYear()&&(g.isDisabled=!0)),b.jqx.utilities.html(m,f),a[n]=g,n++}i=b.data(this.element,e[0].id);null!=i&&(i.cells=a),this.renderedCells=a,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t.width(this.month.width()),t},_addCellsTable:function(e,t){var i=this,a=this.showFooter?20:0,a=("month"!=this.view?-1===this.views.indexOf("month")?t.height(this.host.height()-this.titleHeight):t.height(this.month.height()-this.titleHeight):t.height(this.month.height()-this.titleHeight-this.columnHeaderHeight-a),this._viewAnimating=!0,this.host.find(".jqx-calendar-month-container")),s=(a.css("position","relative"),this.host.find(".jqx-calendar-month"),this._createViewClone());a.append(s),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(s,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){if(this._viewAnimating=!0,this.oldView==this.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{this.renderedCells&&0<this.renderedCells.length&&(this.selectedDate||"range"==this.selectionMode||this.setDate(new Date,"mouse"),this.element.focus())}catch(e){}},renderViews:function(e,t,i){var a=this,s=new Array,l=b("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+i.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),i=(this.host.find(".jqx-calendar-month-container").css("position","relative"),e.find("#cellsTable"+e[0].id)),r=(i[0].style.borderColor="transparent",this._getDecadeAndCenturiesData()),n=r.years,h=r.dates,d=0,o=this.getMinDate(),c=this.getMaxDate(),u=new Date(this.value.dateTime);u.setDate(1);for(var g=0;g<3;g++)for(var m=0;m<4;m++){var f=m,D=(f=this.rtl?3-f:f,l[0].rows["row"+(1+g)+this.element.id]),w=((_=new Date(u)).setMonth(4*g+f),new b.jqx._jqxCalendar.cell(_)),D=b(D.cells[m]),v=(w.isVisible=!0,w.element=D,w.row=g,w.column=m,w.index=s.length,w.isSelected=!1,"");if("year"==this.view){_.getMonth()==this.getDate().getMonth()&&_.getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0);var y=this.localization.calendar.months.names[4*g+f];switch(this.monthNameFormat){case"default":y=this.localization.calendar.months.namesAbbr[4*g+f];break;case"shortest":y=this.localization.calendar.months.namesShort[4*g+f];break;case"firstTwoLetters":y=y.substring(0,2);break;case"firstLetter":y=y.substring(0,1)}v=y}else"decade"!=this.view&&"centuries"!=this.view||(v=n[4*g+f],w.setDate(h[4*g+f]),w.getDate().getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0),null==v&&(v="<span style='cursor: default; visibility: hidden;'>2013</span>"));var p,_=w.getDate();"year"==this.view?((p=new Date(_)).setDate(1),p.setHours(0,0,0,0),p.setMonth(_.getMonth()+1),p=new Date(p.valueOf()-1),(this._getYearAndMonthPart(_)<this._getYearAndMonthPart(o)||this._getYearAndMonthPart(_)>this._getYearAndMonthPart(c)||!this._hasUnrestrictedRanges(_,p))&&(w.isDisabled=!0)):((p=new Date(_)).setMonth(0),p.setDate(1),p.setHours(0,0,0,0),p.setFullYear(_.getFullYear()+1),p=new Date(p.valueOf()-1),(_.getFullYear()<o.getFullYear()||_.getFullYear()>c.getFullYear()||!this._hasUnrestrictedRanges(_,p))&&(w.isDisabled=!0)),b.jqx.utilities.html(D,v),s[d]=w,d++}b.each(s,function(){var e=this.element,i=this;a.disabled||(a.addHandler(e,"mousedown",function(e){a._setDateAndSwitchViews(i,e,"mouse")}),a.addHandler(e,"mouseover",function(e){var t=a.renderedCells[i.index];"centuries"!=a.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!0,a._applyCellStyle(t,t.element,t.element))}),a.addHandler(e,"mouseout",function(e){var t=a.renderedCells[i.index];"centuries"!=a.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!1,a._applyCellStyle(t,t.element,t.element))}))});r=b.data(this.element,e[0].id);null!=r&&(r.cells=s),this.renderedCells=s,this._addCellsTable(i,l),this._applyCellStyles()},_setDateAndSwitchViews:function(e,t,i){if(!this._viewAnimating&&!this._animating){this.getDate();var l=this.renderedCells[e.index].getDate(),e=this.value.dateTime.getDate(),a=new Date(l),e=(-1!=this.views.indexOf("month")?a.setDate(e):(a.setDate(1),l.setDate(1)),a.getMonth()==l.getMonth()&&(l=a),this.getMinDate()),a=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(l)<this._getYearAndMonthPart(e))return;if(this._getYearAndMonthPart(l)>this._getYearAndMonthPart(a))return}else{if(l.getFullYear()<e.getFullYear())return;if(l.getFullYear()>a.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(l,i),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(l)<this._getYearAndMonthPart(e)&&(l=e),this._getYearAndMonthPart(l)>this._getYearAndMonthPart(a)&&(l=a)):(l=l.getFullYear()<e.getFullYear()?e:l).getFullYear()>a.getFullYear()&&(l=a),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=l.getFullYear()||this.selectedDate.getMonth()!=l.getMonth()||this.selectedDate.getDate()!=l.getDate())&&(l=this.selectedDate),this.value._setYear(l.getFullYear()),this.value._setDay(l.getDate()),this.value._setMonth(l.getMonth()+1),this.value._setDay(l.getDate());var r,e=this.getVisibleDate(),a=this.getFirstDayOfWeek(e),e="View"+this.element.id;this.renderCalendarCells(this.month,a,e,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,e),3==this.views.length&&"month"==this.view&&("range"!=this.selectionMode?this._selectDate(this.selectedDate,"view"):(b.each((r=this).renderedCells,function(e){var t=this,i=t.getDate(),a=b(t.element);if(0==a.length)return!1;function s(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}t.isOtherMonth||s(i).toString()!=s(l).toString()||(r.value._setMonth(l.getMonth()+1),r.value._setDay(l.getDate()),r.value._setYear(l.getFullYear())),t.isSelected=!1,t.isDisabled=!1,s(i)<s(r.selection.from)&&1==r._clicks&&(t.isDisabled=!0),r.getMaxDate()<i&&(t.isDisabled=!0),r.getMinDate()>i&&(t.isDisabled=!0),r._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled||s(i)>=s(r.selection.from)&&s(i)<=s(r.selection.to)&&(t.isSelected=!0)}),this._applyCellStyles())),"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=i&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(e,t,i,a){if("year"==this.view||"decade"==this.view||"centuries"==this.view)this.renderViews(e,t,i);else{for(var s=b("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+i.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),l=this.table,r=(l[0].style.borderColor="transparent",null==a&&(null!=(c=l.find("#cellTable"+i.toString()))&&c.remove(),l.append(s)),t),n=this.showDayNames?1:0,h=this.showWeekNumbers?1:0,d=new Array,o=0,c=(e.width()-this.rowHeaderWidth-2)/7,u=(this.showWeekNumbers||(c=(e.width()-2)/7),c=parseInt(c),new b.jqx._jqxDateTimeInput.getDateTime(new Date)),g=0;g<6;g++){for(var m=0;m<7;m++){var f,D=m,D=(D=this.rtl?6-D:D)+1,w="#cell"+(g+1)+D+this.element.id,v=new Date(r.dateTime.getFullYear(),r.dateTime.getMonth(),r.dateTime.getDate()),y=new b.jqx._jqxCalendar.cell(v),D=b(s[0].rows[g].cells[D-1]),p=(D[0].id=w.substring(1),y.isVisible=!0,y.isDisabled=!1,r.month!=this.value.month&&(y.isOtherMonth=!0,y.isVisible=this.showOtherMonthDays),this._isRestrictedDate(v)&&(y.isRestricted=!0,y.isDisabled=!0),y.isDisabled||(v<this.getMinDate()||v>this.getMaxDate()||this._isDisabled(v))&&(y.isDisabled=!0),r.month==u.month&&r.day==u.day&&r.year==u.year&&(y.isToday=!0),r.isWeekend()&&(y.isWeekend=!0),y.element=D,y.row=n,y.column=h,b.jqx.utilities.html(D,r.day),r=new b.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1))),b.data(this.element,"cellContent"+w.substring(1),y),b.data(this.element,""+w.substring(1),y),this);p.isMaterialized()&&(b(D).addClass("ripple"),b.jqx.ripple(b(D))),this.addHandler(D,"mousedown",function(e){var t,i;if(!p.readOnly&&!p.disabled)return t=b(e.target),t=b.data(p.element,t[0].id),p._raiseEvent(3,e),null!=t&&(i=t.getDate(),p.getMinDate()<=i&&i<=p.getMaxDate()&&(t.isDisabled||(t.isOtherMonth&&p.enableAutoNavigation?(t.row<2?p.navigateBackward():p.navigateForward(),p._selectDate(t.getDate(),"mouse",e.shiftKey)):(new Date(p.getDate()),p._selectDate(t.getDate(),"mouse",e.shiftKey),p.value._setYear(i.getFullYear()),p.value._setDay(1),p.value._setMonth(i.getMonth()+1),p.value._setDay(i.getDate()),(e=p.host.find(".jqx-calendar-month")).stop(),e.css("margin-left","0px"),p.getDate(),p._raiseEvent("2"),t.isOtherMonth&&p._raiseEvent("5",{selectionType:"mouse"}))))),!1}),p.disabled||(f=function(e,t){var i,a;p.readOnly||(e=b(e.target),null!=(i=b.data(p.element,e[0].id))&&(a=i.getDate(),p.getMinDate()<=a&&a<=p.getMaxDate()&&(i.isHighlighted=t,p._applyCellStyle(i,i.element,e))))},this.addHandler(D,"mouseenter",function(e){return f(e,!0),!1}),this.addHandler(D,"mouseleave",function(e){return f(e,!1),!1})),h++,d[o]=y,o++}h=0,n++}t=b.data(this.element,e[0].id);null!=t&&(t.cells=d),this.renderedCells=d,null!=a&&this._addCellsTable(l,s),this._applyCellStyles(),this._refreshOtherMonthRows(t,i)}},setMaxDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=b.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},navigateTo:function(e,t){if("month"==this.view){var i=this.getMinDate(),a=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(e<this._getYearAndMonthPart(i)||e>this._getYearAndMonthPart(a))return!1}else if(e&&(e.getFullYear()<this.getMinDate().getFullYear()||e.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==e)return!1;if(null==t){var s=this;if(this._animating)return;this._animating=!0;var i=this.host.find(".jqx-calendar-month-container"),l=b("<div></div>");l[0].style.width="100%",l[0].style.height="100%",l[0].style.overflow="hidden",l[0].style.position="relative",l[0].style.left="0px",l[0].style.top="-100%",i.append(l),this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());(h=this.host.find(".jqx-calendar-month")).stop(),h.css("margin-left","0px");var r=h.clone(),a=(this._viewClone=r,new Date(this.value.dateTime)),t=(this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),parseInt(this.month.css("padding-top"))),i=(s.refreshControl(),l.css("overflow","hidden"),i.css("position","relative"),i.css("overflow","hidden"),r.css("position","absolute"),r.css("top",h.position().top-t),l.append(r),b.jqx.browser.msie&&b.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden")),-this.month.width()),n=(e<a&&("month"==this.view&&e.getMonth()!=a.getMonth()||e.getFullYear()!=a.getFullYear())&&(i=this.month.width()),r.animate({marginLeft:parseInt(i)+"px"},this.navigationDelay,function(){r.remove()}),h.clone());(this._newViewClone=n).css("position","absolute"),n.css("top",h.position().top-t),l.append(n),n.css("margin-left",-i),h.css("visibility","hidden"),n.animate({marginLeft:"0px"},this.navigationDelay,function(){n.remove(),h.css("visibility","inherit"),l.remove(),s._animating=!1})}else{var h;this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),(h=this.host.find(".jqx-calendar-month")).stop(),h.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return null==this.selectedDate?new Date:this.selectedDate},getValue:function(){return null==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(d,o,c){if("none"!=this.selectionMode){null==o&&(o="none"),null==c&&(c=!1);var e=b.data(this.element,"View"+this.element.id);if(null!=e){this.changing&&d&&this.selectedDate&&(t=this.selectedDate.getFullYear()==d.getFullYear()&&this.selectedDate.getDate()==d.getDate()&&this.selectedDate.getMonth()==d.getMonth()?t:this.changing(this.selectedDate,d))&&(d=t);var t,u=this,e=(this.input&&(null!=d?this.input.val(d.toString()):this.input.val("")),this.selectedDate);if(this.selectedDate=d,"month"!=this.view)return e!=d&&this._raiseEvent(7,{selectionType:o}),b.each(this.renderedCells,function(e){var t=this,i=t.getDate(),a=b(t.element);a.find("#cellContent"+a[0].id);if(null==d)t.isSelected=!1,t.isDisabled=!1;else if(t.isSelected=!1,i&&(i.getMonth()==d.getMonth()&&"year"==u.view&&i.getFullYear()==d.getFullYear()||"decade"==u.view&&i.getFullYear()==d.getFullYear())){t.isSelected=!0;try{"none"!=o&&t.element.focus()}catch(e){}}u._applyCellStyle(t,a,a)}),void(this.change&&this.change(d));"month"==this.view&&"range"==this.selectionMode&&"key"==o&&(t=this.getVisibleDate(),t=this.getFirstDayOfWeek(t),this.refreshCalendarCells(this.month,t,"View"+this.element.id));var g=!1;b.each(this.renderedCells,function(e){var t=this,i=t.getDate(),a=b(t.element),s=a;if(0==a.length)return!1;if(null==d)t.isSelected=!1,t.isDisabled=!1,0==e&&(u.selection={from:null,to:null},u._raiseEvent("2"),u._raiseEvent("5",{selectionType:o}));else if("range"!=u.selectionMode||"key"==o){if(i.getDate()==d.getDate()&&i.getMonth()==d.getMonth()&&i.getFullYear()==d.getFullYear()&&t.isSelected)return u._applyCellStyle(t,a,s),void u._raiseEvent("5",{selectionType:o});if(t.isSelected&&u._raiseEvent("6",{selectionType:o}),t.isSelected=!1,i.getDate()==d.getDate()&&i.getMonth()==d.getMonth()&&i.getFullYear()==d.getFullYear()){t.isSelected=!0,0==e&&(u.selection={date:d});try{"none"!=o&&(t.element.focus(),u.host.focus())}catch(e){}t.isOtherMonth||(u.value._setMonth(d.getMonth()+1),u.value._setDay(d.getDate()),u.value._setYear(d.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:o}))}"range"==u.selectionMode&&(u._clicks=0,u.selection={from:d,to:d})}else if("range"==u.selectionMode){if("view"==o)return t.isSelected=!1,t.isDisabled=!1,u.getMaxDate()<i&&(t.isDisabled=!0),u.getMinDate()>i&&(t.isDisabled=!0),u._isRestrictedDate(i)&&(t.isDisabled=!0,t.isRestricted=!0),!t.isDisabled&&u._isDisabled(i)&&(t.isDisabled=!0),u._applyCellStyle(t,a,s),!0;function l(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}var r,n,h;0==e&&("none"!=o?(null==u._clicks&&(u._clicks=0),u._clicks++,c&&u._clicks++,1==u._clicks?u.selection={from:d,to:d}:(r=(e=u.selection.from)<=d?d:e,(e=e<=d?e:d)&&(n=new Date(e.getFullYear(),e.getMonth(),e.getDate())),r&&(h=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59)),u.selection={from:n,to:h},u._clicks=0)):null!=u.selection&&null!=u.selection.from||(u.selection={from:d,to:d},null==u._clicks&&(u._clicks=0),u._clicks++,2==u._clicks&&(u._clicks=0)));t.isOtherMonth||l(i).toString()!=l(d).toString()||(u.value._setMonth(d.getMonth()+1),u.value._setDay(d.getDate()),u.value._setYear(d.getFullYear()),u._raiseEvent("2"),u._raiseEvent("5",{selectionType:o})),t.isSelected=!1,t.isDisabled=g,l(i)<l(u.selection.from)&&1==u._clicks&&(t.isDisabled=!0),u.getMaxDate()<i&&(t.isDisabled=!0),u.getMinDate()>i&&(t.isDisabled=!0),u._isRestrictedDate(i)&&(t.isRestricted=!0,t.isDisabled=!0),!t.isDisabled&&u._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled?!u.allowRestrictedDaysInRange&&l(i)>=l(u.selection.from)&&u.selection.to==u.selection.from&&(g=!0):l(i)>=l(u.selection.from)&&l(i)<=l(u.selection.to)&&(t.isSelected=!0)}u._applyCellStyle(t,a,s)}),"range"==u.selectionMode&&0==u._clicks?u._raiseEvent(7,{selectionType:o}):"range"!=u.selectionMode&&e!=d&&(u._raiseEvent(7,{selectionType:o}),this.change&&this.change(d))}}},_getSelectedDate:function(){var e=b.data(this.element,"View"+this.element.id);if(null!=e){if("month"!=this.view)return this.selectedDate;for(var t=0;t<e.cells.length;t++){var i=e.cells[t],a=i.getDate();if(i.isSelected)return a}return this.selectedDate||void 0}},_getSelectedCell:function(){var e=b.data(this.element,"View"+this.element.id);if(null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t];i.getDate();if(i.isSelected)return i}},_applyCellStyle:function(i,e,a){var t,s,l=this,e=((null==a||null!=a&&0==a.length)&&(a=e),""),e=this.toThemeProperty("jqx-rc-all");e+=" "+this.toThemeProperty("jqx-item"),(this.disabled||i.isDisabled&&!i.isRestricted)&&(e=(e+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"))+" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&i.isRestricted&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),i.isOtherMonth&&this.enableOtherMonthDays&&i.isVisible&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),i.isWeekend&&this.enableWeekend&&i.isVisible&&i.isVisible&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),this.isMaterialized()&&(e+=" ripple"),i.isVisible?(e+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&0<a.length&&-1!=a.html().toLowerCase().indexOf("span")&&a.css("cursor","default")):e+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),a.removeAttr("aria-selected"),i.isSelected&&i.isVisible&&(e=(e+=" "+this.toThemeProperty("jqx-calendar-cell-selected"))+" "+this.toThemeProperty("jqx-fill-state-pressed"),a.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",a[0].id),t=i.getDate(),this._isDisabled(t)&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))),i.isHighlighted&&i.isVisible&&this.enableHover&&(i.isDisabled||(e=(e+=" "+this.toThemeProperty("jqx-calendar-cell-hover"))+" "+this.toThemeProperty("jqx-fill-state-hover"))),e+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),i.isToday&&i.isVisible&&(e+=" "+this.toThemeProperty("jqx-calendar-cell-today")),a[0].className=e,0<this.specialDates.length&&b.each((s=this).specialDates,function(){null!=this.Class&&null!=this.Class&&""!=this.Class?a.removeClass(this.Class):a.removeClass(l.toThemeProperty("jqx-calendar-cell-specialDate"));var t,e=i.getDate();if(e.getFullYear()==this.Date.getFullYear()&&e.getMonth()==this.Date.getMonth()&&e.getDate()==this.Date.getDate())return null==i.tooltip&&null!=this.Tooltip&&(i.tooltip=this.Tooltip,b(a).jqxTooltip&&(t=this.Class,b(a).jqxTooltip({value:{cell:i,specialDate:this.Date},name:s.element.id,content:this.Tooltip,position:"mouse",theme:s.theme,opening:function(e){return!!a.hasClass(l.toThemeProperty("jqx-calendar-cell-specialDate"))||!!a.hasClass(t)}}))),a.removeClass(l.toThemeProperty("jqx-calendar-cell-othermonth")),a.removeClass(l.toThemeProperty("jqx-calendar-cell-weekend")),null==this.Class||""==this.Class?a.addClass(l.toThemeProperty("jqx-calendar-cell-specialDate")):a.addClass(this.Class),!1})},_applyCellStyles:function(){var e=b.data(this.element,"View"+this.element.id);if(null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t],a=b(i.element),s=a.find("#cellContent"+a[0].id);0==s.length&&(s=a),this._applyCellStyle(i,a,s)}},getWeekOfYear:function(e){var t,e=new Date(e.dateTime),i=this.firstDayOfWeek,a=new Date(e.getFullYear(),0,1),s=0<=(s=a.getDay()-i)?s:s+7,a=Math.floor((e.getTime()-a.getTime()-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)+1;return s<4?52<(t=Math.floor((a+s-1)/7)+1)&&(t=(e=0<=(e=new Date(e.getFullYear()+1,0,1).getDay()-i)?e:e+7)<4?1:53):t=Math.floor((a+s-1)/7),t},renderColumnHeader:function(e){if(this.showDayNames){var t=b("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),i=(t.find("table").addClass(this.toThemeProperty("jqx-reset")),t.find("tr").addClass(this.toThemeProperty("jqx-reset")),t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(t),this.getVisibleDate()),i=this.getFirstDayOfWeek(i),a=(i.dayOfWeek,this.getWeekOfYear(i),this.firstDayOfWeek),s=this.localization.calendar.days.names,l=new Array,r=i,n=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(n=(e.width()-2)/7);for(var h=0;h<7;h++){var d=s[a];switch(this.rtl&&(d=s[6-a]),this.dayNameFormat){case"default":d=this.localization.calendar.days.namesAbbr[a],this.rtl&&(d=this.localization.calendar.days.namesAbbr[6-a]);break;case"shortest":d=this.localization.calendar.days.namesShort[a],this.rtl&&(d=this.localization.calendar.days.namesShort[6-a]);break;case"firstTwoLetters":d=d.substring(0,2);break;case"firstLetter":d=d.substring(0,1)}var o=new b.jqx._jqxCalendar.cell(r.dateTime),c=h+1+this.element.id,u=b(t[0].rows[0].cells[h]),g=h,m=(this.enableTooltips&&b(u).jqxTooltip&&b(u).jqxTooltip({name:this.element.id,content:s[a],theme:this.theme,position:"mouse"}),6<=a?a=0:a++,h=g,o.element=u,o.row=0,o.column=h+1,this._textwidth(d));if(u.append("<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+c+"'>"+d+"</div>"),u.find("#columnCell"+c).addClass(this.toThemeProperty("jqx-calendar-column-cell")),u.width(n),this.disabled&&u.find("#columnCell"+c).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),0<m&&0<n)for(;m>u.width()&&0!=d.length;)d=d.substring(0,d.length-1),b.jqx.utilities.html(u.find("#columnCell"+c),d),m=this._textwidth(d);l[h]=o,r=new b.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.month.width())&&this.columnHeader.width(this.month.width()),b.data(this.element,e[0].id).columnCells=l}},_format:function(t,i,e){var a=!1;try{null!=window.Globalize?a=!0:document.Globalize&&(window.Globalize=document.Globalize,a=!0)}catch(e){document.Globalize&&(window.Globalize=document.Globalize,a=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,a=!0),b.global)return b.global.culture.calendar=this.localization.calendar,b.global.format(t,i,this.culture);if(a)try{return window.Globalize.cultures[this.culture]&&(window.Globalize.cultures[this.culture].calendar=this.localization.calendar),window.Globalize.format(t,i,this.culture)}catch(e){return window.Globalize.format(t,i)}else if(b.jqx.dataFormat)return b.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(e){var e=b("<span>"+e+"</span>"),t=(e.addClass(this.toThemeProperty("jqx-calendar-column-cell")),b(this.host).append(e),e.width());return e.remove(),t},_textheight:function(e){var e=b("<span>"+e+"</span>"),t=(b(this.host).append(e),e.height());return e.remove(),t},_renderRowHeader:function(e){for(var t=this.getVisibleDate(),t=this.getFirstDayOfWeek(t),i=(t.dayOfWeek,this.getWeekOfYear(t)),a=new b.jqx._jqxDateTimeInput.getDateTime(new Date(t.dateTime)),s=(a._addDays(5),a.dayOfWeek=a.dateTime.getDay(),this.getWeekOfYear(a),53==i&&0==a.dateTime.getMonth()&&(i=1),b("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>")),l=(s.find("table").addClass(this.toThemeProperty("jqx-reset")),s.find("td").addClass(this.toThemeProperty("jqx-reset")),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-calendar-row-header")),s.width(this.rowHeaderWidth),this.rowHeader.append(s),t),r=new Array,n=0;n<6;n++){var h=i.toString(),d=new b.jqx._jqxCalendar.cell(l.dateTime),o=n+1+this.element.id,c=b(s[0].rows[n].cells[0]),h=(d.element=c,d.row=n,d.column=0,"<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+o+"'>"+h+"</div>");c.append(h),c.find("#headerCellContent"+o).addClass(this.toThemeProperty("jqx-calendar-row-cell")),r[n]=d,l=new b.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),i=this.getWeekOfYear(l)}b.data(this.element,e[0].id).rowCells=r},getFirstDayOfWeek:function(e){(this.firstDayOfWeek<0||6<this.firstDayOfWeek)&&(this.firstDayOfWeek=6);var t=e.dayOfWeek-this.firstDayOfWeek;return t<=0&&(t+=7),b.jqx._jqxDateTimeInput.getDateTime(e._addDays(-t))},getVisibleDate:function(){var e=new b.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime)),t=((e=e<this.minDate?this.minDate:e)>this.maxDate&&(this.visibleDate=this.maxDate),e.dateTime.setHours(0),e.day);return e=b.jqx._jqxDateTimeInput.getDateTime(e._addDays(1-t))},destroy:function(e){b.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(e,t){var i,a=this.events[e],t=(t=null==t?{owner:null}:t)||{},a=(t.owner=this,new b.Event(a)),s=(a.owner=this,a.args=t,0!=e&&1!=e&&2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e||(a.args.date=a.args.selectedDate=this.getDate(),a.args.range=this.getRange(),i=this.getViewStart(),s=this.getViewEnd(),a.args.view={from:i,to:s}),7==e&&(i=t.selectionType||null,t.type=i="none"==(i="key"==i?"keyboard":i)?null:i),this.host.trigger(a));return s=0!=e&&1!=e?s:!1},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e,t,i=this.host.find("#View"+this.element.id);0<i.length&&(this.setCalendarSize(),i[0].style.height="100%",i[0].style.width="100%",e=this.month.height()-this.titleHeight-this.columnHeaderHeight,t="View"+this.element.id,i.find("#cellsTable"+t).height(e),i.find("#calendarRowHeader"+t).height(e),this.refreshControl())},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,a){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&"enableHover"!=t&&"keyboardNavigation"!=t){if("localization"==t&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==t)try{var s;b.global?(b.global.preferCulture(e.culture),e.localization.calendar=b.global.culture.calendar):window.Globalize&&(s=window.Globalize.culture(e.culture),e.localization.calendar=s.calendar),e.localization.calendar&&null!=e.localization.calendar.firstDay&&"default"!=e.culture&&(e.firstDayOfWeek=e.localization.calendar.firstDay)}catch(e){}if("views"==t)return-1==e.views.indexOf("month")&&(e.view="year"),-1==e.views.indexOf("year")&&-1==e.views.indexOf("month")&&(e.view="decade"),void e.render();"showFooter"==t&&e.render(),"width"==t||"height"==t?e._setSize():("theme"==t?b.jqx.utilities.setTheme(i,a,e.host):"rowHeaderWidth"==t||"showWeekNumbers"==t?e.render():(e.view="month",e.render(),e.refreshControl()),"firstDayOfWeek"===t&&e.refreshControl())}}})}(jqxBaseFramework),function(t){t.jqx._jqxCalendar.cell=function(e){return{dateTime:new t.jqx._jqxDateTimeInput.getDateTime(e),_date:e,getDate:function(){return this._date},setDate:function(e){this.dateTime=new t.jqx._jqxDateTimeInput.getDateTime(e),this._date=e},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},t.jqx._jqxCalendar.monthView=function(e,t,i,a,s,l){return{start:e,end:t,cells:i,rowCells:a,columnCells:s,element:l}}}(jqxBaseFramework);