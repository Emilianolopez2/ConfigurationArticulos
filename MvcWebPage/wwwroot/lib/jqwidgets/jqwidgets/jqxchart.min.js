!function(s){s.jqx.jqxWidget("jqxDraw","",{}),s.extend(s.jqx._jqxDraw.prototype,{defineInstance:function(){var e,t={renderEngine:""},i=(s.extend(!0,this,t),["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"]);for(e in i)this._addFn(s.jqx._jqxDraw.prototype,i[e]);return s.jqx._jqxDraw.prototype,t},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(e){return s.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;s.jqx.isHidden(i.host)||(i.renderer||(i.host.empty(),i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),e instanceof s.jqx.HTML5Renderer&&e.refresh()))},_saveAsImage:function(e,t,i,r){return s.jqx._widgetToImage(this,e,t,i,r)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(S){S.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;e=S.jqx.cssToRgb(e),e[0]=e[1]=e[2]=Math.round(.3*e[0]+.59*e[1]+.11*e[2]),e=S.jqx.rgbToHex(e[0],e[1],e[2]);return"#"+e[0]+e[1]+e[2]},S.jqx.adjustColor=function(e,t){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;for(var i=S.jqx.cssToRgb(e),r=S.jqx.rgbToHsl(i),e=(r[2]=Math.min(1,r[2]*t),r[1]=Math.min(1,r[1]*t*1.1),i=S.jqx.hslToRgb(r),"#"),s=0;s<3;s++){var a=Math.round(i[s]);1==(a=S.jqx.decToHex(a)).toString().length&&(e+="0"),e+=a}return e.toUpperCase()},S.jqx.decToHex=function(e){return e.toString(16)},S.jqx.hexToDec=function(e){return parseInt(e,16)},S.jqx.rgbToHex=function(e,t,i){return[S.jqx.decToHex(e),S.jqx.decToHex(t),S.jqx.decToHex(i)]},S.jqx.hexToRgb=function(e,t,i){return[S.jqx.hexToDec(e),S.jqx.hexToDec(t),S.jqx.hexToDec(i)]},S.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?S.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},S.jqx.hslToRgb=function(e){var t,i,r,s=parseFloat(e[0]),a=parseFloat(e[1]),e=parseFloat(e[2]);return 0==a?t=i=r=e:(t=S.jqx.hueToRgb(a=2*e-(e=e<.5?e*(1+a):e+a-e*a),e,s+1/3),i=S.jqx.hueToRgb(a,e,s),r=S.jqx.hueToRgb(a,e,s-1/3)),[255*t,255*i,255*r]},S.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},S.jqx.rgbToHsl=function(e){var t,i=parseFloat(e[0])/255,r=parseFloat(e[1])/255,s=parseFloat(e[2])/255,e=Math.max(i,r,s),a=Math.min(i,r,s),n=(e+a)/2;if(e==a)t=l=0;else{var o=e-a,l=.5<n?o/(2-e-a):o/(e+a);switch(e){case i:t=(r-s)/o+(r<s?6:0);break;case r:t=(s-i)/o+2;break;case s:t=(i-r)/o+4}t/=6}return[t,l,n]},S.jqx.swap=function(e,t){},S.jqx.getNum=function(e){if(S.isArray(e)){for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t]}else if(isNaN(e))return 0;return 0},S.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},S.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:S.jqx._rnd(e,1,!1,!0);var t=S.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(t-Math.round(t))?e<t?t-.5:t+.5:t},S.jqx._ptRotate=function(e,t,i,r,s){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),s=Math.asin((e-i)/a)+s;return{x:e=i+Math.cos(s)*a,y:t=r+Math.sin(s)*a}},S.jqx._rup=function(e){var t=Math.round(e);return t<e&&t++,t},S.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},S.jqx._mod=function(e,t){var i=Math.abs(t<e?t:e),r=1;if(0!=i)for(;i*r<100;)r*=10;return(e*=r)%(t*=r)/r},S.jqx._rnd=function(e,t,i,r){if(isNaN(e))return e;r=e-(1==(r=void 0===r?!0:r)?e%t:S.jqx._mod(e,t));return e==r?r:(i?r<e&&(r+=t):e<r&&(r-=t),1==t?Math.round(r):r)},S.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,a,n){r=r||1;var o=Math.abs(s-a),l=180<o?1:0,h=(360<=o&&(a=s+359.99),s*Math.PI*2/360),d=a*Math.PI*2/360,u=e,f=e,c=t,g=t,p=!isNaN(i)&&0<i,o=(0<(n=p?0:n)+i&&(0<n&&(o=(o/2+s)*Math.PI*2/360,e+=n*Math.cos(o),t-=n*Math.sin(o)),p&&(u=e+(n=i)*Math.cos(h),c=t-n*Math.sin(h),f=e+n*Math.cos(d),g=t-n*Math.sin(d))),e+r*Math.cos(h)),n=e+r*Math.cos(d),h=t-r*Math.sin(h),d=t-r*Math.sin(d),x="",a=.02<Math.abs(Math.abs(a-s)-360);return p?(x="M "+f+","+g,x=(x=(x+=" a"+i+","+i)+" 0 "+l+",1 "+(u-f)+","+(c-g)+(a?" L"+o+","+h:" M"+o+","+h))+" a"+r+","+r+" 0 "+l+",0 "+(n-o)+","+(d-h),a&&(x+=" Z")):(x=(x="M "+n+","+d)+" a"+r+","+r+" 0 "+l+",1 "+(o-n)+","+(h-d),a&&(x=x+" L"+e+","+t+" Z")),x},measureText:function(e,t,i,r,s){var a,n,s=s._getTextParts(e,t,i),e=s.width,i=s.height,o=(0==r&&(i/=.6),{});return o=0==(t=isNaN(t)?0:t)?{width:S.jqx._rup(e),height:S.jqx._rup(i)}:(t=t*Math.PI*2/360,a=Math.abs(Math.sin(t)),t=Math.abs(Math.cos(t)),n=Math.abs(e*a+i*t),e=Math.abs(e*t+i*a),{width:S.jqx._rup(e),height:S.jqx._rup(n)}),r&&(o.textPartsInfo=s),o},alignTextInRect:function(e,t,i,r,s,a,n,o,l,h){var l=l*Math.PI*2/360,d=Math.sin(l),l=Math.cos(l),u=s*d,s=s*l,n=("center"==n||""==n||"undefined"==n?e+=i/2:"right"==n&&(e+=i),"center"==o||"middle"==o||""==o||"undefined"==o?t+=r/2:"bottom"==o?t+=r-a/2:"top"==o&&(t+=a/2),"middle"),i=(-1!=(h=h||"").indexOf("top")?n="top":-1!=h.indexOf("bottom")&&(n="bottom"),"center");return-1!=h.indexOf("left")?i="left":-1!=h.indexOf("right")&&(i="right"),"center"==i?(e-=s/2,t-=u/2):"right"==i&&(e-=s,t-=u),"top"==n?(e-=a*d,t+=a*l):"middle"==n&&(e-=a*d/2,t+=a*l/2),{x:e=S.jqx._rup(e),y:t=S.jqx._rup(t)}}},S.jqx.svgRenderer=function(){},S.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),t=parseFloat(e.left)==parseInt(e.left),e=parseFloat(e.top)==parseInt(e.top);if(S.jqx.browser.msie){for(var t=!0,e=!0,i=this.host,r=0,s=0;i&&i.position&&i[0].parentNode;){var a=i.position();r+=parseFloat(a.left)-parseInt(a.left),s+=parseFloat(a.top)-parseInt(a.top),i=i.parent()}t=parseFloat(r)==parseInt(r),e=parseFloat(s)==parseInt(s)}t||(this.host.find(".tdLeft")[0].style.width="0.5px"),e||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(S.jqx._rup(this.host.width())-1,0),this._height=Math.max(S.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);(e.parentNode||this.canvas).removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var e=S.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";e=window.location.href;return e&&(e=e.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,"")},setClip:function(e,t){t="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":t})},_clipId:0,addHandler:function(e,t,i){S(e).on?S(e).on(t,i):S(e).bind(t,i)},removeHandler:function(e,t,i){S(e).off?S(e).off(t,i):S(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)void 0!==t[r]&&"NaN"===t[r].toString()?i.setAttribute(r,0):i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(e,t,i){var r={width:0,height:0,parts:[]};if(void 0===e)return r;var s=e.toString().split("<br>"),a=this._activeParent(),n=document.createElementNS(this._svgns,"text");this.attr(n,i);for(var o=0;o<s.length;o++){var l,h=s[o],d=n.ownerDocument.createTextNode(h);n.appendChild(d),a.appendChild(n);try{l=n.getBBox()}catch(e){}var u=S.jqx._rup(l.width),f=S.jqx._rup(.6*l.height);n.removeChild(d),r.width=Math.max(r.width,u),r.height+=f+(0<o?4:0),r.parts.push({width:u,height:f,text:h})}return a.removeChild(n),r},_measureText:function(e,t,i,r){return S.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var u,f=this._measureText(e,a,n,!0).textPartsInfo,c=f.parts,g=(l=l||"center",h=h||"center",(1<c.length||o)&&(u=this.beginGroup()),o&&(e=this.createClipRect({x:S.jqx._rup(t)-1,y:S.jqx._rup(i)-1,width:S.jqx._rup(r)+2,height:S.jqx._rup(s)+2}),this.setClip(u,e)),this._activeParent()),o=f.width,e=f.height,p=(r=isNaN(r)||r<=0?o:r)||0,x=(s=isNaN(s)||s<=0?e:s)||0;if(!a||0==a){i+=e,"center"==h||"middle"==h?i+=(x-e)/2:"bottom"==h&&(i+=x-e),r=r||o,s=s||e;for(var g=this._activeParent(),m=0,_=c.length-1;0<=_;_--){var y=document.createElementNS(this._svgns,"text"),v=(this.attr(y,n),this.attr(y,{cursor:"default"}),y.ownerDocument.createTextNode(c[_].text)),b=(y.appendChild(v),t),M=c[_].width,N=c[_].height;"center"==l?b+=(p-M)/2:"right"==l&&(b+=p-M),this.attr(y,{x:S.jqx._rup(b),y:S.jqx._rup(i+m),width:S.jqx._rup(M),height:S.jqx._rup(N)}),g.appendChild(y),m-=c[_].height+4}return u?(this.endGroup(),u):y}for(var x=S.jqx.commonRenderer.alignTextInRect(t,i,r,s,o,e,l,h,a,d),r=(t=x.x,i=x.y,this.shape("g",{transform:"translate("+t+","+i+")"})),w=this.shape("g",{transform:"rotate("+a+")"}),m=(r.appendChild(w),0),_=c.length-1;0<=_;_--){var A=document.createElementNS(this._svgns,"text"),v=(this.attr(A,n),this.attr(A,{cursor:"default"}),A.ownerDocument.createTextNode(c[_].text)),b=(A.appendChild(v),0),M=c[_].width,N=c[_].height;"center"==l?b+=(f.width-M)/2:"right"==l&&(b+=f.width-M),this.attr(A,{x:S.jqx._rup(b),y:S.jqx._rup(m),width:S.jqx._rup(M),height:S.jqx._rup(N)}),w.appendChild(A),m-=N+4}return g.appendChild(r),u&&this.endGroup(),r},line:function(e,t,i,r,s){e=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(e,s),e},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(e,t,i,r,s){e=S.jqx._ptrnd(e),t=S.jqx._ptrnd(t),i=Math.max(1,S.jqx._rnd(i,1,!1)),r=Math.max(1,S.jqx._rnd(r,1,!1));e=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(e,s),e},circle:function(e,t,i,r){e=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(e,r),e},pieSlicePath:function(e,t,i,r,s,a,n){return S.jqx.commonRenderer.pieSlicePath(e,t,i,r,s,a,n)},pieslice:function(e,t,i,r,s,a,n,o){e=this.pieSlicePath(e,t,i,r,s,a,n),t=this.shape("path");return t.setAttribute("d",e),o&&this.attr(t,o),t},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(e,t,i){var r="grd"+this._id+e.replace("#","")+(t?"v":"h"),s="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[s])return s;var a=document.createElementNS(this._svgns,"linearGradient");this.attr(a,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:r});for(var n=0;n<i.length;n++){var o=i[n],l=document.createElementNS(this._svgns,"stop"),h="stop-color:"+S.jqx.adjustColor(e,o[1]);this.attr(l,{offset:o[0]+"%",style:h}),a.appendChild(l)}return this._defs.appendChild(a),this._gradients[s]=!0,s},_toRadialGradient:function(e,t,i){var r="grd"+this._id+e.replace("#","")+"r"+(null!=i?i.key:""),s="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[s])return s;var a=document.createElementNS(this._svgns,"radialGradient");null==i?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(a,{cx:i.x,cy:i.y,r:i.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var n=0;n<t.length;n++){var o=t[n],l=document.createElementNS(this._svgns,"stop"),h="stop-color:"+S.jqx.adjustColor(e,o[1]);this.attr(l,{offset:o[0]+"%",style:h}),a.appendChild(l)}return this._defs.appendChild(a),this._gradients[s]=!0,s}},S.jqx.vmlRenderer=function(){},S.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>");var t=(this.host=e).find(".chartContainer"),i=(t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px",!0);try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){i=!1;break}}catch(e){return!1}return S.jqx.browser.msie&&parseInt(S.jqx.browser.version)<9&&document.childNodes&&0<document.childNodes.length&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=t[0],this._width=Math.max(S.jqx._rup(t.width()),0),this._height=Math.max(S.jqx._rup(t.height()),0),t[0].style.width=this._width+2,t[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(e,t,i){S(e).on?S(e).on(t,i):S(e).bind(t,i)},removeHandler:function(e,t,i){S(e).off?S(e).off(t,i):S(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(e,t,i){var r={width:0,height:0,parts:[]},s=e.toString().split("<br>"),e=this._activeParent(),a=document.createElement("v:textbox");this.attr(a,i),e.appendChild(a);for(var n=0;n<s.length;n++){var o=s[n],l=document.createElement("span"),h=(l.appendChild(document.createTextNode(o)),a.appendChild(l),i&&i.class&&(l.className=i.class),S(a)),d=S.jqx._rup(h.width()),u=S.jqx._rup(.6*h.height());0==u&&S.jqx.browser.msie&&parseInt(S.jqx.browser.version)<9&&((h=h.css("font-size"))&&(u=parseInt(h),isNaN(u)&&(u=0))),a.removeChild(l),r.width=Math.max(r.width,d),r.height+=u+(0<n?2:0),r.parts.push({width:d,height:u,text:o})}return e.removeChild(a),r},_measureText:function(e,t,i,r){return t=45<Math.abs(t)?90:0,S.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h){null==(u=n&&n.stroke?n.stroke:u)&&(u="black");for(var d,u=this._measureText(e,a,n,!0),f=u.textPartsInfo.parts,c=u.width,g=u.height,p=(!isNaN(r)&&0!=r||(r=c),!isNaN(s)&&0!=s||(s=g),l=l||"center",h=h||"center",(0<f.length||o)&&(d=this.beginGroup()),o&&(e=this.createClipRect({x:S.jqx._rup(t),y:S.jqx._rup(i),width:S.jqx._rup(r),height:S.jqx._rup(s)}),this.setClip(d,e)),this._activeParent()),u=r||0,o=s||0,x=0,m=0,_=("center"==l?x+=(u-c)/2:"right"==l&&(x+=u-c),"center"==h?m=(o-g)/2:"bottom"==h&&(m=o-g),0==(a=45<Math.abs(a)?90:0)?(i+=g+m,t+=x):(t+=c+x,i+=m),0),y=f.length-1;0<=y;y--){var v,b=f[y],M=(c-b.width)/2,N=(0==a&&"left"==l?M=0:0==a&&"right"==l?M=c-b.width:90==a&&(M=(g-b.width)/2),_-b.height),m=90==a?M:N,x=90==a?N:M,N=((v=document.createElement("v:textbox")).style.position="absolute",v.style.left=S.jqx._rup(t+x),v.style.top=S.jqx._rup(i+m),v.style.width=S.jqx._rup(b.width),v.style.height=S.jqx._rup(b.height),90==a&&(v.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",v.style.height=S.jqx._rup(b.height)+5),document.createElement("span"));N.appendChild(document.createTextNode(b.text)),n&&n.class&&(N.className=n.class),v.appendChild(N),p.appendChild(v),_-=b.height+(0<y?2:0)}return d?(this.endGroup(),p):v},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){e=this.path("M "+e+","+t+" L "+i+","+r+" X E");return this.attr(e,s),e},_createElementMarkup:function(e){e="<v:"+e+' style=""></v:'+e+">";return e=this._ie8mode?e.replace('style=""','style="behavior: url(#default#VML);"'):e},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(e,t,i,r,s){e=S.jqx._ptrnd(e),t=S.jqx._ptrnd(t),i=S.jqx._rup(i),r=S.jqx._rup(r);var a=this.shape("rect",s);return a.style.position="absolute",a.style.left=e,a.style.top=t,a.style.width=i,a.style.height=r,a.strokeweight=0,s&&this.attr(a,s),a},circle:function(e,t,i,r){var s=this.shape("oval");return e=S.jqx._ptrnd(e-i),t=S.jqx._ptrnd(t-i),i=S.jqx._rup(i),s.style.position="absolute",s.style.left=e,s.style.top=t,s.style.width=2*i,s.style.height=2*i,r&&this.attr(s,r),s},updateCircle:function(e,t,i,r){null==t&&(t=parseFloat(e.style.left)+parseFloat(e.style.width)/2),null==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),null==r&&(r=parseFloat(e.width)/2),t=S.jqx._ptrnd(t-r),i=S.jqx._ptrnd(i-r),r=S.jqx._rup(r),e.style.left=t,e.style.top=i,e.style.width=2*r,e.style.height=2*r},pieSlicePath:function(e,t,i,r,s,a,n){r=r||1;var o=Math.abs(s-a),l=(360<o&&(s=0,a=360),s*Math.PI*2/360),h=a*Math.PI*2/360,d=e,u=t,f=!isNaN(i)&&0<i,o=(0<(n=f?0:n)&&(o=(o/2+s)*Math.PI*2/360,e+=n*Math.cos(o),t-=n*Math.sin(o)),f&&(n=i,d=S.jqx._ptrnd(e+n*Math.cos(l)),u=S.jqx._ptrnd(t-n*Math.sin(l)),S.jqx._ptrnd(e+n*Math.cos(h)),S.jqx._ptrnd(t-n*Math.sin(h))),S.jqx._ptrnd(e+r*Math.cos(l)),S.jqx._ptrnd(e+r*Math.cos(h))),n=(S.jqx._ptrnd(t-r*Math.sin(l)),S.jqx._ptrnd(t-r*Math.sin(h))),l=(r=S.jqx._ptrnd(r),i=S.jqx._ptrnd(i),e=S.jqx._ptrnd(e),t=S.jqx._ptrnd(t),Math.round(65535*s)),h=Math.round(65536*(a-s)),c=(i<0&&(i=1),"");return f?(c=(c="M"+d+" "+u)+" AE "+e+" "+t+" "+i+" "+i+" "+l+" "+h+" L "+o+" "+n,l=Math.round(65535*(s-a)),c=c+(" AE "+e+" "+t+" "+r+" "+r+" "+(h=Math.round(65536*a)))+" "+l+" L "+d+" "+u):(c="M"+e+" "+t,c+=" AE "+e+" "+t+" "+r+" "+r+" "+l+" "+h),c+=" X E"},pieslice:function(e,t,i,r,s,a,n,o){e=this.pieSlicePath(e,t,i,r,s,a,n),t=this.path(e,o);return o&&this.attr(t,o),t},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);null!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){t=this._translateParam(t);return"opacity"==t||"fillopacity"==t?e.fill?e.fill.opacity:1:-1==t.indexOf("style.")?e[t]:e.style[t.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(e,t,i){if(this._ie8mode)return e;var r="grd"+e.replace("#","")+(t?"v":"h"),s="#"+r;if(this._gradients[s])return s;for(var a=document.createElement(this._createElementMarkup("fill")),n=(a.type="gradient",a.method="linear",a.angle=t?0:90,""),o=0;o<i.length;o++){var l=i[o];0<l&&(n+=", "),n+=l[0]+"% "+S.jqx.adjustColor(e,l[1])}a.colors=n;t=document.createElement(this._createElementMarkup("shapetype"));return t.appendChild(a),t.id=r,this.canvas.appendChild(t),s}},S.jqx.HTML5Renderer=function(){},S.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5},S.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i,r={type:e,id:this._maxId++};for(i in t)r[i]=t[i];return this._elements[r.id]=r},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';e=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(e,s),e},path:function(e,t){t=this.shape("path",t);return this.attr(t,{d:e}),t},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){e=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(e,r),e},pieSlicePath:function(e,t,i,r,s,a,n){return S.jqx.commonRenderer.pieSlicePath(e,t,i,r,s,a,n)},pieslice:function(e,t,i,r,s,a,n,o){n=this.path(this.pieSlicePath(e,t,i,r,s,a,n),o);return this.attr(n,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:a}),n},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(e){}return{}},_getTextParts:function(e,t,i){for(var r="Arial",s="10pt",a="",n=(i&&i.class&&((i=this._getCSSStyle(i.class)).fontSize&&(s=i.fontSize),i.fontFamily&&(r=i.fontFamily),i.fontWeight&&(a=i.fontWeight)),this.ctx.font=a+" "+s+" "+r,{width:0,height:0,parts:[]}),o=e.toString().split("<br>"),l=0;l<o.length;l++){var h=o[l],d=this.ctx.measureText(h).width,u=document.createElement("span.jqxchart"),f=(u.font=this.ctx.font,u.textContent=h,document.body.appendChild(u),.6*u.offsetHeight);document.body.removeChild(u),n.width=Math.max(n.width,S.jqx._rup(d)),n.height+=f+(0<l?4:0),n.parts.push({width:d,height:f,text:h})}return n},_measureText:function(e,t,i,r){return S.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){t=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:a,clip:o,halign:l,valign:h,rotateAround:d}),n&&this.attr(t,n),t.fontFamily="Arial",t.fontSize="10pt",t.fontWeight="",t.color="#000000",n&&n.class&&(i=this._getCSSStyle(n.class),t.fontFamily=i.fontFamily||t.fontFamily,t.fontSize=i.fontSize||t.fontSize,t.fontWeight=i.fontWeight||t.fontWeight,t.color=i.color||t.color),a=this._measureText(e,0,n,!0);return this.attr(t,{textPartsInfo:a.textPartsInfo,textWidth:a.width,textHeight:a.height}),(r<=0||isNaN(r))&&this.attr(t,{width:a.width}),(s<=0||isNaN(s))&&this.attr(t,{height:a.height}),t},_toLinearGradient:function(e,t,i){if(this._renderers._gradients[e])return e;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:S.jqx.adjustColor(e,i[s][1])});var a="gr"+this._gradientId++;return this.createGradient(a,t?"vertical":"horizontal",r),a},_toRadialGradient:function(e,t){if(this._renderers._gradients[e])return e;for(var i=[],r=0;r<t.length;r++)i.push({percent:t[r][0]/100,color:S.jqx.adjustColor(e,t[r][1])});var s="gr"+this._gradientId++;return this.createGradient(s,"radial",i),s},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){e=e.ctx;e.strokeStyle=t.stroke||"transparent",e.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?e.globalAlpha=t["fill-opacity"]:null!=t.opacity?e.globalAlpha=t.opacity:e.globalAlpha=1,e.setLineDash&&(t["stroke-dasharray"]?e.setLineDash(t["stroke-dasharray"].split(",")):e.setLineDash([]))},setFillStyle:function(e,t){var i=e.ctx;if(i.fillStyle="transparent",null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1==t.fill.indexOf("#")&&e._gradients[t.fill]){for(var r,s,a,n,o,l="horizontal"!=e._gradients[t.fill].orientation,h="radial"==e._gradients[t.fill].orientation,d=S.jqx.ptrnd(t.x),u=S.jqx.ptrnd(t.y),f=S.jqx.ptrnd(t.x+(l?0:t.width)),c=S.jqx.ptrnd(t.y+(l?t.height:0)),g=("circle"!=t.type&&"path"!=t.type&&"rect"!=t.type||!h||(s=S.jqx.ptrnd(t.x),a=S.jqx.ptrnd(t.y),n=t.innerRadius||0,o=t.outerRadius||t.r||0,"rect"==t.type&&(s+=t.width/2,a+=t.height/2),r=i.createRadialGradient(s,a,n,s,a,o)),h||((isNaN(d)||isNaN(f)||isNaN(u)||isNaN(c))&&(u=d=0,f=l?0:i.canvas.width,c=l?i.canvas.height:0),r=i.createLinearGradient(d,u,f,c)),e._gradients[t.fill].colorStops),p=0;p<g.length;p++)r.addColorStop(g[p].percent,g[p].color);i.fillStyle=r}else t.fill&&(i.fillStyle=t.fill)},rect:function(e,t){0!=t.width&&0!=t.height&&(e.fillRect(S.jqx.ptrnd(t.x),S.jqx.ptrnd(t.y),t.width,t.height),e.strokeRect(S.jqx.ptrnd(t.x),S.jqx.ptrnd(t.y),t.width,t.height))},circle:function(e,t){0!=t.r&&(e.beginPath(),e.arc(S.jqx.ptrnd(t.x),S.jqx.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if("0"<=e[i]&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&1<=i&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));if(!isNaN(r))return this._pos=i,r},_cmds:"mlcazq",_isRelativeCmd:function(e){return S.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var t=this._pos;t<e.length;t++){if(S.jqx.string.containsIgnoreCase(this._cmds,e[t]))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "==e[t])this._pos++;else if("0"<=e[t]&&e[t]<="9"){if(this._pos=t,""==this._lastCmd)break;return this._lastCmd}}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d,r=(this._pos=0,this._lastCmd="",void 0);for(this._currentPoint={x:0,y:0},e.beginPath();this._pos<i.length;){var s,a,n,o,l,h,d,u,f,c,g,p,x,m,_,y=this._parseCmd(i);if(null==y)break;if("M"==y||"m"==y){if(null==(s=this._parsePoint(i)))break;e.moveTo(s.x,s.y),this._currentPoint=s,null==r&&(r=s)}else if("L"==y||"l"==y){if(null==(s=this._parsePoint(i)))break;e.lineTo(s.x,s.y),this._currentPoint=s}else"A"==y||"a"==y?(a=this._parseNumber(i),n=this._parseNumber(i),o=this._parseNumber(i)*(Math.PI/180),x=this._parseNumber(i),l=this._parseNumber(i),p=this._parsePoint(i),this._isRelativeCmd(y)&&(p=this._toAbsolutePoint(p)),0!=a&&0!=n&&(h=this._currentPoint,f={x:Math.cos(o)*(h.x-p.x)/2+Math.sin(o)*(h.y-p.y)/2,y:-Math.sin(o)*(h.x-p.x)/2+Math.cos(o)*(h.y-p.y)/2},1<(g=Math.pow(f.x,2)/Math.pow(a,2)+Math.pow(f.y,2)/Math.pow(n,2))&&(a*=Math.sqrt(g),n*=Math.sqrt(g)),g=(x==l?-1:1)*Math.sqrt((Math.pow(a,2)*Math.pow(n,2)-Math.pow(a,2)*Math.pow(f.y,2)-Math.pow(n,2)*Math.pow(f.x,2))/(Math.pow(a,2)*Math.pow(f.y,2)+Math.pow(n,2)*Math.pow(f.x,2))),x=(g=isNaN(g)?0:g)*a*f.y/n,g=g*-n*f.x/a,h={x:(h.x+p.x)/2+Math.cos(o)*x-Math.sin(o)*g,y:(h.y+p.y)/2+Math.sin(o)*x+Math.cos(o)*g},d=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},c=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(d(e)*d(t))},u=(p=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(c(e,t))})([1,0],[(f.x-x)/a,(f.y-g)/n]),f=p(p=[(f.x-x)/a,(f.y-g)/n],x=[(-f.x-x)/a,(-f.y-g)/n]),c(p,x)<=-1&&(f=Math.PI),1<=c(p,x)&&(f=0),0==l&&0<f&&(f-=2*Math.PI),1==l&&f<0&&(f+=2*Math.PI),c=n<a?a:n,g=n<a?1:a/n,p=n<a?n/a:1,e.translate(h.x,h.y),e.rotate(o),e.scale(g,p),e.arc(0,0,c,u,u+f,1-l),e.scale(1/g,1/p),e.rotate(-o),e.translate(-h.x,-h.y))):"Z"!=y&&"z"!=y||null==r?"C"==y||"c"==y?(m=this._parsePoint(i),_=this._parsePoint(i),x=this._parsePoint(i),e.bezierCurveTo(m.x,m.y,_.x,_.y,x.x,x.y),this._currentPoint=x):"Q"!=y&&"q"!=y||(m=this._parsePoint(i),_=this._parsePoint(i),e.quadraticCurveTo(m.x,m.y,_.x,_.y),this._currentPoint=_):(e.lineTo(r.x,r.y),this._currentPoint=r)}e.fill(),e.stroke(),e.closePath()},text:function(e,t){var i=S.jqx.ptrnd(t.x),r=S.jqx.ptrnd(t.y),s=S.jqx.ptrnd(t.width),a=S.jqx.ptrnd(t.height),n=t.halign,o=t.valign,l=t.angle,h=t.rotateAround,d=t.textPartsInfo,u=d.parts,f=t.clip,f=(null==f&&(f=!0),e.save(),n=n||"center",o=o||"center",f&&(e.rect(i,r,s,a),e.clip()),t.textWidth),c=t.textHeight,g=s||0,p=a||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,l&&0!=l){for(var t=S.jqx.commonRenderer.alignTextInRect(i,r,s,a,f,c,n,o,l,h),i=t.x,r=t.y,h=l*Math.PI*2/360,x=(e.translate(i,r),e.rotate(h),0),m=d.width,_=u.length-1;0<=_;_--){v=0;"center"==n?v+=(m-u[_].width)/2:"right"==n&&(v+=m-u[_].width),e.fillText(u[_].text,v,x),x-=u[_].height+4}e.restore()}else{r+=c,"center"==o||"middle"==o?r+=(p-c)/2:"bottom"==o&&(r+=p-c);for(var s=s||f,a=a||c,x=0,_=u.length-1;0<=_;_--){var y=u[_],v=i,b=u[_].width;u[_].height;"center"==n?v+=(g-b)/2:"right"==n&&(v+=g-b),e.fillText(y.text,v,r+x),x-=y.height+(0<_?4:0)}e.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},S.jqx.createRenderer=function(e,t){var i=e.renderer=null;if(document.createElementNS&&"HTML5"!=e.renderEngine&&"VML"!=e.renderEngine&&!(i=new S.jqx.svgRenderer).init(t)){if("SVG"==e.renderEngine)throw"Your browser does not support SVG";return null}if(null==i&&"HTML5"!=e.renderEngine){if(!(i=new S.jqx.vmlRenderer).init(t)){if("VML"==e.renderEngine)throw"Your browser does not support VML";return null}e._isVML=!0}if(null!=i||"HTML5"!=e.renderEngine&&null!=e.renderEngine||(i=new S.jqx.HTML5Renderer).init(t))return e.renderer=i;throw"Your browser does not support HTML5 Canvas"},S.jqx._widgetToImage=function(e,t,i,r,s,a){var n=e;if(!n)return!1;null!=i&&""!=i||(i="image."+t);var o=n.renderEngine,l=n.enableAnimations;if(n.enableAnimations=!1,n.renderEngine="HTML5",n.renderEngine!=o)try{n.refresh()}catch(e){return n.renderEngine=o,n.refresh(),n.enableAnimations=l,!1}var h=n.renderer.getContainer().find("canvas")[0],d=!0,u=!0;return(d=S.isFunction(a)?a(e,h):d)&&(u=S.jqx.exportImage(h,t,i,r,s)),n.renderEngine!=o&&(n.renderEngine=o,n.refresh(),n.enableAnimations=l),u},S.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},S.jqx.exportImage=function(e,t,i,r,s){if(!e)return!1;var a="pdf"===t.toLowerCase();if(a&&(t="jpeg"),null!=i&&""!=i||(i="image."+t),null==r||""==r)throw"Please specifiy export server";var n=!0;try{if(e){var o,l,h,d=e.toDataURL("image/"+t);if(a){S.jqx.pdfExport||(S.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var u=595;switch(S.jqx.pdfExport.paperSize){case"legal":u=612;"portrait"!==S.jqx.pdfExport.orientation&&(u=1008);break;case"letter":u=612;"portrait"!==S.jqx.pdfExport.orientation&&(u=792);break;case"a3":u=841;"portrait"!==S.jqx.pdfExport.orientation&&(u=1190);break;case"a4":u=595;"portrait"!==S.jqx.pdfExport.orientation&&(u=842);break;case"a5":u=420;"portrait"!==S.jqx.pdfExport.orientation&&(u=595)}var f=72*S(e).width()/96;u-20<=f&&(f=u-20);try{var c=new window.pdfDataExport(S.jqx.pdfExport.orientation,"pt",S.jqx.pdfExport.paperSize)}catch(e){c=new window.jqxPdfDataExport(S.jqx.pdfExport.orientation,"pt",S.jqx.pdfExport.paperSize)}return c.addImage(d,"JPEG",10,10,f,0),void c.save(i)}d=d.replace("data:image/"+t+";base64,",""),s?S.ajax({dataType:"string",url:r,type:"POST",data:{content:d,fname:i},async:!1,success:function(e,t,i){n=!0},error:function(e,t,i){n=!1}}):((o=document.createElement("form")).method="POST",o.action=r,o.style.display="none",document.body.appendChild(o),(l=document.createElement("input")).name="fname",l.value=i,l.style.display="none",(h=document.createElement("input")).name="content",h.value=d,h.style.display="none",o.appendChild(l),o.appendChild(h),o.submit(),document.body.removeChild(o),n=!0)}}catch(e){n=!1}return n}}(jqxBaseFramework),function(p){window.jqxPlot=function(){},window.jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s<i)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||i<s)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(e,t,i,r){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!r||!0!==r.ignore_range))return NaN;var s,a,n,o,l,r=NaN,h=1;return void 0===t.type||"logarithmic"!=t.type?(s=Math.abs(t.max-t.min)||1,h=Math.abs(e-Math.min(t.min,t.max))/s):"logarithmic"===t.type&&(a=t.base,isNaN(a)&&(a=10),(s=Math.min(t.min,t.max))<=0&&(s=1),t=Math.max(t.min,t.max),n=p.jqx.log(t=t<=0?1:t,a),t=Math.pow(a,n),o=p.jqx.log(s,a),s=Math.pow(a,o),l=p.jqx.log(e,a),h=Math.abs(l-o)/(n-o)),"logarithmic"===i.type?(a=i.base,isNaN(a)&&(a=10),n=p.jqx.log(i.max,a),o=p.jqx.log(i.min,a),i.flip&&(h=1-h),l=Math.min(o,n)+h*Math.abs(n-o),r=Math.pow(a,l)):(r=Math.min(i.min,i.max)+h*Math.abs(i.max-i.min),i.flip&&(r=Math.max(i.min,i.max)-r+i.min)),r},axis:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var r=0;Math.round(e)!=e&&Math.round(t)!=t&&r<10;)e*=10,t*=10,r++;for(var s=(t-e)/i;r<10&&Math.round(s)!=s;)e*=10,t*=10,s*=10,r++;for(var a=[1,2,5],n=0;;){var o=n%a.length,l=Math.floor(n/a.length),h=Math.pow(10,l)*a[o],o=(n+1)%a.length,l=Math.floor((n+1)/a.length),d=Math.pow(10,l)*a[o];if(h<=s&&s<d)break;n++}for(var u=d,f=[],c=p.jqx._rnd(e,u,!1),g=r<=0?1:Math.pow(10,r);c<t+u;)f.push(c/g),c+=u;return f}}}(jqxBaseFramework),function(oe){oe.jqx.jqxWidget("jqxChart","",{}),oe.extend(oe.jqx._jqxChart.prototype,{defineInstance:function(){return oe.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:oe.jqx.mobile.getTouchEventName("touchstart"),click:oe.jqx.mobile.getTouchEventName("touchstart"),mouseup:oe.jqx.mobile.getTouchEventName("touchend"),mousemove:oe.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!oe.jqx.dataAdapter)throw"jqxdata.js is not loaded";var t,a=this,i=(a._refreshOnDownloadComlete(),a._isTouchDevice=oe.jqx.mobile.isTouchDevice(),a._jqxPlot||(a._jqxPlot=new jqxPlot),a.addHandler(a.host,a._getEvent("mousemove"),function(e){var t,i,r;0!=a.enabled&&(a._isRangeSelectorInstance||a.host.css("cursor","default"),i=e.pageX||e.clientX||e.screenX,r=e.pageY||e.clientY||e.screenY,t=a.host.offset(),a._isTouchDevice&&(i=(e=oe.jqx.position(e)).left,r=e.top),i-=t.left,r-=t.top,a.onmousemove(i,r))}),a.addHandler(a.host,a._getEvent("mouseleave"),function(e){var t,i,r;0!=a.enabled&&(t=a._mouseX,i=a._mouseY,(r=a._plotRect)&&t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height||(a._cancelTooltipTimer(),a._hideToolTip(0),a._unselect()))}),a.addHandler(a.host,"click",function(i){var e,t,r,s;0!=a.enabled&&(r=i.pageX||i.clientX||i.screenX,s=i.pageY||i.clientY||i.screenY,e=a.host.offset(),a._isTouchDevice&&(r=(t=oe.jqx.position(i)).left,s=t.top),r-=e.left,s-=e.top,a._mouseX=r,a._mouseY=s,!isNaN(a._lastClickTs)&&(new Date).valueOf()-a._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;a._isTouchDevice||(a._cancelTooltipTimer(),a._hideToolTip(),a._unselect()),a._pointMarker&&a._pointMarker.element&&(t=(e=a.seriesGroups[a._pointMarker.gidx]).series[a._pointMarker.sidx],i.stopImmediatePropagation(),a._raiseItemEvent("click",e,t,a._pointMarker.iidx))},100)))}),a.element.style);i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&oe.jqx.utilities.resize(this.host,function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){var e=a.enableAnimations;a.enableAnimations=!1,a.refresh(),a.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t=this,i=this.source;i instanceof oe.jqx.dataAdapter&&(null!=(e=i._options)&&(null==e||e.autoBind)||(i.autoSync=!1,i.dataBind()),e=this.element.id,0==i.records.length?(i.unbindDownloadComplete(e),i.bindDownloadComplete(e,function(){t.ready&&t.ready(),t.refresh()})):t.ready&&t.ready(),i.unbindBindingUpdate(e),i.bindBindingUpdate(e,function(){t._supressBindingRefresh||t.refresh()}))},propertyChangedHandler:function(e,t,i,r){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(oe.jqx.createRenderer)return oe.jqx.createRenderer(this,e);throw"Please include jqxdraw.js"},_internalRefresh:function(){var e,t,i=this;oe.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof oe.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,r){for(var s=!1,a=0;a<this.seriesGroups.length&&!s;a++){var n=this._getXAxis(a);n&&n.rangeSelector&&(s=!0)}return oe.jqx._widgetToImage(this,e,t,i,r,s?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,r=0;r<i.seriesGroups.length;r++){var s=i._getXAxis(r);if(s&&s.rangeSelector&&!s.rangeSelector.renderTo){var a=i._rangeSelectorInstances[r];if(a){var n=a.jqxChart("getInstance"),o=(n.renderEngine,n.renderer.getRect()),l=n.renderer.getContainer().find("canvas")[0].getContext("2d"),h=i._sliders[r],d="horizontal"==i.seriesGroups[r].orientation,u=d?"height":"width",f=d?"width":"height",c=d?"y":"x",g=d?"x":"y",p={},c=(p[c]=h.startOffset+h.rect[c],p[g]=h.rect[g],p[u]=h.endOffset-h.startOffset,p[f]=h.rect[f],s.rangeSelector.colorSelectedRange||"blue"),g=(s.rangeSelector.colorUnselectedRange,s.rangeSelector.colorRangeLine||"grey"),x=[],u=(x.push(n.renderer.rect(p.x,p.y,p.width,p.height,{fill:c,opacity:.1})),d?(x.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(p.y),{stroke:g,opacity:.5})),x.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(p.y+p.height),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:g,opacity:.5})),x.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x),oe.jqx._ptrnd(p.y),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(p.y),{stroke:g,opacity:.5})),x.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x),oe.jqx._ptrnd(p.y+p.height),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(p.y+p.height),{stroke:g,opacity:.5}))):(x.push(n.renderer.line(oe.jqx._ptrnd(h.rect.x),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(p.x),oe.jqx._ptrnd(h.rect.y),{stroke:g,opacity:.5})),x.push(n.renderer.line(oe.jqx._ptrnd(p.x+p.width),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(h.rect.x+h.rect.width),oe.jqx._ptrnd(h.rect.y),{stroke:g,opacity:.5})),x.push(n.renderer.line(oe.jqx._ptrnd(p.x),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(p.x),oe.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:g,opacity:.5})),x.push(n.renderer.line(oe.jqx._ptrnd(p.x+p.width),oe.jqx._ptrnd(h.rect.y),oe.jqx._ptrnd(p.x+p.width),oe.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:g,opacity:.5}))),n.renderer.refresh(),l.getImageData(o.x,o.y,o.width,o.height));t.getContext("2d").putImageData(u,parseInt(a.css("left")),parseInt(a.css("top")),1,1,o.width,o.height);for(var m=0;m<x.length;m++)n.renderer.removeElement(x[m]);n.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e,t=this;for(e in t._defaultSettings)t[e]=t._defaultSettings[e];t.title="",t.description="",t.refresh()},_validateSeriesGroups:function(){if(!oe.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!oe.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){for(var t=this,i=t.renderer,r=(t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0),t.backgroundImage),s=(null==r||""==r?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),t._rect=e,t.padding||{left:5,top:5,right:5,bottom:5}),a=i.createClipRect(e),n=i.beginGroup(),n=(i.setClip(n,a),i.rect(e.x,e.y,e.width-2,e.height-2)),r=(null==r||""==r?i.attr(n,{fill:t.backgroundColor||t.background||"white"}):i.attr(n,{fill:"transparent"}),0!=t.showBorderLine?(null==(a=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(a=t._defaultLineColor),r=this.borderLineWidth,(isNaN(r)||r<0||10<r)&&(r=1),i.attr(n,{"stroke-width":r,stroke:a})):oe.jqx.browser.msie&&oe.jqx.browser.version<9&&i.attr(n,{"stroke-width":1,stroke:t.backgroundColor||"white"}),oe.isFunction(t.drawBefore)&&t.drawBefore(i,e),{x:s.left,y:s.top,width:e.width-s.left-s.right,height:e.height-s.top-s.bottom}),a=(t._paddedRect=r,t.titlePadding||{left:2,top:2,right:2,bottom:2}),o=(t.title&&0<t.title.length&&(n=t.toThemeProperty("jqx-chart-title-text",null),j=i.measureText(t.title,0,{class:n}),i.text(t.title,r.x+a.left,r.y+a.top,r.width-(a.left+a.right),j.height,0,{class:n},!0,"center","center"),r.y+=j.height,r.height-=j.height),t.description&&0<t.description.length&&(s=t.toThemeProperty("jqx-chart-title-description",null),j=i.measureText(t.description,0,{class:s}),i.text(t.description,r.x+a.left,r.y+a.top,r.width-(a.left+a.right),j.height,0,{class:s},!0,"center","center"),r.y+=j.height,r.height-=j.height),(t.title||t.description)&&(r.y+=a.bottom+a.top,r.height-=a.bottom+a.top),{x:r.x,y:r.y,width:r.width,height:r.height}),l=(t._plotRect=o,t._buildStats(o),t._isPieOnlySeries()),h=t.seriesGroups,d={xAxis:{},valueAxis:{}},u=0;u<h.length&&!l;u++)if("pie"!=h[u].type&&"donut"!=h[u].type){if(!(P=t._getXAxis(u)))throw"seriesGroup["+u+"] is missing xAxis definition";var f=P==t._getXAxis()?-1:u;d.xAxis[f]=0}var c,g=t.axisPadding,p=(isNaN(g)&&(g=5),{left:0,right:0,leftCount:0,rightCount:0}),x=[];for(u=0;u<h.length;u++)"pie"==(T=h[u]).type||"donut"==T.type||1==T.spider||1==T.polar?x.push({width:0,position:0,xRel:0}):(c="horizontal"==T.orientation,f=(P=t._getXAxis(u))==t._getXAxis()?-1:u,A=(m=t._getValueAxis(u))==t._getValueAxis()?-1:u,M=(c?P:m).axisSize,S={x:0,y:o.y,width:o.width,height:o.height},_=(c?t._getXAxis(u):m).position,M&&"auto"!=M||(c?(M=this._renderXAxis(u,S,!0,o).width,1==(1&d.xAxis[f])?M=0:0<M&&(d.xAxis[f]|=1)):(M=t._renderValueAxis(u,S,!0,o).width,1==(1&d.valueAxis[A])?M=0:0<M&&(d.valueAxis[A]|=1))),0<p[(_="right"!=(_="left"!=_&&1==t.rtl?"right":_)?"left":_)+"Count"]&&0<p[_]&&0<M&&(p[_]+=g),x.push({width:M,position:_,xRel:p[_]}),p[_]+=M,p[_+"Count"]++);var m,_,y=Math.max(1,Math.max(e.width,e.height)),v={top:0,bottom:0,topCount:0,bottomCount:0},b=[];for(u=0;u<h.length;u++)"pie"==(T=h[u]).type||"donut"==T.type||1==T.spider||1==T.polar?b.push({height:0,position:0,yRel:0}):(c="horizontal"==T.orientation,A=(m=this._getValueAxis(u))==t._getValueAxis()?-1:u,f=(P=t._getXAxis(u))==t._getXAxis()?-1:u,N=(c?m:P).axisSize,_=(c?m:P).position,N&&"auto"!=N||(c?(N=t._renderValueAxis(u,{x:0,y:0,width:y,height:0},!0,o).height,2==(2&d.valueAxis[A])?N=0:0<N&&(d.valueAxis[A]|=2)):(N=t._renderXAxis(u,{x:0,y:0,width:y,height:0},!0).height,2==(2&d.xAxis[f])?N=0:0<N&&(d.xAxis[f]|=2))),0<v[(_="top"!=_?"bottom":_)+"Count"]&&0<v[_]&&0<N&&(v[_]+=g),b.push({height:N,position:_,yRel:v[_]}),v[_]+=N,v[_+"Count"]++);t._createAnimationGroup("series");n=0!=t.showLegend,s=n?t._renderLegend(t.legendLayout?t._rect:r,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(s={width:0,height:0}),r.height<v.top+v.bottom+s.height||r.width<p.left+p.right)i.endGroup();else{o.height-=v.top+v.bottom+s.height,o.x+=p.left,o.width-=p.left+p.right,o.y+=v.top;var M,N,w=[];if(!l){var A,S;t._getXAxis().tickMarksColor||t._defaultLineColor;for(u=0;u<h.length;u++)1!=(T=h[u]).polar&&1!=T.spider&&"pie"!=T.type&&"donut"!=T.type&&(c="horizontal"==T.orientation,f=t._getXAxis(u)==t._getXAxis()?-1:u,A=t._getValueAxis(u)==t._getValueAxis()?-1:u,S={x:o.x,y:0,width:o.width,height:b[u].height},"top"!=b[u].position?S.y=o.y+o.height+b[u].yRel:S.y=o.y-b[u].yRel-b[u].height,c?4!=(4&d.valueAxis[A])&&t._isGroupVisible(u)&&(t._renderValueAxis(u,S,!1,o),d.valueAxis[A]|=4):(w.push(S),4!=(4&d.xAxis[f])&&t._isGroupVisible(u)&&(t._renderXAxis(u,S,!1,o),d.xAxis[f]|=4)))}if(n&&(j=t.legendLayout?t._rect:r,a=r.x+oe.jqx._ptrnd((r.width-s.width)/2),n=o.y+o.height+v.bottom,M=r.width,N=s.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(a=t.legendLayout.left),isNaN(t.legendLayout.top)||(n=t.legendLayout.top),isNaN(t.legendLayout.width)||(M=t.legendLayout.width),isNaN(t.legendLayout.height)||(N=t.legendLayout.height)),a+M>j.x+j.width&&(M=j.x+j.width-a),n+N>j.y+j.height&&(N=j.y+j.height-n),t._renderLegend({x:a,y:n,width:M,height:N})),t._hasHorizontalLines=!1,!l)for(u=0;u<h.length;u++)1!=(T=h[u]).polar&&1!=T.spider&&"pie"!=T.type&&"donut"!=T.type&&(c="horizontal"==h[u].orientation,S={x:o.x-x[u].xRel-x[u].width,y:o.y,width:x[u].width,height:o.height},"left"!=x[u].position&&(S.x=o.x+o.width+x[u].xRel),f=t._getXAxis(u)==t._getXAxis()?-1:u,A=t._getValueAxis(u)==t._getValueAxis()?-1:u,c?(w.push(S),8!=(8&d.xAxis[f])&&t._isGroupVisible(u)&&(t._renderXAxis(u,S,!1,o),d.xAxis[f]|=8)):8!=(8&d.valueAxis[A])&&t._isGroupVisible(u)&&(t._renderValueAxis(u,S,!1,o),d.valueAxis[A]|=8));if(!(o.width<=0||o.height<=0)){for(t._plotRect={x:o.x,y:o.y,width:o.width,height:o.height},u=0;u<h.length;u++)this._drawPlotAreaLines(u,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(u,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(u=0;u<h.length;u++)this._drawPlotAreaLines(u,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(u,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var C=!1;for(u=0;u<h.length&&!C;u++)if(void 0!==(T=h[u]).annotations||oe.isFunction(T.draw)||oe.isFunction(T.drawBefore)){C=!0;break}var j,r=i.beginGroup();for(C||(s=i.createClipRect({x:o.x-2,y:o.y,width:o.width+4,height:o.height}),i.setClip(r,s)),u=0;u<h.length;u++){var q,T=h[u],k=!1;for(q in t._seriesTypes)if(t._seriesTypes[q]==T.type){k=!0;break}if(!k)throw'Invalid serie type "'+T.type+'"';oe.isFunction(T.drawBefore)&&T.drawBefore(i,e,u,this),1!=T.polar&&1!=T.spider||-1==T.type.indexOf("pie")&&-1==T.type.indexOf("donut")&&t._renderSpiderAxis(u,o),t._renderAxisBands(u,o,!0),t._renderAxisBands(u,o,!1)}for(u=0;u<h.length;u++){T=h[u];if(t._isColumnType(T.type)?t._renderColumnSeries(u,o):-1!=T.type.indexOf("pie")||-1!=T.type.indexOf("donut")?t._renderPieSeries(u,o):-1!=T.type.indexOf("line")||-1!=T.type.indexOf("area")?t._renderLineSeries(u,o):-1!=T.type.indexOf("scatter")||-1!=T.type.indexOf("bubble")?t._renderScatterSeries(u,o):-1==T.type.indexOf("candlestick")&&-1==T.type.indexOf("ohlc")||t._renderCandleStickSeries(u,o,-1!=T.type.indexOf("ohlc")),T.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var D=0;D<T.annotations.length;D++)t._renderAnnotation(u,T.annotations[D],o)}oe.isFunction(T.draw)&&t.draw(i,e,u,this)}i.endGroup(),0==t.enabled&&(j=i.rect(e.x,e.y,e.width,e.height),i.attr(j,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),oe.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var P,F=!1,u=0;u<t.seriesGroups.length&&!F;u++)(P=t._getXAxis(u))&&P.rangeSelector&&(F=!0);if(F){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var I=[];for(this._isSelectorRefresh||(t.removeHandler(oe(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(oe(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(oe(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),u=0;u<t.seriesGroups.length;u++){var O=this._getXAxis(u);-1==I.indexOf(O)&&this._renderXAxisRangeSelector(u,w[u])&&I.push(O)}}}}},_credits:function(){var e,t,i,r,s,a;"44CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==oe.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(a=e.renderer,i=e._rect,r={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},s=a.measureText(t,0,r),a=a.text(t,i.x+i.width-s.width-5,i.y+i.height-s.height-5,s.width,s.height,0,r),oe(a).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,r){for(var s=this,a=s.renderer,n={x:t.x,y:t.y,width:t.width,height:t.height},o=(6<=n.width&&(n.x+=3,n.width-=6),6<=n.height&&(n.y+=3,n.height-=6),{width:n.width,height:0}),l=0,h=0,d=20,u=0,f=0,c=0;c<e.length;c++){var g=(g=e[c].css)||s.toThemeProperty("jqx-chart-legend-text",null),d=20,p=e[c].text,x=a.measureText(p,0,{class:g}),O=(x.height>d&&(d=x.height),x.width>f&&(f=x.width),r?(0!=c&&(h+=d),h>n.height&&(h=0,l+=f+20+10,f=x.width,o.width=l+f)):(0!=l&&(l+=10),l+20+x.width>n.width&&x.width<n.width&&(l=0,h+=d,u=n.width,o.height=h+(d=20))),!1);if(x.width>n.width){for(var O=!0,m=n.width,_=(P=p).split(/\s+/),y=[],v="",b=0;b<_.length;b++){var M=v+(0<v.length?" ":"")+_[b];v=(S=s.renderer.measureText(M,0,{class:g})).width>m&&0<M.length&&0<v.length?(y.push({text:v}),_[b]):M,b+1==_.length&&y.push({text:v})}for(var N=x.width=0,w=0;w<y.length;w++){var A=y[w].text,S=s.renderer.measureText(A,0,{class:g});x.width=Math.max(x.width,S.width),N+=x.height}x.height=N}var C=l+x.width<n.width&&h+x.height<t.height;if(s.legendLayout&&(C=n.x+l+x.width<s._rect.x+s._rect.width&&n.y+h+x.height<s._rect.y+s._rect.height),!i&&C){var C=e[c].seriesIndex,j=e[c].groupIndex,q=e[c].itemIndex,T=e[c].fillColor,k=e[c].lineColor,D=s._isSerieVisible(j,C,q),R=a.beginGroup(),D=D?e[c].opacity:.1;if(O){for(var P=p,m=n.width,_=P.split(/\s+/),F=0,y=[],v="",b=0;b<_.length;b++){M=v+(0<v.length?" ":"")+_[b];v=(S=s.renderer.measureText(M,0,{class:g})).width>m&&0<M.length&&0<v.length?(y.push({text:v,dy:F}),F+=S.height,_[b]):M,b+1==_.length&&y.push({text:v,dy:F})}for(w=0;w<y.length;w++){A=y[w].text,F=y[w].dy,S=s.renderer.measureText(A,0,{class:g});r?s.renderer.text(A,n.x+l+15,n.y+h+F,x.width,d,0,{class:g},!1,"left","center"):s.renderer.text(A,n.x+l+15,n.y+h+F,x.width,d,0,{class:g},!1,"center","center")}var I=a.rect(n.x+l,n.y+h+5+F/2,10,10);r&&(h+=F),s.renderer.attr(I,{fill:T,"fill-opacity":D,stroke:k,"stroke-width":1,"stroke-opacity":e[c].opacity})}else{I=a.rect(n.x+l,n.y+h+5,10,10);s.renderer.attr(I,{fill:T,"fill-opacity":D,stroke:k,"stroke-width":1,"stroke-opacity":e[c].opacity}),r?s.renderer.text(p,n.x+l+15,n.y+h,x.width,x.height+5,0,{class:g},!1,"left","center"):s.renderer.text(p,n.x+l+15,n.y+h,x.width,d,0,{class:g},!1,"center","center")}s.renderer.endGroup(),s._setLegendToggleHandler(j,C,q,R)}r||u<(l+=x.width+20)&&(u=l)}if(i)return o.height=oe.jqx._ptrnd(h+d+5),o.width=oe.jqx._ptrnd(u),o},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[e];r.length<t+1;)r.push(!!isNaN(i)||[]);var s=r[t];if(isNaN(i))return s;for(oe.isArray(s)||(r[t]=s=[]);s.length<i+1;)s.push(!0);return s[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(e,t,i,r){var s=!this._isSerieVisible(e,t,i),a=this.seriesGroups[e],n=a.series[t];if(this._raiseEvent("toggle",{state:s=null!=r?r:s,seriesGroup:a,serie:n,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=s;else{var o=this._itemsToggleState[e][t];for(oe.isArray(o)||(o=[]);o.length<i;)o.push(!0);o[i]=s}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,r,e){var s,a=this.seriesGroups[t],n=a.series[i].enableSeriesToggle;(n=null==n?0!=a.enableSeriesToggle:n)&&(s=this).renderer.addHandler(e,"click",function(e){s._toggleSerie(t,i,r)})},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l=i._getSerieSettings(s,n);if("pie"==a.type||"donut"==a.type)for(var h=i._getXAxis(s),d=o.legendFormatSettings||a.legendFormatSettings||h.formatSettings||o.formatSettings||a.formatSettings,u=o.legendFormatFunction||a.legendFormatFunction||h.formatFunction||o.formatFunction||a.formatFunction,f=i._getDataLen(s),c=0;c<f;c++){g=i._getDataValue(c,o.displayText,s);var g=i._formatValue(g,d,u,s,n,c),p=i._getColors(s,n,c);r.push({groupIndex:s,seriesIndex:n,itemIndex:c,text:g,css:o.displayTextClass,fillColor:p.fillColor,lineColor:p.lineColor,opacity:l.opacity})}else{var d=o.legendFormatSettings||a.legendFormatSettings,u=o.legendFormatFunction||a.legendFormatFunction,p=(g=i._formatValue(o.displayText||o.dataField||"",d,u,s,n,NaN),i._getSeriesColors(s,n)),h=this._get([o.legendFillColor,o.legendColor,p.fillColor]),x=this._get([o.legendLineColor,o.legendColor,p.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:g,css:o.displayTextClass,fillColor:h,lineColor:x,opacity:l.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return i=isNaN(e.step)?i:e.step*t},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h,d,u=this._getInterval(s[e],o),f=[],c=((""==e||s[e].visible&&"custom"!=s[e].visible)&&(f=this._generateIntervalValues(r,u,o,n,l)),"labels"!=e?(d=n?a.left:0,!n&&1<o&&(d=a.left*(o+1)),1==f.length&&(d*=2),h=this._valuesToOffsets(f,t,r,i,a,!1,d),n||(s=(a.left+a.right)*u/o,t.flip?h.unshift(h[0]+s):h.push(h[h.length-1]+s))):(d=a.left,1==f.length&&(d*=2),h=this._valuesToOffsets(f,t,r,i,a,n,d)),this._arraysToObjectsArray([f,h],["value","offset"]));if(t[e]&&t[e].custom)for(var g=this._objectsArraysToArray(t[e].custom,"value"),p=this._objectsArraysToArray(t[e].custom,"offset"),x=this._valuesToOffsets(g,t,r,i,a,n,a.left),m=0;m<t[e].custom.length;m++)c.push({value:g[m],offset:(isNaN(p[m])?x:p)[m]});return c},_renderXAxis:function(e,t,i,r){var s=this,a=s._getXAxis(e),n=s.seriesGroups[e],o="horizontal"==n.orientation,l={width:0,height:0},h=s._getAxisSettings(a);if(!a||!h.visible||"spider"==n.type)return l;if(!s._isGroupVisible(e)||this._isPieGroup(e))return l;for(n=s._alignValuesWithTicks(e);s._renderData.length<e+1;)s._renderData.push({});s.rtl&&(a.flip=!0);var d=o?t.height:t.width,u=a.text,f=s._calculateXOffsets(e,d),c=f.axisStats,g=a.rangeSelector,p=0;if(g){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";p=this._selectorGetSize(a)}var x=o&&"right"==a.position||!o&&"top"==a.position,g=(!i&&g&&(o?(t.width-=p,"right"!=a.position&&(t.x+=p)):(t.height-=p,"top"==a.position&&(t.y+=p))),{rangeLength:f.rangeLength,itemWidth:f.itemWidth,intervalWidth:f.intervalWidth,data:f,settings:h,isMirror:x,rect:t}),m=(s._renderData[e].xAxis=g,c.interval);if(isNaN(m))return l;o&&(h.title.angle-=90,h.labels.angle-=90);var _,y,v,l=this._getInterval(h.gridLines,m),b=this._getInterval(h.tickMarks,m),M=this._getInterval(h.labels,m),N=c.min,w=c.max,f=f.padding,A=1==a.flip||s.rtl,S={min:N,max:w},C=(c.logAxis.enabled&&(S.min=c.logAxis.minPow,S.max=c.logAxis.maxPow),"date"==a.type?(h.gridLines.offsets=this._generateDTOffsets(N,w,d,f,l,m,c.dateTimeUnit,n,NaN,!1,A),h.tickMarks.offsets=this._generateDTOffsets(N,w,d,f,b,m,c.dateTimeUnit,n,NaN,!1,A),this._generateDTOffsets(N,w,d,f,M,m,c.dateTimeUnit,n,NaN,!0,A)):(h.gridLines.offsets=this._getOffsets("gridLines",a,d,c,h,f,n,m),h.tickMarks.offsets=this._getOffsets("tickMarks",a,d,c,h,f,n,m),this._getOffsets("labels",a,d,c,h,f,n,m))),j=(s.renderer.getRect().width,t.x,t.width,s._getDataLen(e),s._elementRenderInfo&&s._elementRenderInfo.length>e&&(_=s._elementRenderInfo[e].xAxis),[]);h.labels.formatFunction&&(y=h.labels.formatFunction),h.labels.formatSettings&&(v=oe.extend({},h.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!y?v?v.dateFormat=v.dateFormat||a.dateFormat:v={dateFormat:a.dateFormat}:y||v&&v.dateFormat||(y=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var q=0;q<C.length;q++){var T,k=C[q].value,D=C[q].offset;isNaN(D)||(T=void 0,"date"!=a.type&&c.useIndeces&&a.dataField&&(T=Math.round(k),null==(k=s._getDataValue(T,a.dataField))&&(k="")),null!=(u=s._formatValue(k,v,y,e,void 0,T))&&""!=u.toString()||(T=isNaN(T)?q:T)>=c.filterRange.min&&T<=c.filterRange.max&&(u=c.useIndeces?(c.min+T).toString():null==k?"":k.toString()),T={key:k,text:u,targetX:D,x:D},_&&_.itemOffsets[k]&&(T.x=_.itemOffsets[k].x,T.y=_.itemOffsets[k].y),j.push(T))}S=s._getAnimProps(e),l=S.enabled&&j.length<500?S.duration:0;0==s.enableAxisTextAnimation&&(l=0);b=s._renderAxis(o,x,h,{x:t.x,y:t.y,width:t.width,height:t.height},r,m,!1,!0,{items:j,renderData:g},i,l);return o?b.width+=p:b.height+=p,b},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a,n,o=i[s];o&&o.visible&&(a=o.targetX,n=o.targetY,isNaN(o.x)||isNaN(o.y)||(a=o.x+(a-o.x)*t,n=o.y+(n-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,a,n,o.width,o.height,r.angle,{class:r.style},!1,r.halign,r.valign,r.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i,r,s=this.seriesGroups[e],a=t.x+oe.jqx.getNum([s.offsetX,t.width/2]),n=t.y+oe.jqx.getNum([s.offsetY,t.height/2]),o=Math.min(t.width,t.height),l=s.radius,o=(this._isPercent(l)&&(l=parseFloat(l)/100*o/2),isNaN(l)&&(l=o/2*.6),this._alignValuesWithTicks(e)),h=this._get([s.startAngle,s.minAngle,0])-90,d=(h=isNaN(h)?0:2*Math.PI*h/360,this._get([s.endAngle,s.maxAngle,360])-90),u=((d=isNaN(d)?2*Math.PI:2*Math.PI*d/360)<h&&(u=h,h=d,d=u),oe.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0)),u=2*Math.PI*l*u,t=this._calcGroupOffsets(e,t).xoffsets;if(t)return i=!(1e-5<Math.abs(Math.abs(d-h)-2*Math.PI)),s.spider&&(e=(s=this._getXAxisStats(e,this._getXAxis(e),u)).interval,!isNaN(e)&&0!=e||(e=1),s=(s.max-s.min)/e+(i?1:0),2<(s=Math.round(s))&&(e=Math.cos(Math.abs(d-h)/2/s),l<(r=l/(e=0==(e=oe.jqx._rnd(e,.01))?1:e))&&o&&(l=r))),{x:a,y:n,r:l=oe.jqx._ptrnd(l),adjR:this._get([r,l]),itemWidth:t.itemWidth,rangeLength:t.rangeLength,valuesOnTicks:o,startAngle:h,endAngle:d,isClosedCircle:i,axisSize:u}},_toPolarCoord:function(e,t,i,r){var s=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),i=2*(i-t.x)*Math.PI*s/Math.max(1,t.width)+e.startAngle,s=(t.height+t.y-r)*e.r/Math.max(1,t.height),r=e.x+s*Math.cos(i),t=e.y+s*Math.sin(i);return{x:oe.jqx._ptrnd(r),y:oe.jqx._ptrnd(t)}},_renderSpiderAxis:function(e,t){var i=this,r=i._getXAxis(e),s=this._getAxisSettings(r);if(r&&s.visible){var a=i.seriesGroups[e],n=i._getPolarAxisCoords(e,t);if(n){var o=oe.jqx._ptrnd(n.x),l=oe.jqx._ptrnd(n.y),h=n.adjR,O=n.startAngle,d=n.endAngle;if(!(h<1)){var u=oe.jqx._rnd(Math.abs(O-d)/(2*Math.PI),.001,!0),f=2*Math.PI*h*u,c=n.isClosedCircle,g=this._renderData[e].xoffsets;if(g.rangeLength){var p=g.axisStats.interval,x=((isNaN(p)||p<1)&&(p=1),"horizontal"==a.orientation);for(x&&"right"==r.position||(x||r.position);i._renderData.length<e+1;)i._renderData.push({});for(var m={rangeLength:g.rangeLength,itemWidth:g.itemWidth,data:g,rect:t,settings:s},R=(i._renderData[e].xAxis=m,i._renderData[e].polarCoords=n,!0),_=0;_<e;_++){i._renderData[_].xAxis;var L,G=i._renderData[_].polarCoords,E=i._getXAxis(_),V=!1;for(L in n)if(n[L]!=G[L]){V=!0;break}V&&E==r||(R=!1)}for(var y,v=s.gridLines,b=s.tickMarks,H=s.labels,x=this._getInterval(v,p),B=this._getInterval(b,p),z=this._getInterval(H,p),M=i._alignValuesWithTicks(e),N=i.renderer,w=g.axisStats,W=w.min,X=w.max,A=this._getPaddingSize(g.axisStats,r,M,f,!0,c,!1),g=1==r.flip||i.rtl,U="date"==r.type?(v.offsets=this._generateDTOffsets(W,X,f,A,x,p,r.baseUnit,!0,0,!1,g),b.offsets=this._generateDTOffsets(W,X,f,A,B,p,r.baseUnit,!0,0,!1,g),this._generateDTOffsets(W,X,f,A,z,p,r.baseUnit,!0,0,!0,g)):(s.gridLines.offsets=this._getOffsets("gridLines",r,f,w,s,A,!0,p),s.tickMarks.offsets=this._getOffsets("tickMarks",r,f,w,s,A,!0,p),this._getOffsets("labels",r,f,w,s,A,!0,p)),S=(i.renderer.getRect().width,t.x,t.width,i._getDataLen(e),i._elementRenderInfo&&i._elementRenderInfo.length>e&&(y=i._elementRenderInfo[e].xAxis),[]),Y=this._getDataLen(e),_=0;_<U.length;_++){var Z=U[_].offset,C=U[_].value;if("date"!=r.type&&w.useIndeces&&r.dataField){var J=Math.round(C);if(Y<=J)continue;null==(C=i._getDataValue(J,r.dataField))&&(C="")}var j=i._formatValue(C,H.formatSettings,H.formatFunction,e,void 0,J),j=(null!=j&&""!=j.toString()||(j=w.useIndeces?(w.min+_).toString():null==C?"":C.toString()),{key:C,text:j,targetX:Z,x:Z});y&&y.itemOffsets[C]&&(j.x=y.itemOffsets[C].x,j.y=y.itemOffsets[C].y),S.push(j)}var Q={stroke:v.color,fill:"none","stroke-width":v.width,"stroke-dasharray":v.dashStyle||""},$=(a.spider||(1==u?N.circle(o,l,h,Q):(x=-O/Math.PI*180,B=-d/Math.PI*180,this.renderer.pieslice(o,l,0,h,Math.min(x,B),Math.max(x,B),void 0,Q))),S.length,Math.PI,O);if(v.visible&&R){M||c||v.offsets.unshift({offset:-A.right});for(_=0;_<v.offsets.length;_++){var K,ee,q=v.offsets[_].offset;M||(q+=c?A.right/2:A.right),.01<(k=$+2*q*Math.PI*u/Math.max(1,f))-d||(K=oe.jqx._ptrnd(o+h*Math.cos(k)),ee=oe.jqx._ptrnd(l+h*Math.sin(k)),N.line(o,l,K,ee,Q))}}if(b.visible&&R){var te={stroke:b.color,fill:"none","stroke-width":b.width,"stroke-dasharray":b.dashStyle||""};M||c||b.offsets.unshift({offset:-A.right});for(_=0;_<b.offsets.length;_++){var ie,re,q=b.offsets[_].offset;M||(q+=c?A.right/2:A.right),.01<(k=$+2*q*Math.PI*u/Math.max(1,f))-d||(ie={x:o+h*Math.cos(k),y:l+h*Math.sin(k)},re={x:o+(h+5)*Math.cos(k),y:l+(h+5)*Math.sin(k)},N.line(oe.jqx._ptrnd(ie.x),oe.jqx._ptrnd(ie.y),oe.jqx._ptrnd(re.x),oe.jqx._ptrnd(re.y),te))}}var se=[];if(a.spider){var ae=[],ae="date"==r.type?this._generateDTOffsets(W,X,f,A,p,p,r.baseUnit,!0,0,!1,g):this._getOffsets("",r,f,w,s,A,!0,p);M||c||ae.unshift({offset:-A.right});for(_=0;_<ae.length;_++){q=ae[_].offset;M||(q+=c?A.right/2:A.right),.01<(k=$+2*q*Math.PI*u/Math.max(1,f))-d||se.push(k)}m.offsetAngles=se}var T=(T=i._renderSpiderValueAxis(e,t,M?n.adjR:n.r,se))||[];if(a.spider){if(!M)for(_=0;_<T.length;_++)T[_]=T[_]*n.adjR/n.r;T.push(h),this._renderSpiderLines(o,l,T,n,se,Q)}if(R&&H.visible){m.polarLabels=[];for(_=0;_<S.length;_++){(k=(360-(k=$+2*(q=S[_].x)*Math.PI*u/Math.max(1,f))/(2*Math.PI)*360)%360)<0&&(k=360+k);var k,D,P=N.measureText(S[_].text,0,{class:s.labels.style}),ne=(M?n.adjR:n.r)+(b.visible?7:2),F=s.labels,I=F.autoRotate?(I=oe.jqx._ptRotate(o-P.width/2,l-ne-P.height,o,l,-k/180*Math.PI),D=oe.jqx._ptRotate(o+P.width/2,l-ne,o,l,-k/180*Math.PI),P.width=Math.abs(I.x-D.x),P.height=Math.abs(I.y-D.y),{x:Math.min(I.x,D.x),y:Math.min(I.y,D.y)}):this._adjustTextBoxPosition(o,l,P,ne,k,!1,!1,!1);m.polarLabels.push({x:I.x,y:I.y,value:S[_].text}),N.text(S[_].text,I.x,I.y,P.width,P.height,F.autoRotate?90-k:F.angle,{class:F.style},!1,F.halign,F.valign)}}}}}}},_renderSpiderLines:function(e,t,i,r,s,a){for(var n=this.renderer,o=(r.startAngle,r.endAngle,r.isClosedCircle),l=0;l<i.length;l++){for(var h=i[l],d=void 0,u=void 0,f=0;f<s.length;f++){var c=s[f],g=oe.jqx._ptrnd(e+h*Math.cos(c)),c=oe.jqx._ptrnd(t+h*Math.sin(c));d&&n.line(d.x,d.y,g,c,a),d={x:g,y:c},u=u||{x:g,y:c}}u&&o&&n.line(d.x,d.y,u.x,u.y,a)}},_renderSpiderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],t=this._getPolarAxisCoords(e,t);if(t){var a=oe.jqx._ptrnd(t.x),n=oe.jqx._ptrnd(t.y),o=(i=i||t.r,t.startAngle),l=t.endAngle,h=oe.jqx._rnd(Math.abs(o-l)/(2*Math.PI),.001,!0);if(!(i<1)){i=oe.jqx._ptrnd(i);var d=this._getValueAxis(e),u=this._getAxisSettings(d);if(d&&0!=u.visible){var t=this._stats.seriesGroups[e].mu,f=u.labels,c=f.formatSettings,f=(-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!c&&(c={sufix:"%"}),this._get([f.step,f.unitInterval/t])),g=(isNaN(f)&&(f=1),f=Math.max(1,Math.round(f)),this._calcValueAxisItems(e,i,f),u.gridLines),p=u.tickMarks,x=(this._getInterval(g,t),this._getInterval(p,t),u.labels),m={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},_=this._renderData[e].valueAxis,y=_.items,v=o,b=(y.length&&u.line.visible&&(isNaN(u.line.angle)||(v=2*Math.PI*u.line.angle/360),f=a+Math.cos(v)*i,t=n+Math.sin(v)*i,-1==r.indexOf(v)&&((r=oe.extend({},m))["stroke-width"]=u.line.lineWidth,r.stroke=u.line.color,r["stroke-dasharray"]=u.line.dashStyle,this.renderer.line(a,n,f,t,r))),y=y.reverse(),this.renderer);_.polarLabels=[];for(var M=0;M<y.length-1;M++){var N,w,A=y[M];isNaN(A)||(A=x.formatFunction?x.formatFunction(A):this._formatNumber(A,c),N=b.measureText(A,0,{class:x.style}),w=a+(0!=d.showTickMarks?3:2),C=n-_.itemWidth*M-N.height/2,D=oe.jqx._ptRotate(w,C,a,n,v),P=oe.jqx._ptRotate(w+N.width,C+N.height,a,n,v),w=Math.min(D.x,P.x),C=Math.min(D.y,P.y),N.width=Math.abs(D.x-P.x),N.height=Math.abs(D.y-P.y),w+=u.labels.textOffset.x,C+=u.labels.textOffset.y,_.polarLabels.push({x:w,y:C,value:A}),b.text(A,w,C,N.width,N.height,x.autoRotate?90+180*o/Math.PI:x.angle,{class:x.style},!1,x.halign,x.valign))}1==d.logarithmicScale?y.length:_.rangeLength;Math.PI;var f=0!=d.valuesOnTicks,t=this._stats.seriesGroups[e],r=t.mu,e=1==d.logarithmicScale,e=(d.logarithmicScaleBase,e&&(r=1),{min:t.min,max:t.max,logAxis:{enabled:1==e,base:d.logarithmicScaleBase,minPow:t.minPow,maxPow:t.maxPow}}),S=((g.visible||s.spider||d.alternatingBackgroundColor||d.alternatingBackgroundColor2)&&(g.offsets=this._getOffsets("gridLines",d,i,e,u,{left:0,right:0},f,r)),[]);if(g.visible||s.spider)for(var C,j,q,m={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},M=0;M<g.offsets.length;M++)(C=oe.jqx._ptrnd(g.offsets[M].offset))!=i&&(s.spider?S.push(C):1!=h?(j=-o/Math.PI*180,q=-l/Math.PI*180,this.renderer.pieslice(a,n,0,C,Math.min(j,q),Math.max(j,q),void 0,m)):b.circle(a,n,C,m));if(d.tickMarks&&(d.tickMarks.visible||d.showTickMarks)||(p.visible=!1),p.visible){p.offsets=this._getOffsets("tickMarks",d,i,e,u,{left:0,right:0},f,r);for(var T=2*p.size,m={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},M=0;M<p.offsets.length;M++){var k=p.offsets[M].offset,D={x:a+k*Math.cos(v)-T/2*Math.sin(v+Math.PI/2),y:n+k*Math.sin(v)-T/2*Math.cos(v+Math.PI/2)},P={x:a+k*Math.cos(v)+T/2*Math.sin(v+Math.PI/2),y:n+k*Math.sin(v)+T/2*Math.cos(v+Math.PI/2)};b.line(oe.jqx._ptrnd(D.x),oe.jqx._ptrnd(D.y),oe.jqx._ptrnd(P.x),oe.jqx._ptrnd(P.y),m)}}return S}}}},_renderAxis:function(e,t,i,r,s,a,n,o,l,h,d){if(i.customDraw&&!h)return{width:NaN,height:NaN};for(var u,f,c,g=i.title,p=i.labels,x=(i.gridLines,i.tickMarks),m=i.padding,_=x.visible?x.size:0,x={width:0,height:0},y={width:0,height:0},v=(e?x.height=y.height=r.height:x.width=y.width=r.width,!h&&t&&e&&(r.x-=r.width),l.renderData),b=v.itemWidth,M=(g.visible&&null!=g.text&&""!=g&&(N=g.angle,f=this.renderer.measureText(g.text,N,{class:g.style}),y.width=f.width,y.height=f.height,h||this.renderer.text(g.text,r.x+g.offset.x+(e?t?-m.right-2+2*r.width-y.width:2+m.left:0),r.y+g.offset.y+(e?0:t?m.top+2:r.height-2-y.height-m.bottom),(e?y:r).width,(e?r:y).height,N,{class:g.style},!0,g.halign,g.valign,g.rotationPoint)),0),N=o?-b/2:0,w=(o&&!e&&(p.halign="center"),r.x),A=r.y,g=p.textOffset,S=(g&&(isNaN(g.x)||(w+=g.x),isNaN(g.y)||(A+=g.y)),e?(w+=m.left+2+(0<y.width?y.width+2:0)+(t?r.width-y.width:0),A+=N):(w+=N,t?A=A+(0<y.height?y.height+6:4)+(_-(o?_:_/4)):A+=o?_:_/4,A+=m.top),0),C=0,j=l.items,q=(v.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(d=0),!1),T=0,k=0;k<j.length&&p.visible;k++,M+=b)j[k]&&!isNaN(b)&&(u=j[k].text,isNaN(j[k].targetX)||(M=j[k].targetX),(f=this.renderer.measureText(u,p.angle,{class:p.style})).width>C&&(C=f.width),f.height>S&&(S=f.height),T+=e?S:C,h||e&&M>r.height+2||!e&&M>r.width+2||(D=e?w+(t?0==y.width?_:_-2:0):w+M,v.itemOffsets[j[k].key]={x:D,y:P=e?A+M:A},q||isNaN(j[k].x)&&(isNaN(j[k].y)||!d)||(q=!0),j[k].targetX=D,j[k].targetY=P,j[k].width=e?r.width-m.left-m.right-4-_-(0<y.width?y.width+2:0):b,j[k].height=e?b:r.height-m.top-m.bottom-4-_-(0<y.height?y.height+2:0),j[k].visible=!0));v.avgWidth=0==j.length?0:T/j.length,h||(g={items:j,textSettings:p},!isNaN(d)&&q||(d=0),this._animateAxisText(g,0==d?1:0),0!=d&&(c=this)._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){c._animateAxisText(t,i)},g)),x.width+=4+_+y.width+C+(e&&0<y.width?2:0),x.height+=4+_+y.height+S+(!e&&0<y.height?2:0),e?x.width+=m.left+m.right:x.height+=m.top+m.bottom;var D,P;return!h&&i.line.visible&&(N={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(D=r.x+r.width+(t?m.left:-m.right),D=oe.jqx._ptrnd(D),this.renderer.line(D,r.y,D,r.y+r.height,N)):(P=oe.jqx._ptrnd(r.y+(t?r.height-m.bottom:m.top)),this.renderer.line(oe.jqx._ptrnd(r.x),P,oe.jqx._ptrnd(r.x+r.width+1),P,N))),x.width=oe.jqx._rup(x.width),x.height=oe.jqx._rup(x.height),x},_drawPlotAreaLines:function(e,t,i){var r=this.seriesGroups[e],s="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=e)){var a=this._renderData[e][t?"valueAxis":"xAxis"];if(a){var n=(n=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),o="",l=t?(o="valueAxis_"+(r.valueAxis?e:"")+(s?"swap":""),this._getValueAxis(e)):(o="xAxis_"+(r.xAxis||r.categoryAxis?e:"")+(s?"swap":""),this._getXAxis(e)),r=(n=n[o]||(n[o]={}),t||(s=!s),a.settings);if(r&&!r.customDraw){var h=r.gridLines,e=r.tickMarks,d=r.padding,u=a.rect,f=this._plotRect;if(h&&e){var c={},g={stroke:h.color,"stroke-width":h.width,"stroke-dasharray":h.dashStyle||""},p=t?u.y+u.height:u.x,x=h.offsets;if((x=t&&!l.flip?(x=oe.extend([],x)).reverse():x)&&0<x.length)for(var m,_,y,v=NaN,b=(x.length,0);b<x.length;b++)s?(m=(m=oe.jqx._ptrnd(u.y+x[b].offset))<u.y-.5?oe.jqx._ptrnd(u.y):m)>u.y+u.height&&(m=u.y+u.height):(m=oe.jqx._ptrnd(u.x+x[b].offset))>u.x+u.width+.5&&(m=oe.jqx._ptrnd(u.x+u.width)),isNaN(m)||!isNaN(v)&&Math.abs(m-v)<2||(v=m,i.gridLines&&0!=h.visible&&1!=n.gridLines&&(s?this.renderer.line(oe.jqx._ptrnd(f.x),m,oe.jqx._ptrnd(f.x+f.width),m,g):this.renderer.line(m,oe.jqx._ptrnd(f.y),m,oe.jqx._ptrnd(f.y+f.height),g)),c[m]=!0,i.alternatingBackground&&(h.alternatingBackgroundColor||h.alternatingBackgroundColor2)&&1!=n.alternatingBackground&&(_=b%2==0?h.alternatingBackgroundColor2:h.alternatingBackgroundColor,0<b&&_&&(y=s?this.renderer.rect(oe.jqx._ptrnd(f.x),p,oe.jqx._ptrnd(f.width-1),m-p,g):this.renderer.rect(p,oe.jqx._ptrnd(f.y),m-p,oe.jqx._ptrnd(f.height),g),this.renderer.attr(y,{"stroke-width":0,fill:_,opacity:h.alternatingBackgroundOpacity||1}))),p=m);g={stroke:e.color,"stroke-width":e.width,"stroke-dasharray":e.dashStyle||""};if(i.tickMarks&&e.visible&&1!=n.tickMarks)for(var M=e.size,x=e.offsets,v=NaN,b=0;b<x.length;b++)if(s?(m=(m=oe.jqx._ptrnd(u.y+x[b].offset))<u.y-.5?oe.jqx._ptrnd(u.y):m)>u.y+u.height&&(m=u.y+u.height):(m=oe.jqx._ptrnd(u.x+x[b].offset))>u.x+u.width+.5&&(m=oe.jqx._ptrnd(u.x+u.width)),!isNaN(m)&&(isNaN(v)||!(Math.abs(m-v)<2))){if(c[m-1]?m--:c[m+1]&&m++,s){if(m>u.y+u.height+.5)break}else if(m>u.x+u.width+.5)break;v=m;var N,w=a.isMirror?M:-M;s?(N=u.x+u.width+("right"==l.position?d.left:-d.right),t||(N=u.x+(a.isMirror?d.left:-d.right+u.width)),this.renderer.line(N,m,N+w,m,g)):(N=u.y+(a.isMirror?u.height:0),N+=a.isMirror?-d.bottom:d.top,N=oe.jqx._ptrnd(N),this.renderer.line(m,N,m,N-w,g))}n.tickMarks=n.tickMarks||i.tickMarks,n.gridLines=n.gridLines||i.gridLines,n.alternatingBackground=n.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],a=(s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),t=t/o,l=r.min,h=r.mu,d=1==a.logarithmicScale,u=a.logarithmicScaleBase||10,f=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(d&&(h=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};for(var s=this._renderData[e].valueAxis,c=(s.itemWidth=s.intervalWidth=t,s.items=[],s.items),g=0;g<=o;g++){var p=0,p=d?f?r.max/Math.pow(u,o-g):l*Math.pow(u,g):n?l+g*h:l+(g+.5)*h;g%i!=0?c.push(NaN):c.push(p)}return s.rangeLength=d&&!f?r.intervals:r.intervals*h,1!=a.flip&&(c=c.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||"9"<n[o])&&0<=(r=n.length-(o+1)))return Math.min(r,i);for(0<r&&(a*=Math.pow(10,r));Math.round(a)!=a&&r<i;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,u=1==n.logarithmicScale,f=n.logarithmicScaleBase||10;if(0==(d=u?isNaN(n.unitInterval)?1:n.unitInterval:d)&&(d=1),isNaN(d))return o;var c=this._getAxisSettings(n),g=c.title,p=c.labels,x=n.labels||{},x=(this._get([n.horizontalTextAlignment,x.horizontalAlignment])||0!=p.angle||(p.halign=a?"center":"right"==n.position?"left":"right"),this._get([p.step,p.unitInterval/d]));if(isNaN(x)&&(x=1),x=Math.max(1,Math.round(x)),!this._calcValueAxisItems(e,a?t.width:t.height,x)||!c.visible)return o;a||(g.angle=this.rtl?90:-90,"centercenter"==g.rotationPoint&&("top"==g.valign?g.rotationPoint="rightcenter":"bottom"==g.valign&&(g.rotationPoint="leftcenter")));var m,x=this._renderData[e].valueAxis,_=p.formatSettings,o=(-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!_&&(_={sufix:"%"}),p.formatFunction||_&&_.decimalPlaces||((_=_||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3)),c.gridLines),g=(u||this._getInterval(o,d),a?t.width:t.height),s=1==n.flip,f=(n.flip=!s,{min:h.min,max:h.max,logAxis:{enabled:1==u,base:f,minPow:h.minPow,maxPow:h.maxPow}}),h=((o.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(o.offsets=this._getOffsets("gridLines",n,g,f,c,{left:0,right:0},l,d)),c.tickMarks),y=(h.visible&&(h.offsets=this._getOffsets("tickMarks",n,g,f,c,{left:0,right:0},l,d)),this._getOffsets("labels",n,g,f,c,{left:0,right:0},l,d,!l)),v=(n.flip=s,[]);this._elementRenderInfo&&this._elementRenderInfo.length>e&&(m=this._elementRenderInfo[e].valueAxis);for(var b=0;b<y.length;b++){var M,N=y[b].value;isNaN(y[b].offset)?v.push(void 0):(M={key:N,text:p.formatFunction?p.formatFunction(N):isNaN(N)?N:this._formatNumber(N,_)},m&&m.itemOffsets[N]&&(M.x=m.itemOffsets[N].x,M.y=m.itemOffsets[N].y),M.targetX=y[b].offset,isNaN(M.targetX)||v.push(M))}o=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,h={items:v,renderData:x},g=this._getAnimProps(e),f=g.enabled&&v.length<500?g.duration:0;return 0==this.enableAxisTextAnimation&&(f=0),x.settings=c,x.isMirror=o,x.rect=t,this._renderAxis(!a,o,c,t,r,d,u,!0,h,i,f)},_objectsArraysToArray:function(e,t){var i=[];if(!oe.isArray(e))return i;for(var r=0;r<e.length;r++)i.push(e[r][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(e,t,i,r,s,a,n){var o=[];if(!t||!oe.isArray(e))return o;var l,h=i.logAxis.base,d=i.logAxis.enabled?"logarithmic":"linear",u=t.flip,f=0,c=0;r=l=r-(f=s&&!isNaN(s.left)?s.left:f)-(c=s&&!isNaN(s.right)?s.right:c);for(var g=0;g<e.length;g++){var p=this._jqxPlot.scale(e[g],{min:i.min.valueOf(),max:i.max.valueOf(),type:d,base:h},{min:0,max:a?r:l,flip:u},{});isNaN(p)?o.push(NaN):(isNaN(n)||(p+=n),p<=r+f+c+1?o.push(oe.jqx._ptrnd(p)):o.push(NaN))}return o},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),null==n||null==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(s?i/2:0));if(i<t){for(var d=[],u=Math.round(t/i),h=0;h<a.length;h++)h%u==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(e,t,i,r,s,a,n,o,l,h,d){n=n||"day";var u=[];if(t<e)return u;if(e==t)return h?u.push({offset:o?i/2:r.left,value:e}):o&&u.push({offset:i/2,value:e}),u;var f=i-r.left-r.right,c=e,g=r.left,p=g,x=a=Math.max(a,1),m=Math.min(1,a);for(1<a&&"millisecond"!=n&&(a=1);oe.jqx._ptrnd(p)<=oe.jqx._ptrnd(r.left+f+(o?0:r.right));){u.push({offset:p,value:c});var _,y=new Date(c.valueOf());"millisecond"==n?y.setMilliseconds(c.getMilliseconds()+a):"second"==n?y.setSeconds(c.getSeconds()+a):"minute"==n?y.setMinutes(c.getMinutes()+a):"hour"==n?(_=y.valueOf(),y.setHours(c.getHours()+a),_==y.valueOf()&&y.setHours(c.getHours()+a+1)):"day"==n?y.setDate(c.getDate()+a):"month"==n?y.setMonth(c.getMonth()+a):"year"==n&&y.setFullYear(c.getFullYear()+a),p=g+((c=y).valueOf()-e.valueOf())*m/(t.valueOf()-e.valueOf())*f}if(d)for(var v=0;v<u.length;v++)u[v].offset=i-u[v].offset;if(1<x&&"millisecond"!=n){for(var b=[],v=0;v<u.length;v+=x)b.push({offset:u[v].offset,value:u[v].value});u=b}if(!o&&!h&&1<u.length){(b=[]).push({offset:0,value:void 0});for(v=1;v<u.length;v++)b.push({offset:u[v-1].offset+(u[v].offset-u[v-1].offset)/2,value:void 0});d=b.length;1<d?b.push({offset:b[d-1].offset+(b[d-1].offset-b[d-2].offset)}):b.push({offset:i,value:void 0}),u=b}if(a<s){for(var b=[],M=Math.round(s/x),v=0;v<u.length;v++)v%M==0&&b.push({offset:u[v].offset,value:u[v].value});u=b}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var r=-1!=i.type.indexOf("waterfall"),s=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<s;l++){var h=void 0;r||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]){var u=this._getDataValueAsNumber(l,i.series[d].dataField,e);if(!isNaN(u)){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;u=a?u<0:u<t,a=!0;if(u!=(h=null==h?u:h))return!0;h=u,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i],s=(t.seriesGroups[i]={},this._getXAxis(i)),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height),O=((F=t.seriesGroups[i]).isValid=!0,"horizontal"==r.orientation?e.width:e.height),o=1==a.logarithmicScale,l=a.logarithmicScaleBase,h=(isNaN(l)&&(l=10),-1!=r.type.indexOf("stacked")),d=h&&-1!=r.type.indexOf("100"),R=-1!=r.type.indexOf("range"),u=-1!=r.type.indexOf("waterfall");if(u&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";d&&(F.psums=[],F.nsums=[]);var f=NaN,c=NaN,g=NaN,p=NaN,x=a?a.baselineValue:NaN,m=!1,L=(0!=(x=isNaN(x)?o&&!d?1:0:x)&&h&&(m=this._hasStackValueReversal(i,x))&&(x=0),h&&u&&(m=this._hasStackValueReversal(i,x)),this._getDataLen(i)),_=0,y=NaN,v=[];if(u)for(var b=0;b<r.series.length;b++)v.push(NaN);for(var M=NaN,N=0;N<L&&F.isValid;N++){if(s.rangeSelector){var w=s.dataField?this._getDataValue(N,s.dataField,i):N;if(w&&n.isDateTime&&(w=this._castAsDate(w,s.dateFormat)),(w=n.useIndeces?N:w)&&(w.valueOf()<n.min.valueOf()||w.valueOf()>n.max.valueOf()))continue}for(var A=a.minValue,S=a.maxValue,C=(a.baselineValue&&(A=isNaN(A)?x:Math.min(x,A),S=isNaN(S)?x:Math.max(x,S)),0),j=0,b=0;r.series&&b<r.series.length;b++)if(this._isSerieVisible(i,b)){var q=NaN,T=NaN,k=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var G=["Open","Low","Close","High"];for(I in G){var D=this._getDataValueAsNumber(N,r.series[b]["dataField"+G[I]],i);isNaN(D)||(k=isNaN(T)?D:Math.min(k,D),T=isNaN(T)?D:Math.max(T,D))}}else if(R)var E=this._getDataValueAsNumber(N,r.series[b].dataFieldFrom,i),V=this._getDataValueAsNumber(N,r.series[b].dataFieldTo,i),T=Math.max(E,V),k=Math.min(E,V);else{if(q=this._getDataValueAsNumber(N,r.series[b].dataField,i),u){if(this._isSummary(i,N))if(void 0!==this._getDataValue(N,r.series[b].summary,i))continue;h?(isNaN(M)||(q+=M),M=q):(isNaN(v[b])?v[b]=q:q+=v[b],v[b]=q)}if(isNaN(q)||o&&q<=0)continue;k=T=q}(isNaN(S)||S<T)&&(isNaN(a.maxValue)||T<=a.maxValue)&&(S=T),(isNaN(A)||k<A)&&(isNaN(a.minValue)||k>=a.minValue)&&(A=k),isNaN(q)||!h||u||(x<q?C+=q:q<x&&(j+=q))}if(d||(isNaN(a.maxValue)||(C=Math.min(a.maxValue,C)),isNaN(a.minValue)||(j=Math.max(a.minValue,j))),o&&d)for(var P,b=0;b<r.series.length;b++)this._isSerieVisible(i,b)?(q=this._getDataValueAsNumber(N,r.series[b].dataField,i),isNaN(q)||q<=0?y=.01:(P=0==C?0:q/C,(isNaN(y)||P<y)&&(y=P))):y=.01;w=C-j;_<w&&(_=w),d&&(F.psums[N]=C,F.nsums[N]=j),(c<S||isNaN(c))&&(c=S),(A<f||isNaN(f))&&(f=A),(g<C||isNaN(g))&&(g=C),(j<p||isNaN(p))&&(p=j)}d&&(g=0==g?0:Math.max(g,-p),p=0==p?0:Math.min(p,-g)),f==c&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(f=a.minValue,c=o?f*l:f+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(c=a.maxValue,f=o?c/l:c-1)),f==c&&(0==f?(f=-1,c=1):f<0?c=0:o?1==f&&(f/=l,c*=l):f=0);l={gmin:f,gmax:c,gsumP:g,gsumN:p,gbase:x,isLogAxis:o,logBase:l,minPercent:y,gMaxRange:_,isStacked:h,isStacked100:d,isWaterfall:u,hasStackValueReversal:m,valueAxis:a,valueAxisSize:O};l.isStacked&&(l.gsumN<0&&(l.gmin=Math.min(l.gmin,l.gbase+l.gsumN)),0<l.gsumP&&(l.gmax=Math.max(l.gmax,l.gbase+l.gsumP))),F.context=l}this._mergeCommonValueAxisStats();for(var F,N=0;N<t.seriesGroups.length;N++)if((F=t.seriesGroups[N]).isValid){var I,H=this._calcOutputGroupStats(F.context);for(I in H)F[I]=H[I];delete F.context}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++)this._isGroupVisible(i)&&!this.seriesGroups[i].valueAxis&&(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP)));for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var r,s=this._stats.seriesGroups[i].context;for(r in t)s[r]=t[r]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,r=e.gsumP,s=e.gsumN,a=e.gbase,n=e.isLogAxis,o=e.logBase,l=e.minPercent,h=e.gMaxRange,d=e.isStacked,u=e.isStacked100,f=e.isWaterfall,c=e.hasStackValueReversal,g=e.valueAxis,p=e.valueAxisSize,x=(x=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(p/80,2)),m=(t==i&&(t=a,i*=2),NaN),_=0,e=0;if(n){if(u){for(var m=0,y=1,_=e=oe.jqx.log(100,o);l<y;)y/=o,_--,m++;t=Math.pow(o,_)}else d&&!f&&(i=Math.max(i,r)),e=oe.jqx._rnd(oe.jqx.log(i,o),1,!0),i=Math.pow(o,e),_=oe.jqx._rnd(oe.jqx.log(t,o),1,!1),t=Math.pow(o,_);x=o}t<s&&(s=t),r<i&&(r=i);p=t,d=i;if(n||0!=Math.abs(d-p)%x&&(p=oe.jqx._rnd(t,x,!1),d=oe.jqx._rnd(i,x,!0)),u&&100<d&&(d=100),u&&!n&&(d=0<d?100:0,p=p<0?-100:0,x=g.unitInterval,100%(x=isNaN(x)||x<=0||100<=x?10:x)!=0))for(;1<=x&&100%x!=0;x--);return isNaN(d)||isNaN(p)||isNaN(x)?{}:(isNaN(m)&&(m=parseInt(((d-p)/(0==x?1:x)).toFixed())),n&&!u&&(m=e-_,h=Math.pow(o,m)),m<1?{}:{min:p,max:d,logarithmic:n,logBase:o,base:n?p:a,minPow:_,maxPow:e,sumP:r,sumN:s,mu:x,maxRange:h,intervals:m,hasStackValueReversal:c})},_getDataLen:function(e){var t=this.source;return(t=(t=null!=e&&-1!=e&&this.seriesGroups[e].source?this.seriesGroups[e].source:t)instanceof oe.jqx.dataAdapter?t.records:t)?t.length:0},_getDataValue:function(e,t,i){var r=this.source;if(!(!(r=(r=null!=i&&-1!=i?this.seriesGroups[i].source||r:r)instanceof oe.jqx.dataAdapter?r.records:r)||e<0||e>r.length-1))return oe.isFunction(t)?t(e,r):t&&""!=t?r[e][t]:r[e]},_getDataValueAsNumber:function(e,t,i){e=this._getDataValue(e,t,i);return this._isDate(e)?e.valueOf():"number"!=typeof(e="number"!=typeof e?parseFloat(e):e)?void 0:e},_isPieGroup:function(e){e=this.seriesGroups[e];return!(!e||!e.type)&&(-1!=e.type.indexOf("pie")||-1!=e.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._calcGroupOffsets(e,t).offsets,a=0;a<r.series.length;a++){var n=r.series[a];if(!n.customDraw){for(var o=this._getSerieSettings(e,a),l=(n.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(e,a)),h=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0,l=(oe.jqx.mobile.isMobileBrowser()&&this.renderer instanceof oe.jqx.HTML5Renderer&&(h=0),this._get([n.minAngle,n.startAngle])),n=((isNaN(l)||l<0||360<l)&&(l=0),this._get([n.maxAngle,n.endAngle])),d={rect:t,minAngle:l,maxAngle:n=isNaN(n)||n<0||360<n?360:n,groupIndex:e,serieIndex:a,settings:o,items:[]},u=0;u<i;u++){var f,c,g,p=s[a][u];p.visible&&(f=p.fromAngle,c=p.toAngle,g=this.renderer.pieslice(p.x,p.y,p.innerRadius,p.outerRadius,f,0==h?c:f,p.centerOffset),this._setRenderInfo(e,a,u,{element:g}),g={displayValue:p.displayValue,itemIndex:u,visible:p.visible,x:p.x,y:p.y,innerRadius:p.innerRadius,outerRadius:p.outerRadius,fromAngle:f,toAngle:c,centerOffset:p.centerOffset},d.items.push(g))}this._animatePieSlices(d,0);var x=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){x._animatePieSlices(t,i)},d)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var i,r,s=this.seriesGroups[e.groupIndex],a=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=a.visible,o=[],l=0;l<e.items.length;l++)(d=e.items[l]).visible&&(f=d.fromAngle,c=d.fromAngle+t*(d.toAngle-d.fromAngle),i&&i[d.displayValue]&&(f=(r=i[d.displayValue].fromAngle)+(f-r)*t,c=(r=i[d.displayValue].toAngle)+(c-r)*t),o.push({index:l,from:f,to:c}));i&&o.sort(this._sliceSortFunction);for(var h=NaN,l=0;l<o.length;l++){var d=e.items[o[l].index],u=this._getRenderInfo(e.groupIndex,e.serieIndex,d.itemIndex),f=o[l].from,c=o[l].to,g=(i&&(!isNaN(h)&&h<f&&(f=h),h=c,l==o.length-1&&c!=o[0].from&&(c=e.maxAngle+o[0].from)),this.renderer.pieSlicePath(d.x,d.y,d.innerRadius,d.outerRadius,f,c,d.centerOffset)),g=(this.renderer.attr(u.element,{d:g}),this._getColors(e.groupIndex,e.serieIndex,d.itemIndex,"radialGradient",d.outerRadius)),p=e.settings;u.colors=g,u.settings=p,this.renderer.attr(u.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":p.stroke,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-dasharray":"none"}),s.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,d.itemIndex,a),1==t&&this._installHandlers(u.element,"pieslice",e.groupIndex,e.serieIndex,d.itemIndex)}},_showPieLabel:function(e,t,i,r,s){var a,n,o,l,h,d,u,f,c,g=this._renderData[e].offsets[t][i];g.elementInfo.labelElement&&this.renderer.removeElement(g.elementInfo.labelElement),(r=r||this._getLabelsSettings(e,t,NaN)).visible&&(o=g.fromAngle,c=g.toAngle,a=Math.abs(o-c),360<a&&(o=0,c=360),Math.PI,Math.PI,c=a/2+o,a=(c%=360)*Math.PI*2/360,1==r.autoRotate&&(n=c<90||270<c?360-c:180-c),o=r.linesEnabled,l=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,n),h=r.radius||g.outerRadius+Math.max(l.width,l.height),this._isPercent(h)&&(h=parseFloat(h)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),h=(h+=g.centerOffset)+(s=isNaN(s)?0:s),f=(d=this.seriesGroups[e]).series[t],u=oe.jqx.getNum([f.offsetX,d.offsetX,this._plotRect.width/2]),f=oe.jqx.getNum([f.offsetY,d.offsetY,this._plotRect.height/2]),d=this._plotRect.x+u,u=this._plotRect.y+f,f=this._adjustTextBoxPosition(d,u,l,h,c,g.outerRadius>h,0!=r.linesAngles,1==r.autoRotate),g.elementInfo.labelElement=this._showLabel(e,t,i,{x:f.x,y:f.y,width:l.width,height:l.height},"left","top",!(c={}),!1,!1,n,c),h>g.outerRadius+5&&0!=o&&(e={lineColor:g.elementInfo.colors.lineColor,stroke:g.elementInfo.settings.stroke,opacity:g.elementInfo.settings.opacity,dashStyle:g.elementInfo.settings.dashStyle},g.elementInfo.labelArrowPath=this._updateLebelArrowPath(g.elementInfo.labelArrowPath,d,u,h,g.outerRadius+s,a,0!=r.linesAngles,e,c)))},_updateLebelArrowPath:function(e,i,r,t,s,a,n,o,l){oe.jqx._ptrnd(i+ +t*Math.cos(a)),oe.jqx._ptrnd(r-+t*Math.sin(a));t=oe.jqx._ptrnd(i+(s+2)*Math.cos(a)),s=oe.jqx._ptrnd(r-(s+2)*Math.sin(a));(h=[]).push({x:l.x+l.width/2,y:l.y}),h.push({x:l.x+l.width/2,y:l.y+l.height}),h.push({x:l.x,y:l.y+l.height/2}),h.push({x:l.x+l.width,y:l.y+l.height/2}),n||(h.push({x:l.x,y:l.y}),h.push({x:l.x+l.width,y:l.y}),h.push({x:l.x+l.width,y:l.y+l.height}),h.push({x:l.x,y:l.y+l.height}));for(var h=(h=h.sort(function(e,t){return oe.jqx._ptdist(e.x,e.y,i,r)-oe.jqx._ptdist(t.x,t.y,i,r)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))}),d=0;d<h.length;d++)h[d].x=oe.jqx._ptrnd(h[d].x),h[d].y=oe.jqx._ptrnd(h[d].y);a=h[0].x,l=h[0].y,n=n?"M "+a+","+l+" L"+t+","+l+" L"+t+","+s:"M "+a+","+l+" L"+t+","+s;return e?this.renderer.attr(e,{d:n}):e=this.renderer.path(n,{}),this.renderer.attr(e,{fill:"none",stroke:o.lineColor,"stroke-width":o.stroke,"stroke-opacity":o.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,r,s,a,n,o){var l,h,d,u,f=s*Math.PI*2/360,c=oe.jqx._ptrnd(e+r*Math.cos(f)),g=oe.jqx._ptrnd(t-r*Math.sin(f));return o?(o=i.width,l=i.height,h=Math.atan(l/o)%(2*Math.PI),u=0,(d=f%(2*Math.PI))<=h?u=o/2*Math.cos(f):h<=d&&d<Math.PI-h?u=l/2*Math.sin(f):d>=Math.PI-h&&d<Math.PI+h?u=o/2*Math.cos(f):d>=Math.PI+h&&d<2*Math.PI-h?u=l/2*Math.sin(f):d>=2*Math.PI-h&&d<2*Math.PI&&(u=o/2*Math.cos(f)),r+=Math.abs(u)+3,c=oe.jqx._ptrnd(e+r*Math.cos(f)),g=oe.jqx._ptrnd(t-r*Math.sin(f)),{x:c-=i.width/2,y:g-=i.height/2}):(a?(c-=i.width/2,g-=i.height/2):n?90<=s&&s<270?(g-=i.height/2,c-=i.width):g-=i.height/2:0<=s&&s<45||315<=s&&s<360?g-=i.height/2:45<=s&&s<135?(g-=i.height,c-=i.width/2):135<=s&&s<225?(g-=i.height/2,c-=i.width):225<=s&&s<315&&(c-=i.width/2),{x:c,y:g})},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){for(var t=0,i=(e=e||"vertical",this.seriesGroups),r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return t=this.columnSeriesOverlap?1:t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;r<e;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(e,t,i){var r=i?this._getXAxis(e):this._getValueAxis(e),s=this.seriesGroups[e],a=i?void 0:s.bands;if(!a){for(var n=0;n<e;n++)if((i?this._getXAxis(n):this._getValueAxis(n))==r)return;a=r.bands}if(oe.isArray(a)){var o=t,l="horizontal"==s.orientation;l&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o);for(n=0;n<a.length;n++){var h=a[n],d=this._get([h.minValue,h.from]),u=this._get([h.maxValue,h.to]),f=i?this.getXAxisDataPointOffset(d,e):this.getValueAxisDataPointOffset(d,e),c=i?this.getXAxisDataPointOffset(u,e):this.getValueAxisDataPointOffset(u,e);if(!isNaN(f)&&!isNaN(c)){var g=Math.abs(f-c);if(s.polar||s.spider){var p=this._renderData[e],x=p.polarCoords;if(i)var m=s.spider?(d=this.getPolarDataPointOffset(d,this._stats.seriesGroups[e].max,e),u=this.getPolarDataPointOffset(u,this._stats.seriesGroups[e].max,e),M="M "+x.x+","+x.y,M=(M+=" L "+d.x+","+d.y)+" L "+u.x+","+u.y,this.renderer.path(M)):(d={},u={x:Math.min(f,c),y:t.y,width:g,height:t.height},this._columnAsPieSlice(d,t,x,u),d.element);else{var u=this._toPolarCoord(x,t,t.x,p.baseOffset),d=this._toPolarCoord(x,t,t.x,f),_=this._toPolarCoord(x,t,t.x,c),d=oe.jqx._ptdist(u.x,u.y,d.x,d.y),u=oe.jqx._ptdist(u.x,u.y,_.x,_.y),_=Math.round(360*-x.startAngle/(2*Math.PI)),y=Math.round(360*-x.endAngle/(2*Math.PI));if(y<_&&(q=_,_=y,y=q),s.spider){var v,b=p.xAxis.offsetAngles,M="",N=[u,d],w=b;for(v in x.isClosedCircle&&(w=oe.extend([],b)).push(w[0]),N){for(var A=0;A<w.length;A++){var S=0==v?A:b.length-A-1,C=x.x+N[v]*Math.cos(w[S]),j=x.y+N[v]*Math.sin(w[S]);M=(M+=""==M?"M ":" L")+(oe.jqx._ptrnd(C)+","+oe.jqx._ptrnd(j))}0==v&&(C=x.x+N[1]*Math.cos(w[S]),j=x.y+N[1]*Math.sin(w[S]),M+=" L"+oe.jqx._ptrnd(C)+","+oe.jqx._ptrnd(j))}M+=" Z",m=this.renderer.path(M)}else m=this.renderer.pieslice(x.x,x.y,d,u,_,y)}}else{var q,p={x:Math.min(f,c),y:o.y,width:g,height:o.height};i||(p={x:o.x,y:Math.min(f,c),width:o.width,height:g}),l&&(q=p.x,p.x=p.y,p.y=q,q=p.width,p.width=p.height,p.height=q),m=0==g||1==g?this.renderer.line(oe.jqx._ptrnd(p.x),oe.jqx._ptrnd(p.y),oe.jqx._ptrnd(p.x+(l?0:p.width)),oe.jqx._ptrnd(p.y+(l?p.height:0))):this.renderer.rect(p.x,p.y,p.width,p.height)}d=h.fillColor||h.color||"#AAAAAA",u=h.lineColor||d,_=h.lineWidth,y=(isNaN(_)&&(_=1),h.opacity);(isNaN(y)||y<0||1<y)&&(y=1),this.renderer.attr(m,{fill:d,"fill-opacity":y,stroke:u,"stroke-opacity":y,"stroke-width":_,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var e=this.seriesGroups[e],r=-1!=e.type.indexOf("stacked"),s=(r||e.series.length,this._getColumnGroupsCount(e.orientation)),a=(!isNaN(s)&&0!=s||(s=1),1<=t.rangeLength?t.itemWidth:.9*i),n=e.columnsMinWidth,i=(isNaN(n)&&(n=1),a<(n=isNaN(e.columnsMaxWidth)?n:Math.min(e.columnsMaxWidth,n))&&0<t.length&&(a=Math.max(a,.9*i/t.length)),n),n=(r||(t=e.seriesGapPercent,(isNaN(t)||t<0)&&(t=10),r=n,i+=e.series.length*(r*=1+(t/=100))),Math.max(a/s,i));return{requiredWidth:i,availableWidth:a,targetWidth:n}},_getColumnSerieWidthAndOffset:function(e,t){var i,r,s,a,n=this.seriesGroups[e],o=(n.series[t],"horizontal"==n.orientation),l=this._plotRect,h=(o&&(l={x:l.y,y:l.x,width:l.height,height:l.width}),this._calcGroupOffsets(e,l));if(h&&0!=h.xoffsets.length)return i=this._getColumnGroupsCount(n.orientation),"candlestick"!=n.type&&"ohlc"!=n.type||(i=1),r=this._getColumnGroupIndex(e),e=this._getColumnGroupWidth(e,h.xoffsets,o?l.height:l.width),h=0,o=e.targetWidth,(1==this.columnSeriesOverlap||Math.round(o)>Math.round(e.availableWidth/i))&&(i=1,r=0),h=h-o*i/2+o*r,l=n.columnsGapPercent,l<=0&&(l=0),(isNaN(l)||100<=l)&&(l=25),i=o*(l/=100),i+e.requiredWidth>e.targetWidth&&(i=Math.max(0,e.targetWidth-e.requiredWidth)),o-=i=Math.round(o)>Math.round(e.availableWidth)?0:i,h+=i/2,r=n.seriesGapPercent,(isNaN(r)||r<0)&&(r=10),l=-1!=n.type.indexOf("stacked"),e=o,l||(e/=n.series.length),i=this._get([n.seriesGap,o*r/100/(n.series.length-1)]),r=(i=1==n.polar||1==n.spider||l||n.series.length<=1?0:i)*(n.series.length-1),1<n.series.length&&r>o-+n.series.length&&(i=(r=o-+n.series.length)/Math.max(1,n.series.length-1)),e-=r/n.series.length,s=0,a=n.columnsMaxWidth,isNaN(a)||a<e&&(s=e-a,e=a),{width:e,offset:h+(l?s/2:(o-e*n.series.length-r)/2+e*t+Math.max(0,t)*i)}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var r="horizontal"==i.orientation,s=t,a=(r&&(s={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,s));if(a&&0!=a.xoffsets.length){for(var n,o={groupIndex:e,rect:t,vertical:!r,seriesCtx:[],renderData:a,polarAxisCoords:n=1!=i.polar&&1!=i.spider?n:this._getPolarAxisCoords(e,s)},l=(o.columnGroupWidth=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),this._getGroupGradientType(e)),h=0;h<i.series.length;h++){var d=i.series[h];if(!d.customDraw){d.dataField;var u=this._getAnimProps(e,h),f=u.enabled&&!this._isToggleRefresh&&a.xoffsets.length<100?u.duration:0,u=this._getColumnSerieWidthAndOffset(e,h),c=this._isSerieVisible(e,h),g=this._getSerieSettings(e,h),p=this._getColors(e,h,NaN,this._getGroupGradientType(e),4),x=[];if(oe.isFunction(d.colorFunction)&&!n)for(var m=a.xoffsets.first;m<=a.xoffsets.last;m++)x.push(this._getColors(e,h,m,l,4));d={seriesIndex:h,serieColors:p,itemsColors:x,settings:g,columnWidth:u.width,xAdjust:u.offset,isVisible:c};o.seriesCtx.push(d)}}this._animColumns(o,0==f?1:0);var _=this;this._enqueueAnimation("series",void 0,void 0,f,function(e,t,i){_._animColumns(t,i)},o)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(r)&&!isNaN(e)&&r<e&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){for(var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100),h=(0==o&&0==l&&(l=100),this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100),d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,u=[],f=NaN,c=0;c<i.length;c++){var g,p=(b=i[c]).seriesIndex,x=(n.series[p],e.offsets[p][r].from),m=e.offsets[p][r].to,_=e.xoffsets.data[r],y=b.isVisible,v=(y||(m=x),this._elementRenderInfo),v=(y&&v&&v.length>t&&v[t].series.length>p&&(y=e.xoffsets.xvalues[r],!(g=v[t].series[p][y])||isNaN(g.from)||isNaN(g.to)||(x=g.from+(x-g.from)*a,m=g.to+(m-g.to)*a,_=g.xoffset+(_-g.xoffset)*a)),g||(m=x+(m-x)*(s?1:a)),isNaN(x)&&(x=isNaN(f)?e.baseOffset:f),f=!isNaN(m)&&s?m:x,{from:x,to:m=isNaN(m)?x:m,xOffset:_});100==o&&100==l||(v.funnel=!0,v.toWidthPercent=o,v.fromWidthPercent=l),u.push(v)}if(s&&1<u.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var b,M=0,N=0,w=-1/0,A=1/0,S=1/0,C=-1/0,j=0;j<u.length;j++)(b=i[j]).isVisible&&(u[j].to>=u[j].from?(N+=u[j].to-u[j].from,S=Math.min(S,u[j].from),C=Math.max(C,u[j].to)):(M+=u[j].from-u[j].to,w=Math.max(w,u[j].from),A=Math.min(A,u[j].to)));for(var q,T=M,k=N,D=(M*=a,N*=a,0),P=0,j=0;j<u.length;j++)u[j].to>=u[j].from?(N<(q=u[j].to-u[j].from)+P&&(q=Math.max(0,N-P),u[j].to=u[j].from+q),100==o&&100==l||(u[j].funnel=!0,!isNaN(h)&&P<=k*h?u[j].fromWidthPercent=100*d:u[j].fromWidthPercent=Math.abs(u[j].from-S)/k*(o-l)+l,!isNaN(h)&&0+(P+q)<=k*h?u[j].toWidthPercent=100*d:u[j].toWidthPercent=Math.abs(u[j].to-S)/k*(o-l)+l),P+=q):(M<(q=u[j].from-u[j].to)+D&&(q=Math.max(0,M-D),u[j].to=u[j].from-q),100==o&&100==l||(u[j].funnel=!0,!isNaN(h)&&D<=T*h?u[j].fromWidthPercent=100*d:u[j].fromWidthPercent=Math.abs(u[j].from-w)/T*(o-l)+l,!isNaN(h)&&0+(D+q)<=T*h?u[j].toWidthPercent=100*d:u[j].toWidthPercent=Math.abs(u[j].to-w)/T*(o-l)+l),D+=q)}return u},_columnAsPieSlice:function(e,t,i,r){var s=this._toPolarCoord(i,t,r.x,r.y),a=this._toPolarCoord(i,t,r.x,r.y+r.height),a=oe.jqx._ptdist(i.x,i.y,a.x,a.y),s=oe.jqx._ptdist(i.x,i.y,s.x,s.y),n=t.width,o=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,l=-(r.x-t.x)*o/n,r=-(r.x+r.width-t.x)*o/n;return l-=t=360*i.startAngle/(2*Math.PI),r-=t,e&&(null!=e.element?(o=this.renderer.pieSlicePath(i.x,i.y,a,s,r,l,0),this.renderer.attr(e.element,{d:o+=" Z"})):e.element=this.renderer.pieslice(i.x,i.y,a,s,r,l,0)),{fromAngle:r,toAngle:l,innerRadius:a,outerRadius:s}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,r=this.seriesGroups[i],s=e.renderData,a=-1!=r.type.indexOf("waterfall"),O=this._getXAxis(i),n=-1!=r.type.indexOf("stacked"),o=e.polarAxisCoords,R=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),l=0;l<r.series.length;l++)if(this._isSerieVisible(i,l)){R=l;break}for(var h=NaN,d=NaN,l=0;l<e.seriesCtx.length;l++){var u=e.seriesCtx[l];(isNaN(h)||h>u.xAdjust)&&(h=u.xAdjust),(isNaN(d)||d<u.xAdjust+u.columnWidth)&&(d=u.xAdjust+u.columnWidth)}for(var L=Math.abs(d-h),f=this._get([r.columnsGapPercent,25])/100,G=(f=isNaN(f)<0||1<=f?.25:f)*L,c=e.renderData.xoffsets,E=-1,V={},H=1==r.skipOverlappingPoints,g=c.first;g<=c.last;g++){var p=c.data[g];if(!isNaN(p)&&!(-1!=E&&Math.abs(p-E)<L-1+G&&H)){var E=p,x=this._getColumnVOffsets(s,i,e.seriesCtx,g,n,t),B=!1;if(a)for(var m=0;m<r.series.length;m++)r.series[m].summary&&c.xvalues[g][r.series[m].summary]&&(B=!0);for(m=0;m<e.seriesCtx.length;m++){var _,y,v,b,M,N,w,A,S,C=(u=e.seriesCtx[m]).seriesIndex,j=r.series[C],q=x[m].from,T=x[m].to,k=x[m].xOffset,D=(e.vertical?e.rect.x:e.rect.y)+u.xAdjust,P=u.settings,F=0!=u.itemsColors.length?u.itemsColors[g-s.xoffsets.first]:u.serieColors,I=this._isSerieVisible(i,C);I&&(D={x:p=oe.jqx._ptrnd(D+k),width:u.columnWidth},x[m].funnel&&(D.fromWidthPercent=x[m].fromWidthPercent,D.toWidthPercent=x[m].toWidthPercent),k=!0,e.vertical?(D.y=q,D.height=T-q,D.height<0&&(D.y+=D.height,D.height=-D.height,k=!1)):(D.x=q<T?q:T,D.width=Math.abs(q-T),k=q-T<0,D.y=p,D.height=u.columnWidth),q=q-T,isNaN(q)||(q=Math.abs(q),y=void 0,M=null==(v=(_=this._getRenderInfo(i,C,g)).element),(S=_.labelElement)&&(this.renderer.removeElement(S),S=void 0),o?(y=this._columnAsPieSlice(b={element:v},e.rect,o,D),v=b.element,F=this._getColors(i,C,void 0,"radialGradient",y.outerRadius)):x[m].funnel?(b=this._getTrapezoidPath(oe.extend({},D),e.vertical,k),M?v=this.renderer.path(b,{}):this.renderer.attr(v,{d:b})):M?v=this.renderer.rect(D.x,D.y,e.vertical?D.width:0,e.vertical?0:D.height):1==e.vertical?this.renderer.attr(v,{x:D.x,y:D.y,height:q}):this.renderer.attr(v,{x:D.x,y:D.y,width:q}),q<1&&(1!=t||o)?this.renderer.attr(v,{display:"none"}):this.renderer.attr(v,{display:"block"}),M&&this.renderer.attr(v,{fill:F.fillColor,"fill-opacity":P.opacity,"stroke-opacity":P.opacity,stroke:F.lineColor,"stroke-width":P.stroke,"stroke-dasharray":P.dashStyle}),S&&this.renderer.removeElement(S),!I||0==q&&t<1?this._setRenderInfo(i,C,g,_={element:v,labelElement:S}):(a&&0!=this._get([j.showWaterfallLines,r.showWaterfallLines])&&(n&&m!=R||(M=n?-1:m,1!=t||isNaN(s.offsets[m][g].from)||isNaN(s.offsets[m][g].to)||null!=(I=V[M])&&(M={x:p,y:(j={x:I.x,y:oe.jqx._ptrnd(I.y)}).y},A=r.columnsTopWidthPercent/100,(isNaN(A)||1<A||A<0)&&(A=1),w=r.columnsBottomWidthPercent/100,(isNaN(w)||1<w||w<0)&&(w=1),N=e.vertical?D.width:D.height,j.x=j.x-N/2+N/2*A,A=B?N*A/2:N*w/2,M.x=M.x+N/2-(O.flip?-A:A),e.vertical||(this._swapXY([j]),this._swapXY([M])),this.renderer.line(j.x,j.y,M.x,M.y,{stroke:I.color,"stroke-width":P.stroke,"stroke-opacity":P.opacity,"fill-opacity":P.opacity,"stroke-dasharray":P.dashStyle}))),1==t&&0!=q&&(V[n?-1:m]={y:T,x:e.vertical?D.x+D.width:D.y+D.height,color:F.lineColor})),S=o?(this._toPolarCoord(o,e.rect,D.x+D.width/2,D.y),N=this._showLabel(i,C,g,D,void 0,void 0,!0),w=y.outerRadius+10,A=this._adjustTextBoxPosition(o.x,o.y,N,w,(y.fromAngle+y.toAngle)/2,!0,!1,!1),this._showLabel(i,C,g,{x:A.x,y:A.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,C,g,D,void 0,void 0,!1,!1,k),this._setRenderInfo(i,C,g,_={element:v,labelElement:S}),1==t&&this._installHandlers(v,"column",i,C,g))))}}}},_getTrapezoidPath:function(e,t,i){var r="",s=e.fromWidthPercent/100,a=e.toWidthPercent/100,n=(t||(n=e.width,e.width=e.height,e.height=n,n=e.x,e.x=e.y,e.y=n),e.x+e.width/2),o=[{x:n-e.width*(i?a:s)/2,y:e.y+e.height},{x:n-e.width*(i?s:a)/2,y:e.y},{x:n+e.width*(i?s:a)/2,y:e.y},{x:n+e.width*(i?a:s)/2,y:e.y+e.height}];t||this._swapXY(o),r+="M "+oe.jqx._ptrnd(o[0].x)+","+oe.jqx._ptrnd(o[0].y);for(var l=1;l<o.length;l++)r+=" L "+oe.jqx._ptrnd(o[l].x)+","+oe.jqx._ptrnd(o[l].y);return r+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var r=this,s=r.seriesGroups[e];if(s.series&&0!=s.series.length){var a="horizontal"==s.orientation,n=t,o=(a&&(n={x:t.y,y:t.x,width:t.height,height:t.width}),r._calcGroupOffsets(e,n));if(o&&0!=o.xoffsets.length){n.width,(s.polar||s.spider)&&(l=r._getPolarAxisCoords(e,n)).r,r._alignValuesWithTicks(e);for(var l,h=r._getGroupGradientType(e),d=[],u=0;u<s.series.length;u++)d[u]=r._getColumnSerieWidthAndOffset(e,u);for(var f,c,g,u=0;u<s.series.length;u++)this._isSerieVisible(e,u)&&(c=r._getSerieSettings(e,u),(f=s.series[u]).customDraw||(g=oe.isFunction(f.colorFunction)?void 0:r._getColors(e,u,NaN,h),f={rect:t,inverse:a,groupIndex:e,seriesIndex:u,symbolType:f.symbolType,symbolSize:f.symbolSize,"fill-opacity":c.opacity,"stroke-opacity":c.opacity,"stroke-width":c.stroke,"stroke-dasharray":c.dashStyle,gradientType:h,colors:g,renderData:o,polarAxisCoords:l,columnsInfo:d,isOHLC:i,items:[],self:r},g=(c=r._getAnimProps(e,u)).enabled&&!r._isToggleRefresh&&o.xoffsets.length<5e3?c.duration:0,r._animCandleStick(f,0),r._enqueueAnimation("series",void 0,void 0,g,function(e,t,i){r._animCandleStick(t,i)},f)))}}},_animCandleStick:function(e,t){for(var i=["Open","Low","Close","High"],r=e.columnsInfo[e.seriesIndex].width,s=e.self.seriesGroups[e.groupIndex],a=e.renderData.xoffsets,n=-1,o=Math.abs(a.data[a.last]-a.data[a.first]),l=(o*=t,NaN),h=NaN,d=0;d<e.columnsInfo.length;d++){var u=e.columnsInfo[d];(isNaN(l)||l>u.offset)&&(l=u.offset),(isNaN(h)||h<u.offset+u.width)&&(h=u.offset+u.width)}for(var f=Math.abs(h-l),c=0!=s.skipOverlappingPoints,g=a.first;g<=a.last;g++){var p=a.data[g];if(!isNaN(p)&&!(-1!=n&&Math.abs(p-n)<f&&c)){if(o<Math.abs(a.data[g]-a.data[a.first]))break;var x,n=p,m=e.items[g]=e.items[g]||{};for(d in i){var _=e.self._getDataValueAsNumber(g,s.series[e.seriesIndex]["dataField"+i[d]],e.groupIndex);if(isNaN(_))break;var y=e.renderData.offsets[e.seriesIndex][g][i[d]];if(isNaN(y))break;m[i[d]]=y}for(x in p+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(p=(N=this._toPolarCoord(e.polarAxisCoords,this._plotRect,p,y)).x,y=N.y),p=oe.jqx._ptrnd(p),i)m[x]=oe.jqx._ptrnd(m[x]);var v,b,M,N=(N=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,g,e.gradientType);e.isOHLC?(b="M"+p+","+m.Low+" L"+p+","+m.High+" M"+(p-r/2)+","+m.Open+" L"+p+","+m.Open+" M"+(p+r/2)+","+m.Close+" L"+p+","+m.Close,e.inverse&&(b="M"+m.Low+","+p+" L"+m.High+","+p+" M"+m.Open+","+(p-r/2)+" L"+m.Open+","+p+" M"+m.Close+","+p+" L"+m.Close+","+(p+r/2)),(v=m.lineElement)||(v=this.renderer.path(b,{}),this.renderer.attr(v,{fill:N.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:N.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.lineElement=v),1==t&&this._installHandlers(v,"column",e.groupIndex,e.seriesIndex,g)):((v=m.lineElement)||(v=e.inverse?this.renderer.line(m.Low,p,m.High,p):this.renderer.line(p,m.Low,p,m.High),this.renderer.attr(v,{fill:N.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:N.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.lineElement=v),p-=r/2,(b=m.stickElement)||(M=N.fillColor,m.Close<=m.Open&&N.fillColorAlt&&(M=N.fillColorAlt),b=e.inverse?this.renderer.rect(Math.min(m.Open,m.Close),p,Math.abs(m.Close-m.Open),r):this.renderer.rect(p,Math.min(m.Open,m.Close),r,Math.abs(m.Close-m.Open)),this.renderer.attr(b,{fill:M,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:N.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.stickElement=b),1==t&&this._installHandlers(b,"column",e.groupIndex,e.seriesIndex,g))}}},_renderScatterSeries:function(e,t,i){var r=this.seriesGroups[e];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("bubble"),a="horizontal"==r.orientation,n=t,o=(a&&(n={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,n));if(o&&0!=o.xoffsets.length){var l,h=n.width,d=((r.polar||r.spider)&&(h=2*(l=this._getPolarAxisCoords(e,n)).r),this._alignValuesWithTicks(e),this._getGroupGradientType(e));i=i||"to";for(var u=0;u<r.series.length;u++){var f=this._getSerieSettings(e,u),c=r.series[u];if(!c.customDraw){var g=c.dataField,p=oe.isFunction(c.colorFunction),x=this._getColors(e,u,NaN,d),m=NaN,_=NaN;if(s)for(var y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"!=typeof(S=this._getDataValueAsNumber(y,c.radiusDataField||c.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(S)||((isNaN(m)||S<m)&&(m=S),(isNaN(_)||_<S)&&(_=S))}for(var v=c.minRadius||c.minSymbolSize,b=(isNaN(v)&&(v=h/50),c.maxRadius||c.maxSymbolSize),M=((b=isNaN(b)?h/25:b)<v&&(b=v),c.radius),M=isNaN(M)&&!isNaN(c.symbolSize)?"circle"==c.symbolType?c.symbolSize/2:c.symbolSize:5,N=this._getAnimProps(e,u),N=N.enabled&&!this._isToggleRefresh&&o.xoffsets.length<5e3?N.duration:0,w={groupIndex:e,seriesIndex:u,symbolType:c.symbolType,symbolSize:c.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-width-symbol":f.strokeSymbol,"stroke-dasharray":f.dashStyle,items:[],polarAxisCoords:l},A=void 0,y=o.xoffsets.first;y<=o.xoffsets.last;y++){var S=this._getDataValueAsNumber(y,g,e);if("number"==typeof S){var C=o.xoffsets.data[y],j=o.xoffsets.xvalues[y],q=o.offsets[u][y][i];if(!(q<n.y||q>n.y+n.height))if(!isNaN(C)&&!isNaN(q))if(a?(D=C,C=q,q=D+t.y):C+=t.x,!(!p&&A&&this.enableSampling&&oe.jqx._ptdist(A.x,A.y,C,q)<1)){var A={x:C,y:q},T=M;if(s){var k=this._getDataValueAsNumber(y,c.radiusDataField||c.sizeDataField,e);if("number"!=typeof k)continue;T=v+(b-v)*(k-m)/Math.max(1,_-m),isNaN(T)&&(T=v)}o.offsets[u][y].radius=T;var D,k=NaN,P=NaN,F=0,I=this._elementRenderInfo;null!=j&&I&&I.length>e&&I[e].series.length>u&&((I=I[e].series[u][j])&&!isNaN(I.to)&&(k=I.to,P=I.xoffset,F=M,a?(D=P,P=k,k=D+t.y):P+=t.x,s&&(F=v+(b-v)*(I.valueRadius-m)/Math.max(1,_-m),isNaN(F)&&(F=v)))),p&&(x=this._getColors(e,u,y,d)),w.items.push({from:F,to:T,itemIndex:y,fill:x.fillColor,stroke:x.lineColor,x:C,y:q,xFrom:P,yFrom:k})}}}this._animR(w,0);var O=this;this._enqueueAnimation("series",void 0,void 0,N,function(e,t,i){O._animR(t,i)},w)}}}}},_animR:function(e,t){for(var i=e.items,r=e.symbolType||"circle",s=e.symbolSize,a=0;a<i.length;a++){var n=i[a],o=n.x,l=n.y,h=Math.round((n.to-n.from)*t+n.from),d=(isNaN(n.yFrom)||(l=n.yFrom+(l-n.yFrom)*t),isNaN(n.xFrom)||(o=n.xFrom+(o-n.xFrom)*t),e.polarAxisCoords&&(o=(d=this._toPolarCoord(e.polarAxisCoords,this._plotRect,o,l)).x,l=d.y),o=oe.jqx._ptrnd(o),l=oe.jqx._ptrnd(l),h=oe.jqx._ptrnd(h),this._getRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex)),u=d.element,f=d.labelElement;"circle"==r?(u||(u=this.renderer.circle(o,l,h),this.renderer.attr(u,{fill:n.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:n.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(u,void 0,void 0,h):this.renderer.attr(u,{r:h,cy:l,cx:o})):(u&&this.renderer.removeElement(u),u=this._drawSymbol(r,o,l,n.fill,e["fill-opacity"],n.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],s||h)),f&&this.renderer.removeElement(f),f=this._showLabel(e.groupIndex,e.seriesIndex,n.itemIndex,{x:o-h,y:l-h,width:2*h,height:2*h}),1<=t&&this._installHandlers(u,"circle",e.groupIndex,e.seriesIndex,n.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex,{element:u,labelElement:f})}},_showMultiSeriesToolTip:function(e,t,i){for(var r=this,s='<div style="text-align:left">',a="",n=0;n<r.seriesGroups.length;n++)if(!r._isPieGroup(n)){var o=r._getXAxis(n),l=r._getValueAxis(n),h=r.seriesGroups[n],d=this._getAxisSettings(o),u=d.toolTipFormatSettings,d=d.toolTipFormatFunction,f=r._getDataValue(i,o.dataField,n),o=(null!=o.dataField&&""!=o.dataField||(f=i),"date"==o.type&&(f=r._castAsDate(f,(u?u.dateFormat:void 0)||o.dateFormat)),d||u||"date"!=o.type||(d=this._getDefaultDTFormatFn(o.baseUnit||"day")),o.displayText||o.dataField||""),o=(""!=o&&(o+=": "),o+r._formatValue(f,u,d,n,c,i));a!=o&&(""!=a&&(s+="<br />"),s+=o+"<br /><br />",a=o);for(var c=0;c<h.series.length;c++){var g,p=h.series[c];0!=h.showToolTips&&0!=p.showToolTips&&r._isSerieVisible(n,c)&&(g=r._get([p.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,r.toolTipFormatSettings]),p=r._get([p.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,r.toolTipFormatFunction]),g=r._getFormattedValue(n,c,i,g,p),s+="<span style='color:"+r._getColors(n,c,i).lineColor+";'>"+g+"</span><br />\n")}}var x=this._get([r.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),m=this._get([r.toolTipBackground,"#FFFFFF"]),_=this._get([r.toolTipLineColor,r._defaultLineColor]),y=this._get([r.toolTipOpacity,1]),v=(s+="</div>",this.getItemCoord(r._ttEl.gidx,r._ttEl.sidx,r._ttEl.iidx));r._createTooltip(v,r.seriesGroups[r._ttEl.gidx],s,{css:x,fill:m,stroke:_,fillOpacity:y,symbolSize:3})},_showToolTip:function(e,t,i,r,s){var a=this,n=a._getXAxis(i),o=a._getValueAxis(i);if(!a._ttEl||i!=a._ttEl.gidx||r!=a._ttEl.sidx||s!=a._ttEl.iidx){var l=a.seriesGroups[i],h=l.series[r],d=a.enableCrosshairs,u=(a._pointMarker?(e=parseInt(a._pointMarker.x+5),t=parseInt(a._pointMarker.y-5)):d=!1,d&&0==a.showToolTips);e=oe.jqx._ptrnd(e),t=oe.jqx._ptrnd(t),a._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){a._ttEl||(a._ttEl={}),a._ttEl.sidx=r,a._ttEl.gidx=i,a._ttEl.iidx=s;for(var f=0,c=0;c<a.seriesGroups.length;c++)for(var g=0;g<a.seriesGroups[c].series.length;g++)f++;if(a.showToolTipsOnAllSeries&&!a._isPieGroup(i)&&1<f)a._showMultiSeriesToolTip(e,t,s);else{var e=a._get([h.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings,a.toolTipFormatSettings]),t=a._get([h.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction,a.toolTipFormatFunction]),o=a._getColors(i,r,s),p=a._getDataValue(s,n.dataField,i),x=(null!=n.dataField&&""!=n.dataField||(p=s),"date"==n.type&&(p=a._castAsDate(p,(e?e.dateFormat:void 0)||n.dateFormat)),"");if(oe.isFunction(t)){var m,_={},y=0;for(m in h)0==m.indexOf("dataField")&&(_[m.substring(9,m.length).toLowerCase()]=a._getDataValue(s,h[m],i),y++);0==y?_=a._getDataValue(s,void 0,i):1==y&&(_=_[""]),x=t(_,s,h,l,p,n)}else{x=a._getFormattedValue(i,r,s,e,t);var e=this._getAxisSettings(n),t=e.toolTipFormatSettings,e=e.toolTipFormatFunction,v=(e||t||"date"!=n.type||(e=this._getDefaultDTFormatFn(n.baseUnit||"day")),a._formatValue(p,t,e,i,r,s));x=a._isPieGroup(i)?(p=a._getDataValue(s,h.displayText||h.dataField,i),(v=a._formatValue(p,t,e,i,r,s))+": "+x):0<(p=n.displayText||n.dataField||"").length?p+": "+v+"<br>"+x:v+"<br>"+x}a.renderer.getRect();if(d){var t=oe.jqx._ptrnd(a._pointMarker.x),e=oe.jqx._ptrnd(a._pointMarker.y),n=a.crosshairsColor||a._defaultLineColor;if(l.polar||l.spider){var p=this._getPolarAxisCoords(i,this._plotRect);if(oe.jqx._ptdist(t,e,p.x,p.y)>p.r)return;var v=Math.atan2(e-p.y,t-p.x),d=Math.cos(v)*p.r+p.x,v=Math.sin(v)*p.r+p.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:p.x,y1:p.y,x2:d,y2:v}):a._ttEl.vLine=a.renderer.line(p.x,p.y,d,v,{stroke:n,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:t,x2:t}),a.renderer.attr(a._ttEl.hLine,{y1:e,y2:e})):(a._ttEl.vLine=a.renderer.line(t,a._plotRect.y,t,a._plotRect.y+a._plotRect.height,{stroke:n,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,e,a._plotRect.x+a._plotRect.width,e,{stroke:n,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}u||0==a.showToolTips||(p=this._get([h.toolTipClass,l.toolTipClass,a.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),d=this._get([h.toolTipBackground,l.toolTipBackground,a.toolTipBackground,"#FFFFFF"]),v=this._get([h.toolTipLineColor,l.toolTipLineColor,a.toolTipLineColor,o.lineColor]),t=this._get([h.toolTipOpacity,l.toolTipOpacity,a.toolTipOpacity,1]),e=this.getItemCoord(i,r,s),n=0,a._pointMarker&&a._pointMarker.element&&(n=h.symbolSizeSelected,isNaN(n)&&(n=h.symbolSize),(isNaN(n)||50<n||n<0)&&(n=l.symbolSize),(isNaN(n)||50<n||n<0)&&(n=8)),a._createTooltip(e,l,x,{css:p,fill:d,stroke:v,fillOpacity:t,symbolSize:n}))}}}},_fitTooltip:function(e,t,i,r,s){var a,n={},s=2+s/2;if(t.x-i.width-7-s>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-s,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+s<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+s,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-s-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-s-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+s<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+s,width:i.width,height:i.height+7}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(e,t,i,r){var s,a,n,o=this,l=t.type,h=!1,d=o._ttEl.box;if(d||(h=!0,(d=o._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",oe(s).css({"z-index":1e7,"box-sizing":"content-box"}),oe(d).css({"z-index":1e7}),oe(document.body).append(d),(s=document.createElement("div")).id="arrowOuterDiv",s.style.width="0px",s.style.height="0px",s.style.position="absolute",oe(s).css({"z-index":1e7+1,"box-sizing":"content-box"}),(a=document.createElement("div")).id="arrowInnerDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",(n=document.createElement("div")).id="contentDiv",n.style.position="absolute",oe(n).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),oe(n).addClass("jqx-rc-all"),oe(n).appendTo(oe(d)),oe(s).appendTo(oe(d)),oe(a).appendTo(oe(d)),oe(a).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){n=oe(d).find("#contentDiv")[0],s=oe(d).find("#arrowOuterDiv")[0],(a=oe(d).find("#arrowInnerDiv")[0]).style.opacity=s.style.opacity=r.fillOpacity,n.style.backgroundColor=r.fill,n.style.borderColor=r.stroke,n.style.opacity=r.fillOpacity;var i="<span class='"+r.css+"'>"+i+"</span>",u=(oe(n).html(i),this._measureHtml(i,"jqx-rc-all jqx-button")),i=o._plotRect;if(!(u.width>i.width||u.height>i.height)){var f={width:u.width,height:u.height},c="",g=o._isColumnType(l),p=Math.max(e.x,i.x),x=Math.max(e.y,i.y),m=("dataPoint"==o.toolTipAlignment?(-1!=l.indexOf("pie")||-1!=l.indexOf("donut")?(l=(e.fromAngle+e.toAngle)/2,l*=Math.PI/180,v=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,p=e.x=e.center.x+Math.cos(l)*v,x=e.y=e.center.y-Math.sin(l)*v,e.width=e.height=1):g&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(l=this._fitTooltip(this._plotRect,e,f,t,r.symbolSize)).arrowLocation&&(c=l.arrowLocation,p=l.x,x=l.y,f.width=l.width,f.height=l.height)):c="","top"==c||"bottom"==c?(f.height+=7,p-=3.5,"bottom"==c&&(x-=7)):"left"!=c&&"right"!=c||(f.width+=7,x-=3.5,"right"==c&&(p-=7)),p+f.width>i.x+i.width&&(c="",p=i.x+i.width-f.width),x+f.height>i.y+i.height&&(c="",x=i.y+i.height-f.height),{x:0,y:0}),_=(oe(n).css({width:u.width,height:u.height,left:0,top:0}),s.style["margin-top"]=s.style["margin-left"]=0,a.style["margin-top"]=a.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0,"7px solid"),y="7px solid transparent";switch(c){case"left":m={x:0,y:(u.height-7)/2},n.style["margin-left"]="7px",s.style["margin-left"]="0px",s.style["margin-top"]=m.y+"px",s.style["border-left"]="",s.style["border-right"]=_+" "+r.stroke,s.style["border-top"]=y,s.style["border-bottom"]=y,a.style["margin-left"]="1px",a.style["margin-top"]=m.y+"px",a.style["border-left"]="",a.style["border-right"]=_+" "+r.fill,a.style["border-top"]=y,a.style["border-bottom"]=y;break;case"right":m={x:f.width-7,y:(u.height-7)/2},s.style["margin-left"]=m.x+"px",s.style["margin-top"]=m.y+"px",s.style["border-left"]=_+" "+r.stroke,s.style["border-right"]="",s.style["border-top"]=y,s.style["border-bottom"]=y,a.style["margin-left"]=m.x-1+"px",a.style["margin-top"]=m.y+"px",a.style["border-left"]=_+" "+r.fill,a.style["border-right"]="",a.style["border-top"]=y,a.style["border-bottom"]=y;break;case"top":m={x:f.width/2-3.5,y:0},n.style["margin-top"]={x:0,y:7}.y+"px",s.style["margin-left"]=m.x+"px",s.style["border-top"]="",s.style["border-bottom"]=_+" "+r.stroke,s.style["border-left"]=y,s.style["border-right"]=y,a.style["margin-left"]=m.x+"px",a.style["margin-top"]="1px",a.style["border-top"]="",a.style["border-bottom"]=_+" "+r.fill,a.style["border-left"]=y,a.style["border-right"]=y;break;case"bottom":m={x:f.width/2-3.5,y:f.height-7},s.style["margin-left"]=m.x+"px",s.style["margin-top"]=m.y+"px",s.style["border-top"]=_+" "+r.stroke,s.style["border-bottom"]="",s.style["border-left"]=y,s.style["border-right"]=y,a.style["margin-left"]=m.x+"px",a.style["margin-top"]=m.y-1+"px",a.style["border-top"]=_+" "+r.fill,a.style["border-bottom"]="",a.style["border-left"]=y,a.style["border-right"]=y}""==c?(oe(s).hide(),oe(a).hide()):(oe(s).show(),oe(a).show()),oe(d).css({width:f.width+"px",height:f.height+"px"});var v=o.host.coord();h&&(oe(d).fadeOut(0,0),d.style.left=p+v.left+"px",d.style.top=x+v.top+"px"),oe(d).clearQueue(),oe(d).animate({left:p+v.left,top:x+v.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),oe(d).fadeTo(400,1)}}else oe(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv,t=(i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",oe(i).addClass(t),this.host.append(i)),oe(i).html(e),{width:oe(i).width()+2,height:oe(i).height()+2});return oe.jqx.browser&&oe.jqx.browser.mozilla&&(t.height+=3),t},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?oe(this._ttEl.box).hide():oe(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return oe.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},i={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},r=e.tickMarks||{},r={visible:this._get([r.visible,e.showTickMarks,!0]),color:t._get([r.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([r.unitInterval,r.interval,e.tickMarksInterval]),step:t._get([r.step,e.tickMarksStep]),dashStyle:t._get([r.dashStyle,e.tickMarksDashStyle]),width:t._get([r.lineWidth,1]),size:t._get([r.size,4]),offsets:[]},s=e.title||{},s={visible:t._get([s.visible,!0]),text:t._get([e.description,s.text]),style:t._get([e.descriptionClass,s.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,s.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,s.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([s.rotationPoint,"centercenter"]),offset:t._get([s.offset,{x:0,y:0}])},a=e.line||{},t={visible:t._get([a.visible,!0]),color:t._get([a.color,i.color,t._defaultLineColor]),dashStyle:t._get([a.dashStyle,i.dashStyle,""]),width:t._get([a.lineWidth,1]),angle:t._get([a.angle,NaN])},a={left:(a=e.padding||{}).left||0,right:a.right||0,top:a.top||0,bottom:a.bottom||0},n=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:i,tickMarks:r,line:t,title:s,labels:n,padding:a,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,n.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,n.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,r){for(var s=this.seriesGroups[e],a=s.series[t],n=isNaN(i)?void 0:this._getDataValue(i,a.dataField,e),o=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},h=0;h<o.length;h++){var d=o[h],u="labels"+d,f="label"+d,d=d.substring(0,1).toLowerCase()+d.substring(1),c=void 0;s.labels&&"object"==typeof s.labels&&(c=s.labels[d]),a.labels&&"object"==typeof a.labels&&null!=a.labels[d]&&(c=a.labels[d]),c=this._get([a[u],a[f],c,s[u],s[f]]),oe.isFunction(c)?l[d]=c(n,i,a,s):l[d]=c}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,a.showLabels,s.showLabels,null!=a.labels||void 0,null!=s.labels||void 0]);t=l.padding||1;return l.padding={left:this._get([t.left,isNaN(t)?1:t]),right:this._get([t.right,isNaN(t)?1:t]),top:this._get([t.top,isNaN(t)?1:t]),bottom:this._get([t.bottom,isNaN(t)?1:t])},l},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){this.seriesGroups[e].series[t];var u={width:0,height:0};if(!isNaN(i)){var f=this._getLabelsSettings(e,t,i);if(!f.visible)return n?u:void 0;if(r.width<0||r.height<0)return n?u:void 0;var c=f.angle,h=(isNaN(h)||(c=h),f.offset||{}),h={x:h.x,y:h.y},e=(isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0),s=s||f.horizontalAlignment||"center",a=a||f.verticalAlignment||"center",this._getFormattedValue(e,t,i,void 0,void 0,!0)),t=r.width,i=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",h.y*=-1),u=this.renderer.measureText(e,c,{class:f.class}),n)return u;o=0,l=0,n=(0<t&&(""==s||"center"==s?o+=(t-u.width)/2:"right"==s&&(o+=t-u.width)),0<i&&(""==a||"center"==a?l+=(i-u.height)/2:"bottom"==a&&(l+=i-u.height)),o+=r.x+h.x,l+=r.y+h.y,this._plotRect);o<=n.x&&(o=n.x+2),l<=n.y&&(l=n.y+2);var g,s=Math.max(u.width,1),t=Math.max(u.height,1),a=(l+t>=n.y+n.height&&(l=n.y+n.height-t-2),o+s>=n.x+n.width&&(o=n.x+n.width-s-2),f.backgroundColor),i=f.borderColor,h=f.padding,t=((a||i)&&(g=this.renderer.beginGroup(),r=this.renderer.rect(o-h.left,l-h.top,u.width+h.left+h.right,u.height+h.bottom+h.bottom,{fill:a||"transparent","fill-opacity":f.backgroundOpacity||1,stroke:i||"transparent","stroke-opacity":f.borderOpacity,"stroke-width":1})),this.renderer.text(e,o,l,u.width,u.height,c,{class:f.class,opacity:f.opacity||1},!1,"center","center"));return d&&(d.x=o-h.left,d.y=l-h.top,d.width=u.width+h.left+h.right,d.height=u.height+h.bottom+h.bottom),this._isVML&&(this.renderer.removeElement(t),this.renderer.getContainer()[0].appendChild(t)),g&&this.renderer.endGroup(),g||t}},_getAnimProps:function(e,t){var e=this.seriesGroups[e],t=isNaN(t)?void 0:e.series[t],i=1==this.enableAnimations,r=(e.enableAnimations&&(i=1==e.enableAnimations),t&&t.enableAnimations&&(i=1==t.enableAnimations),this.animationDuration),e=(isNaN(r)&&(r=1e3),e.animationDuration);return isNaN(e)||(r=e),t&&(e=t.animationDuration,isNaN(e)||(r=e)),{enabled:i,duration:r=5e3<r?1e3:r}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;i=this._getColors(e,t,r,this._getGroupGradientType(e)),t=this._getColors(e,t,r-1,this._getGroupGradientType(e));return i.fillColor!=t.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("stacked"),O=s&&-1!=i.type.indexOf("100"),a=-1!=i.type.indexOf("spline"),n=-1!=i.type.indexOf("step"),o=-1!=i.type.indexOf("range"),l=1==i.polar||1==i.spider;if(!(n=l?!1:n)||!a){this._getDataLen(e);t.width;var h="horizontal"==i.orientation,R=1==this._getXAxis(e).flip,d=t,u=(h&&(d={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,d));if(u&&0!=u.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var f=i.series.length-1;0<=f;f--){var c=this._getSerieSettings(e,f),g={groupIndex:e,rect:d,serieIndex:f,swapXY:h,isArea:r,isSpline:a,isRange:o,isPolar:l,settings:c,segments:[],pointsLength:0};if(this._isSerieVisible(e,f)){var p=i.series[f];if(!p.customDraw){var x=oe.isFunction(p.colorFunction),m=T=u.xoffsets.first,L=this._getColors(e,f,NaN,this._getGroupGradientType(e));do{var _=[],G=[],E=[],y=0,v=0,b=NaN,M=NaN,N=NaN;if(!(u.xoffsets.length<1)){for(var w,A,S,V,C=this._getAnimProps(e,f),H=C.enabled&&!this._isToggleRefresh&&u.xoffsets.length<1e4&&1!=this._isVML?C.duration:0,C=T,B=!1,j=(this._getColors(e,f,T,this._getGroupGradientType(e)),void 0),q=T;q<=u.xoffsets.last;q++){var T=q,k=u.xoffsets.data[q],D=u.xoffsets.xvalues[q];if(!isNaN(k)&&(y=k=Math.max(k,1),v=u.offsets[f][q].to,!(!x&&j&&this.enableSampling&&oe.jqx._ptdist(j.x,j.y,y,v)<1))){var j={x:y,y:v},P=u.offsets[f][q].from;if(isNaN(v)||isNaN(P)){if("connect"==p.emptyPointsDisplay)continue;if("zero"!=p.emptyPointsDisplay){B=!0;break}isNaN(v)&&(v=u.baseOffset),isNaN(P)&&(P=u.baseOffset)}if(x&&this._isColorTransition(e,f,u,T)&&1<_.length){T--;break}var F=this._elementRenderInfo;F&&F.length>e&&F[e].series.length>f&&(F=F[e].series[f][D],N=oe.jqx._ptrnd(F?F.to:void 0),D=oe.jqx._ptrnd(d.x+(F?F.xoffset:void 0)),E.push(h?{y:D,x:N,index:q}:{x:D,y:N,index:q})),m=q,c.stroke<2&&(v-d.y<=1&&(v=d.y+1),P-d.y<=1&&(P=d.y+1),d.y+d.height-v<=1&&(v=d.y+d.height-1),d.y+d.height-P<=1&&(P=d.y+d.height-1)),!r&&O&&((v=v<=d.y?d.y+1:v)>=d.y+d.height&&(v=d.y+d.height-1),(P=P<=d.y?d.y+1:P)>=d.y+d.height&&(P=d.y+d.height-1)),y=Math.max(k,1)+d.x,1==i.skipOverlappingPoints&&!isNaN(b)&&Math.abs(b-y)<=1||(!n||isNaN(b)||isNaN(M)||M!=v&&_.push(h?{y:y,x:oe.jqx._ptrnd(M)}:{x:y,y:oe.jqx._ptrnd(M)}),_.push(h?{y:y,x:oe.jqx._ptrnd(v),index:q}:{x:y,y:oe.jqx._ptrnd(v),index:q}),G.push(h?{y:y,x:oe.jqx._ptrnd(P),index:q}:{x:y,y:oe.jqx._ptrnd(P),index:q}),b=y,M=v,isNaN(N)&&(N=v))}}0==_.length?T++:(w=_[_.length-1].index,x&&(L=this._getColors(e,f,w,this._getGroupGradientType(e))),C=d.x+u.xoffsets.data[C],A=d.x+u.xoffsets.data[m],r&&1==i.alignEndPointsWithIntervals&&(C>d.x&&(C=d.x),A<d.x+d.width&&(A=d.x+d.width),R&&(S=C,C=A,A=S)),A=oe.jqx._ptrnd(A),C=oe.jqx._ptrnd(C),S=u.baseOffset,N=oe.jqx._ptrnd(N),V=oe.jqx._ptrnd(v)||S,o&&(_=_.concat(G.reverse())),g.pointsLength+=_.length,g.segments.push({lastItemIndex:w,colorSettings:L,pointsArray:_,pointsStart:E,left:C,right:A,pyStart:N,pyEnd:V,yBase:S,labelElements:[],symbolElements:[]}))}}while(T<u.xoffsets.first+u.xoffsets.length-1||B);this._linesRenderInfo[e][f]=g}}else this._linesRenderInfo[e][f]=g}var z=this._linesRenderInfo[e],I=[];for(q in z)I.push(z[q]);I=I.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&s&&I.reverse();for(q=0;q<I.length;q++){var g=I[q],W=(this._animateLine(g,0==H?1:0),this);this._enqueueAnimation("series",void 0,void 0,H,function(e,t,i){W._animateLine(t,i)},g)}}}}},_animateLine:function(e,t){for(var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0,d=(!e.isPolar||isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1),0==n.endPointsConnect&&(h=!1),0),u=0;u<e.segments.length;u++){var f=e.segments[u],c=this._calculateLine(r,e.pointsLength,d,f.pointsArray,f.pointsStart,f.yBase,t,e.isArea,e.swapXY);if(d+=f.pointsArray.length,""!=c){var g=c.split(" "),p=(g.length,""!=(p=c)?this._buildLineCmd(c,e.isRange,f.left,f.right,f.pyStart,f.pyEnd,f.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0"),c=f.colorSettings;if(f.pathElement?this.renderer.attr(f.pathElement,{d:p}):(f.pathElement=this.renderer.path(p,{"stroke-width":i.stroke,stroke:c.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?c.fillColor:"none"}),this._installHandlers(f.pathElement,"path",r,s,f.lastItemIndex)),f.labelElements){for(var x=0;x<f.labelElements.length;x++)this.renderer.removeElement(f.labelElements[x]);f.labelElements=[]}if(f.symbolElements){for(x=0;x<f.symbolElements.length;x++)this.renderer.removeElement(f.symbolElements[x]);f.symbolElements=[]}if(f.pointsArray.length==g.length&&("none"!=o||l))for(var m=n.symbolSize,_=this._plotRect,x=0;x<g.length;x++){var y,v,b=g[x].split(",");(b={x:parseFloat(b[0]),y:parseFloat(b[1])}).x<_.x||b.x>_.x+_.width||b.y<_.y||b.y>_.y+_.height||("none"!=o&&(y=this._getColors(r,s,f.pointsArray[x].index,this._getGroupGradientType(r)),y=this._drawSymbol(o,b.x,b.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,m),f.symbolElements.push(y)),l&&(y=(0<x?g[x-1]:g[x]).split(","),y={x:parseFloat(y[0]),y:parseFloat(y[1])},v=(x<g.length-1?g[x+1]:g[x]).split(","),v={x:parseFloat(v[0]),y:parseFloat(v[1])},(b=this._adjustLineLabelPosition(r,s,f.pointsArray[x].index,b,y,v))&&(v=this._showLabel(r,s,f.pointsArray[x].index,{x:b.x,y:b.y,width:0,height:0}),f.labelElements.push(v))))}if(1==t&&"none"!=o)for(x=0;x<f.symbolElements.length;x++)isNaN(f.pointsArray[x].index)||this._installHandlers(f.symbolElements[x],"symbol",r,s,f.pointsArray[x].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){e=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(e)return t={x:r.x-e.width/2,y:0},t.y=r.y-1.5*e.height,t},_calculateLine:function(e,t,i,r,s,a,n,o,l){for(var h,d=this.seriesGroups[e],u=(1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(e,this._plotRect)),""),f=r.length,c=(o||0!=s.length||(f=t*n-i),0);c<f+1&&c<r.length;c++){0<c&&(u+=" ");var g=r[c].y,p=r[c].x,x=o?a:g,m=p;s&&s.length>c&&(x=s[c].y,m=s[c].x,(isNaN(x)||isNaN(m))&&(x=g,m=p)),f<=r.length&&0<c&&c==f&&(m=r[c-1].x,x=r[c-1].y),g=l?(p=oe.jqx._ptrnd((p-x)*(o?n:1)+x),oe.jqx._ptrnd(g)):(p=oe.jqx._ptrnd((p-m)*n+m),oe.jqx._ptrnd((g-x)*n+x)),h&&(p=(m=this._toPolarCoord(h,this._plotRect,p,g)).x,g=m.y),u+=p+","+g}return u},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,u){var f=e,i=u?n+","+i:i+","+n,e=(!o||l||t||(f=i+" "+e+" "+(u?n+","+r:r+","+n)),(f=d?this._getBezierPoints(f):f).split(" "));if(0==e.length)return"";if(1==e.length)return u=e[0].split(","),"M "+e[0]+" L"+(parseFloat(u[0])+1)+","+(parseFloat(u[1])+1);r=e[0].replace("M","");return o&&!l?f=t?"M "+r+" L "+r+(d?"":" L "+r+" ")+f:"M "+i+" L "+r+" "+f:d||(f="M "+r+" L "+r+" "+f),(l&&h||t)&&(f+=" Z"),f},_getSerieSettings:function(e,t){var e=this.seriesGroups[e],i=-1!=e.type.indexOf("area"),r=-1!=e.type.indexOf("line"),t=e.series[t],s=t.dashStyle||e.dashStyle||"",a=t.opacity||e.opacity,n=((isNaN(a)||a<0||1<a)&&(a=1),t.lineWidth),e=(("auto"==(n=isNaN(n)&&"auto"!=n?e.lineWidth:n)||isNaN(n)||n<0||15<n)&&(n=i?2:r?3:1),t.lineWidthSymbol);return{stroke:n,strokeSymbol:e=isNaN(e)?1:e,opacity:a,dashStyle:s}},_getColors:function(e,t,i,r,s){var a=this.seriesGroups[e],n=a.series[t],n=this._get([n.useGradientColors,a.useGradientColors,a.useGradient,!0]),o=this._getSeriesColors(e,t,i),l=(o.fillColor||(o.fillColor=m,o.fillColorSelected=oe.jqx.adjustColor(m,1.1),o.fillColorAlt=oe.jqx.adjustColor(m,4),o.fillColorAltSelected=oe.jqx.adjustColor(m,3),o.lineColor=o.symbolColor=oe.jqx.adjustColor(m,.9),o.lineColorSelected=o.symbolColorSelected=oe.jqx.adjustColor(m,.9)),[[0,1.4],[100,1]]),h=[[0,1],[25,1.1],[50,1.4],[100,1]],d=NaN;if(isNaN(s)||(d=2==s?l:h),n){var u,f,c={};for(u in o)c[u]=o[u];if(o=c,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var g,p="verticalLinearGradient"==r?d||l:d||h,x=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(g in x){var m=o[x[g]];m&&(o[x[g]]=this.renderer._toLinearGradient(m,"verticalLinearGradient"==r,p))}}else"radialGradient"==r&&(d=l,("pie"==a.type||"donut"==a.type||a.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(f=this._renderData[e].offsets[t][i],d=[[0,1.3],[90,1.2],[100,1]]),o.fillColor=this.renderer._toRadialGradient(o.fillColor,d,f),o.fillColorSelected=this.renderer._toRadialGradient(o.fillColorSelected,d,f))}return o},_installHandlers:function(i,r,s,a,n){if(!this.enableEvents)return!1;var o=this,t=this.seriesGroups[s],l=this.seriesGroups[s].series[a],h=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");h||0==t.enableSelection||0==l.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i=o._selected;i&&i.isLineType&&"click"==i.linesUnselectMode&&(i.group!=s||i.series!=a)||(i=e.pageX||e.clientX||e.screenX,e=e.pageY||e.clientY||e.screenY,i-=(t=o.host.offset()).left,e-=t.top,o._mouseX==i&&o._mouseY==e||o._ttEl&&o._ttEl.gidx==s&&o._ttEl.sidx==a&&o._ttEl.iidx==n||o._startTooltipTimer(s,a,n))}),0!=t.enableSelection&&0!=l.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=o._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=s||t.series!=a)||o._select(i,r,s,a,n,n)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(o._hostClickTimer),o._lastClickTs=(new Date).valueOf(),h&&"symbol"!=r&&"pointMarker"!=r||(o._isColumnType(t.type)&&o._unselect(),isNaN(n)||(e.stopImmediatePropagation(),o._raiseItemEvent("click",t,l,n)))})},_getHorizontalOffset:function(e,t,i,r){var s=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var a=this._calcGroupOffsets(e,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};for(var n,o,l,h,d,u=i,f=r,c=this.seriesGroups[e],g=((c.polar||c.spider)&&(n=this._getPolarAxisCoords(e,s)),this._getXAxis(e).flip,a.xoffsets.first);g<=a.xoffsets.last;g++){var p,x=a.xoffsets.data[g],m=a.offsets[t][g].to,_=0;_=n?(x=(p=this._toPolarCoord(n,s,x+s.x,m)).x,m=p.y,oe.jqx._ptdist(u,f,x,m)):"horizontal"==c.orientation?(p=m,m=x+=s.y,oe.jqx._ptdist(u,f,x=p,m)):(x+=s.x,Math.abs(u-x)),(isNaN(o)||_<o)&&(o=_,l=g,h=x,d=m)}return{index:l,value:a.xoffsets.data[l],polarAxisCoords:n,x:h,y:d}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,r=this._selected.series,s=this.seriesGroups[i],a=s.series[r],n=this._plotRect;if(this.renderer&&((n=this.renderer.getRect()).x+=5,n.y+=5,n.width-=10,n.height-=10),e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return this._hideToolTip(),void this._unselect();var o="horizontal"==s.orientation,n=this._plotRect;if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),h=l.index;if(null!=h){if(this._selected.item!=h){for(var d=this._linesRenderInfo[i][r].segments,u=0;h>d[u].lastItemIndex;)if(++u>=d.length)return;var f=d[u].pathElement,c=d[u].lastItemIndex;this._unselect(!1),this._select(f,"path",i,r,h,c)}var f=this._getSymbol(this._selected.group,this._selected.series),c=("none"==f&&(f="circle"),this._calcGroupOffsets(i,n)),g=c.offsets[this._selected.series][h].to,p=g,c=(-1!=s.type.indexOf("range")&&(p=c.offsets[this._selected.series][h].from),o?e:t);t=!isNaN(p)&&Math.abs(c-p)<Math.abs(c-g)?p:g,isNaN(t)||(e=l.value,o?(c=e,e=t,t=c+n.y):e+=n.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=oe.jqx._ptrnd(t),e=oe.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t)||(p=this._getSeriesColors(i,r,h),g=this._getSerieSettings(i,r),o=a.symbolSizeSelected,isNaN(o)&&(o=a.symbolSize),(isNaN(o)||50<o||o<0)&&(o=s.symbolSize),(isNaN(o)||50<o||o<0)&&(o=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:f,x:e,y:t,gidx:i,sidx:r,iidx:h},this._pointMarker.element=this._drawSymbol(f,e,t,p.fillColorSymbolSelected,g.opacity,p.lineColorSymbolSelected,g.opacity,g.strokeSymbol,g.dashStyle,o),this._installHandlers(this._pointMarker.element,"pointMarker",i,r,h)),this._startTooltipTimer(i,this._selected.series,h)))}}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d=h||6,u=d/2;switch(e){case"none":return;case"circle":c=this.renderer.circle(t,i,d/2);break;case"square":c=this.renderer.rect(t-(u=(d-=1)/2),i-u,d,d);break;case"diamond":var f="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z",c=this.renderer.path(f);break;case"triangle_up":case"triangle":f="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";c=this.renderer.path(f);break;case"triangle_down":f="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";c=this.renderer.path(f);break;case"triangle_left":f="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";c=this.renderer.path(f);break;case"triangle_right":f="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";c=this.renderer.path(f);break;default:c=this.renderer.circle(t,i,d)}return this.renderer.attr(c,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(c,{r:d/2}),"square"!=e&&this.renderer.attr(c,{x:t,y:i})),c},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],e=this.seriesGroups[e],s=e.series[t];return"default"==(i=null==(i=null!=s.symbolType?s.symbolType:i)?e.symbolType:i)?r[t%r.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,r,s,a,e,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(s)&&(s=o._mouseX),isNaN(a)&&(a=o._mouseY-3),0==l&&o._showToolTip(s,a,t,i,r),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(s,a,t,i,r);var e=o.toolTipHideDelay;isNaN(n)||(e=n),isNaN(e)&&(e=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n,o,l=this.seriesGroups[i],h=l.series[r];0!=l.enableSelection&&0!=h.enableSelection&&(n=-1!=l.type.indexOf("line")&&-1==l.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:n,linesUnselectMode:h.linesUnselectMode||l.linesUnselectMode},o=(a=this._getColors(i,r,a||s,this._getGroupGradientType(i))).fillColorSelected,n&&(o="none"),n=this._getSerieSettings(i,r),i="symbol"==t?a.lineColorSymbolSelected:a.lineColorSelected,o="symbol"==t?a.fillColorSymbolSelected:o,r="symbol"==t?1:n.stroke,this.renderer.getAttr(e,"fill")==a.fillColorAlt&&(o=a.fillColorAltSelected),this.renderer.attr(e,{stroke:i,fill:o,"stroke-width":r}),-1==l.type.indexOf("pie")&&-1==l.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",l,h,s))},_applyPieSelect:function(){var e,t,s=this,a=(s._createAnimationGroup("animPieSlice"),this._selected);!a||(e=this.getItemCoord(a.group,a.series,a.item))&&(t=this._getRenderInfo(a.group,a.series,a.item),this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var r=t.coord,i=r.selectedRadiusChange*i,r=s.renderer.pieSlicePath(r.center.x,r.center.y,0==r.innerRadius?0:r.innerRadius+i,r.outerRadius+i,r.fromAngle,r.toAngle,r.centerOffset);s.renderer.attr(t.element.element,{d:r}),s._showPieLabel(a.group,a.series,a.item,void 0,i)},{element:t,coord:e}),s._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t=this._selected;!t||(e=this.getItemCoord(t.group,t.series,t.item))&&e.center&&(e=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(t.element,{d:e}),this._showPieLabel(t.group,t.series,t.item,void 0,0))},_unselect:function(){var e,t,i,r,s,a,n,o,l,h=this;h._selected&&(n=h._selected.group,l=h._selected.series,e=h._selected.item,s=h._selected.iidxBase,t=h._selected.type,r=(i=h.seriesGroups[n]).series[l],a=-1!=i.type.indexOf("line")&&-1==i.type.indexOf("area"),o=(s=h._getColors(n,l,s||e,h._getGroupGradientType(n))).fillColor,a&&(o="none"),a=h._getSerieSettings(n,l),n="symbol"==t?s.lineColorSymbol:s.lineColor,o="symbol"==t?s.fillColorSymbol:o,this.renderer.getAttr(h._selected.element,"fill")==s.fillColorAltSelected&&(o=s.fillColorAlt),l="symbol"==t?1:a.stroke,h.renderer.attr(h._selected.element,{stroke:n,fill:o,"stroke-width":l}),-1==i.type.indexOf("pie")&&-1==i.type.indexOf("donut")||this._applyPieUnselect(),h._selected=void 0,isNaN(e)||h._raiseItemEvent("mouseout",i,r,e)),h._pointMarker&&(h._pointMarker.element&&(h.renderer.removeElement(h._pointMarker.element),h._pointMarker.element=void 0),h._pointMarker=void 0,h._hideCrosshairs())},_raiseItemEvent:function(e,t,i,r){for(var s=i[e]||t[e],a=0;a<this.seriesGroups.length&&this.seriesGroups[a]!=t;a++);a!=this.seriesGroups.length&&(r={event:e,seriesGroup:t,serie:i,elementIndex:r,elementValue:this._getDataValue(r,i.dataField,a)},s&&oe.isFunction(s)&&s(r),this._raiseEvent(e,r))},_raiseEvent:function(e,t){var i=new oe.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var r=Math.abs(t-e)/i,s=.1,a=[1,2,3,4,5,10,15,20,25,50,100],n=(r<1&&(a=[.5,.25,.125,.1],s=10),0);do{n=0,1<=r?s*=10:s/=10;for(var o=1;o<a.length&&Math.abs(a[n]*s-r)>Math.abs(a[o]*s-r);o++)n=o}while(n==a.length-1);return a[n]*s},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis)for(var s in i.valueAxis={itemOffsets:{}},r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s];if(r.xAxis)for(var s in i.xAxis={itemOffsets:{}},r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s];i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l,h=0;h<r.offsets[o].length;h++)n?(l=r.offsets[o][h],a[o][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):a[o][r.xoffsets.xvalues[h]]={value:r.offsets[o][h].value,valueRadius:r.offsets[o][h].valueRadius,xoffset:r.xoffsets.data[h],from:r.offsets[o][h].from,to:r.offsets[o][h].to}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};t=this.getValueAxisDataPointOffset(t,i),e=this.getXAxisDataPointOffset(e,i),i=this._toPolarCoord(r.polarCoords,r.xAxis.rect,e,t);return{x:i.x,y:i.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){e=this._getDataPointOffset(e,i,r,s,a,n),t=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(e-t)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var r=0;r<=e&&null!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var r=this._getXAxisRenderData(t);if(!r)return NaN;var s=r.data.axisStats,a=s.min.valueOf(),s=s.max.valueOf(),n=s-a;if(0==n&&(n=1),e.valueOf()>s||e.valueOf()<a)return NaN;var s=this._getXAxis(t),o="horizontal"==i.orientation?"height":"width",l="horizontal"==i.orientation?"y":"x",e=(e.valueOf()-a)/n,a=r.rect[o]-r.data.padding.left-r.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(a=r.data.axisSize),this._plotRect[l]+r.data.padding.left+a*(s.flip?1-e:e)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;t=this._renderData[t];if(!t)return NaN;var i=1==i.flip,r=t.logBase,s=t.scale,a=t.gbase,t=t.baseOffset;return this._getDataPointOffset(e,a,r,s,t,i)},_getDataPointOffset:function(e,t,i,r,s,a){return isNaN(e)&&(e=t),e=isNaN(i)?(e-t)*r:(oe.jqx.log(e,i)-oe.jqx.log(t,i))*r,this._isVML&&(e=Math.round(e)),e=a?s+e:s-e},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var r=this._getValueAxis(e);if(!r||!i.series||0==i.series.length)return this._renderData[e];var s=1==r.flip,a=1==r.logarithmicScale,n=r.logarithmicScaleBase||10,o=[],l=-1!=i.type.indexOf("stacked"),h=l&&-1!=i.type.indexOf("100"),d=-1!=i.type.indexOf("range"),O=this._isColumnType(i.type),u=-1!=i.type.indexOf("waterfall"),f=this._getDataLen(e),c=i.baselineValue||r.baselineValue||0,g=(h&&(c=0),this._stats.seriesGroups[e]);if(g&&g.isValid){r=g.hasStackValueReversal;if(r&&(c=0),u&&l){if(r)return;c=g.base}(c=c>g.max?g.max:c)<g.min&&(c=g.min);var r=h||a?g.maxRange:g.max-g.min,p=g.min,x=g.max,m=t.height/(a?g.intervals:r),_=0,_=h?p*x<0?-((r/=2)+c)*m:-c*m:-(c-p)*m;s?_=t.y-_:_+=t.y+t.height;for(var R=[],L=[],y=[],v=(a&&(r=oe.jqx.log(x,n)-oe.jqx.log(c,n),l&&(r=g.intervals,c=h?0:p),g.intervals,s||(_=t.y+r/g.intervals*t.height)),_=oe.jqx._ptrnd(_),p*x<0?t.height/2:t.height),b=[],M=[],N=l&&(O||a),G=[],o=new Array(i.series.length),w=0;w<i.series.length;w++)o[w]=new Array(f);for(var A=0;A<f;A++){!u&&l&&(M=[]);for(w=0;w<i.series.length;w++){!l&&a&&(b=[]);var S=i.series[w],C=S.dataField,j=S.dataFieldFrom,E=S.dataFieldTo,q=S.radiusDataField||S.sizeDataField,T=(o[w][A]={},this._isSerieVisible(e,w));if(-1!=i.type.indexOf("candle")||-1!=i.type.indexOf("ohlc")){var V,H=["Open","Close","High","Low"];for(V in H){var B="dataField"+H[V];S[B]&&(o[w][A][H[V]]=this._getDataPointOffset(this._getDataValueAsNumber(A,S[B],e),c,a?n:NaN,m,_,s))}}else{if(l)for(;M.length<=A;)M.push(0);var k=NaN,j=(d&&(k=this._getDataValueAsNumber(A,j,e),isNaN(k)&&(k=c)),NaN),j=d?this._getDataValueAsNumber(A,E,e):this._getDataValueAsNumber(A,C,e),E=this._getDataValueAsNumber(A,q,e);if(l&&(M[A]+=T?j:0),T||(j=NaN),isNaN(j)||a&&j<=0)o[w][A]={from:void 0,to:void 0};else{l&&(N?D=c<=j?R:L:j=M[A]);var D,C=m*(j-c);if(d&&(C=m*(j-k)),l&&N&&(C=G[A]?m*j:(G[A]=!0,m*(j-c))),a){for(;b.length<=A;)b.push({p:{value:0,height:0},n:{value:0,height:0}});q=d?k:c,T=q<j?b[A].p:b[A].n;T.value+=j,h?(j=T.value/(g.psums[A]+g.nsums[A])*100,C=(oe.jqx.log(j,n)-g.minPow)*m):(C=oe.jqx.log(T.value,n)-oe.jqx.log(q,n),C*=m),C-=T.height,T.height+=C}var q=_,T=(d&&(T=0,T=a?(oe.jqx.log(k,n)-oe.jqx.log(c,n))*m:(k-c)*m,q+=s?T:-T),l&&(h&&!a&&(T=g.psums[A]-g.nsums[A],c<j?(C=g.psums[A]/T*v,0!=g.psums[A]&&(C*=j/g.psums[A])):(C=g.nsums[A]/T*v,0!=g.nsums[A]&&(C*=j/g.nsums[A]))),N&&(isNaN(D[A])&&(D[A]=q),q=D[A])),isNaN(y[A])&&(y[A]=0),y[A]),z=C=Math.abs(C);if(1<=C&&(I=this._isVML?Math.round(C):oe.jqx._ptrnd(C)-1,C=.5<Math.abs(C-I)?Math.round(C):I),T+=C-z,l||(T=0),.5<Math.abs(T)&&(0<T?(--C,--T):(C+=1,T+=1)),y[A]=T,w==i.series.length-1&&h){for(var P=0,F=0;F<w;F++)P+=Math.abs(o[F][A].to-o[F][A].from);if((P+=C)<v)if(.5<C)C=oe.jqx._ptrnd(C+v-P);else for(F=w-1;0<=F;){if(1<Math.abs(o[F][A].to-o[F][A].from)){o[F][A].from>o[F][A].to&&(o[F][A].from+=v-P);break}F--}}s&&(C*=-1);var I=j<c,z=(d&&(I=j<k),isNaN(k)?j:{from:k,to:j});I?(N&&(D[A]+=C),o[w][A]={from:q,to:q+C,value:z,valueRadius:E}):(N&&(D[A]-=C),o[w][A]={from:q,to:q-C,value:z,valueRadius:E})}}}}r=this._renderData[e];return r.baseOffset=_,r.gbase=c,r.logBase=a?n:NaN,r.scale=m,r.offsets=u?this._applyWaterfall(o,f,e,_,c,a?n:NaN,m,s,l):o,r.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._renderData[e]={},a=s.offsets=[],n=0;n<r.series.length;n++){for(var o=r.series[n],l=this._get([o.minAngle,o.startAngle]),h=((isNaN(l)||l<0||360<l)&&(l=0),this._get([o.maxAngle,o.endAngle])),d=(h=isNaN(h)||h<0||360<h?360:h)-l,u=o.initialAngle||0,f=(h<(u=u<l?l:u)&&(u=h),o.centerOffset||0),c=oe.jqx.getNum([o.offsetX,r.offsetX,t.width/2]),g=oe.jqx.getNum([o.offsetY,r.offsetY,t.height/2]),l=Math.min(t.width,t.height)/2,p=u,x=o.radius,m=(this._isPercent(x)&&(x=parseFloat(x)/100*l),isNaN(x)&&(x=.4*l),o.innerRadius),_=(this._isPercent(m)&&(m=parseFloat(m)/100*l),(isNaN(m)||x<=m)&&(m=0),o.selectedRadiusChange),y=(this._isPercent(_)&&(_=parseFloat(_)/100*(x-m)),isNaN(_)&&(_=.1*(x-m)),a.push([]),0),v=0,b=0;b<i;b++){var M=this._getDataValueAsNumber(b,o.dataField,e);isNaN(M)||!this._isSerieVisible(e,n,b)&&1!=o.hiddenPointsDisplay||(0<M?y+=M:v+=M)}var N=y-v;0==N&&(N=1);for(b=0;b<i;b++){var w,A,S,C,j,q,M=this._getDataValueAsNumber(b,o.dataField,e);isNaN(M)?a[n].push({}):(q=o.displayText||o.displayField,w=(null==(q=this._getDataValue(b,q,e))&&(q=b),0),S=(!(A=this._isSerieVisible(e,n,b))&&1!=o.hiddenPointsDisplay||(w=Math.abs(M)/N*d),t.x+c),C=t.y+g,q=(oe.isFunction(j=f)&&(j=f({seriesIndex:n,seriesGroupIndex:e,itemIndex:b})),{key:e+"_"+n+"_"+b,value:M,displayValue:q,x:S,y:C,fromAngle:p,toAngle:p+w,centerOffset:j=isNaN(j)?0:j,innerRadius:m,outerRadius:x,selectedRadiusChange:_,visible:A}),a[n].push(q),p+=w)}}return s},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i,r=this.seriesGroups[t];for(i in e)if(-1!=r.type.indexOf(e[i]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),t=null==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(t=!0),null==e||null==i.valuesOnTicks?t:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,r){var s=0;switch("year"!=i&&"month"!=i&&(s=t.valueOf()-e.valueOf()),i){case"year":s=this._getYearsDiff(e,t);break;case"month":s=this._getMonthsDiff(e,t);break;case"day":s/=864e5;break;case"hour":s/=36e5;break;case"minute":s/=6e4;break;case"second":s/=1e3}return s="year"!=i&&"month"!=i&&0!=r?oe.jqx._rnd(s,1,!0):s},_getBestDTUnit:function(e,t,i,r,s){for(var a="day",n=t.valueOf()-e.valueOf(),a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year",o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,u=-1;l<o.length&&!(o[l].cnt/100>r);l++){var f=this._estAxisInterval(e,t,i,r,o[l].key,s),f=this._getDTIntCnt(e,t,f,o[l].key);(-1==d||d<f)&&(d=f,u=l)}return a=o[u].key},_getXAxisStats:function(e,t,i){for(var r,s,a=this._getDataLen(e),n="date"==t.type||"time"==t.type,o=(n&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(o=this._testXAxisDateFormat())&&this._autoDateFormats.push(o)),n?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue)),l=n?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue),h=(this._selectorRange&&this._selectorRange[e]&&(h=this._selectorRange[e].min,isNaN(h)||(o=n?this._castAsDate(h,t.dateFormat):this._castAsNumber(h)),h=this._selectorRange[e].max,isNaN(h)||(l=n?this._castAsDate(h,t.dateFormat):this._castAsNumber(h))),o),o=l,l=null==t.type||"auto"==t.type,d=l||"basic"==t.type,u=0,f=0,c=0;c<a&&t.dataField;c++){var g=this._getDataValue(c,t.dataField,e),g=n?this._castAsDate(g,t.dateFormat):this._castAsNumber(g);isNaN(g)||(n?u++:f++,(isNaN(r)||g<r)&&(r=g),(isNaN(s)||s<=g)&&(s=g))}(d=l&&(!n&&f==a||n&&u==a)?!1:d)&&(r=0,s=Math.max(0,a-1)),isNaN(h)&&(h=r),isNaN(o)&&(o=s),n?(this._isDate(h)||(h=this._isDate(o)?o:new Date),this._isDate(o)||(o=this._isDate(h)?h:new Date)):(isNaN(h)&&(h=0),isNaN(o)&&(o=d?Math.max(0,a-1):h)),null==r&&(r=h),null==s&&(s=o);var p,x,m,_,l=t.rangeSelector,l=(l&&((y=l.minValue||h)&&n&&(y=this._castAsDate(y,l.dateFormat||t.dateFormat)),(v=(v=l.maxValue||o)&&n?this._castAsDate(v,l.dateFormat||t.rangeSelector):v)<(h=h<y?y:h)&&(h=y),v<(o=o<y?v:o)&&(o=v)),t.unitInterval),y=(n&&(x="hour"==(p=(p=t.baseUnit)||this._getBestDTUnit(h,o,e,i))||"minute"==p||"second"==p||"millisecond"==p),1==t.logarithmicScale),v=t.logarithmicScaleBase,l=((isNaN(v)||v<=1)&&(v=10),t.unitInterval),i=(y?l=1:(isNaN(l)||l<=0)&&(l=this._estAxisInterval(h,o,e,i,p)),{min:h,max:o}),b=this.seriesGroups[e];return y?(h||(h=1,o&&o<h&&(h=o)),i={min:h,max:o=o||h},m=oe.jqx._rnd(oe.jqx.log(h,v),1,!1),_=oe.jqx._rnd(oe.jqx.log(o,v),1,!0),o=Math.pow(v,_),h=Math.pow(v,m)):n||!b.polar&&!b.spider||(h=oe.jqx._rnd(h,l,!1),o=oe.jqx._rnd(o,l,!0)),{min:h,max:o,logAxis:{enabled:y,base:v,minPow:m,maxPow:_},dsRange:{min:r,max:s},filterRange:i,useIndeces:d,isDateTime:n,isTimeUnit:x,dateTimeUnit:p,interval:l}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return e},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=(n=new Date(t)).valueOf();if(i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n,o=[1,2,5,10,15,20,50,100,200,500],l=0,h=r/(!isNaN(a)&&0<a?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(n=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(a)&&(h=.9*r/n)),h<=1)return Math.abs(t-e);for(;;){var d=o.length<=l?Math.pow(10,3+l-o.length):o[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,s):(t-e)/d)<=h)break;l++}a=this.seriesGroups[i];return d=(a.spider||a.polar)&&t-e<2*d?t-e:d},_getPaddingSize:function(e,t,i,r,s,a,n){var o,l,h=e.min,d=e.max,u=(e.logAxis.enabled&&(h=e.logAxis.minPow,d=e.logAxis.maxPow),e.interval),e=e.dateTimeUnit;return s?(s=r/Math.max(1,d-h+u)*u,a?{left:0,right:s}:i?{left:0,right:0}:{left:s/2,right:s/2}):i&&!n?{left:0,right:0}:this._isDate(h)&&this._isDate(d)?(o=this._getDTIntCnt(h,d,Math.min(u,d-h),e),{left:(l=r/Math.max(2,o))/2,right:l/2}):1==(o=Math.max(1,d-h))?{left:a=r/4,right:a}:{left:(l=r/(o+1))/2,right:l/2}},_calculateXOffsets:function(e,t){for(var i=this.seriesGroups[e],r=this._getXAxis(e),s=[],a=[],n=this._getDataLen(e),o=this._getXAxisStats(e,r,t),l=o.min,h=o.max,d=o.isDateTime,u=o.isTimeUnit,f=this._hasColumnSeries(),c=i.polar||i.spider,g=this._get([i.startAngle,i.minAngle,0]),i=this._get([i.endAngle,i.maxAngle,360]),i=c&&!(1e-4<Math.abs(Math.abs(i-g)-360)),g=this._alignValuesWithTicks(e),p=this._getPaddingSize(o,r,g,t,c,i,f),x=h-l,m=o.filterRange,_=(0==x&&(x=1),t-p.left-p.right),y=(c&&g&&!i&&(p.left=p.right=0),-1),v=-1,b=0;b<n;b++){var M,N,w=void 0===r.dataField?b:this._getDataValue(b,r.dataField,e);o.useIndeces?b<m.min||b>m.max?(s.push(NaN),a.push(void 0)):(M=p.left+(b-l)/x*_,1==o.logAxis.enabled&&(N=o.logAxis.base,M=this._jqxPlot.scale(w,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:N},{min:0,max:_,flip:!1})),s.push(oe.jqx._ptrnd(M)),a.push(w),-1==y&&(y=b),(-1==v||v<b)&&(v=b)):(w=d?this._castAsDate(w,r.dateFormat):this._castAsNumber(w),isNaN(w)||w<m.min||w>m.max?(s.push(NaN),a.push(void 0)):(M=0,M=1==o.logAxis.enabled?(N=o.logAxis.base,this._jqxPlot.scale(w,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:N},{min:0,max:_,flip:!1})):!d||u?(w-l)*_/x:(w.valueOf()-l.valueOf())/(h.valueOf()-l.valueOf())*_,M=oe.jqx._ptrnd(p.left+M),s.push(M),a.push(w),-1==y&&(y=b),(-1==v||v<b)&&(v=b)))}if(1==r.flip)for(b=0;b<s.length;b++)isNaN(s[b])||(s[b]=t-s[b]);(u||d)&&(x=this._getDateDiff(l,h,r.baseUnit),x=oe.jqx._rnd(x,1,!1));f=Math.max(1,x),c=_/f;return y==v&&1==f&&(s[y]=p.left+_/2),{axisStats:o,data:s,xvalues:a,first:y,last:v,length:-1==v?0:v-y+1,itemWidth:c,intervalWidth:c*o.interval,rangeLength:x,useIndeces:o.useIndeces,padding:p,axisSize:_}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){e=this.seriesGroups[e],t=e.series[t];return 1==t.greyScale||0!=t.greyScale&&(1==e.greyScale||0!=e.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var r=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var s in r)r[s]=oe.jqx.toGreyScale(r[s]);return r},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e))var n=this._getDataLen(e),r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t);else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,0),!(d=null!=d&&""!=d?d:this.colorSchemes[0].name))return r;for(l=0;l<this.colorSchemes.length;l++){var u=this.colorSchemes[l];if(u.name==d){for(;o>u.colors.length;)o-=u.colors.length,++l>=this.colorSchemes.length&&(l=0),u=this.colorSchemes[l];r=u.colors[o%u.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var r=this.seriesGroups[e],s=r.series[t],a=(oe.isFunction(s.colorFunction)||"pie"==r.type||"donut"==r.type||(i=NaN),e+"_"+t+"_"+(isNaN(i)?"NaN":i));if(this._colorsCache.get(a))return this._colorsCache.get(a);var n,o={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(oe.isFunction(s.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,s.dataField,e);if(-1==r.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,s.dataFieldFrom,e),to:this._getDataValue(i,s.dataFieldTo,e)}),"object"==typeof(n=s.colorFunction(l,i,s,r)))for(var h in n)o[h]=n[h];else o.fillColor=n}else{for(var h in o)s[h]&&(o[h]=s[h]);s.fillColor||s.color?s.fillColor=s.fillColor||s.color:o.fillColor=this._getColorFromScheme(e,t,i)}var d={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(h in o)"object"==typeof n&&n[h]||s[h]&&(o[h]=s[h]);for(h in o)"object"==typeof n&&n[h]||s[h]||(o[h]=oe.jqx.adjustColor(o[d[h].baseColor],d[h].adjust));return this._colorsCache.set(a,o),o},_getItemColorFromScheme:function(e,t,i,r){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var s=0;s<this.colorSchemes.length&&e!=this.colorSchemes[s].name;s++);for(var a=0;a<=t;){s==this.colorSchemes.length&&(s=0);var n,o=this.colorSchemes[s].colors.length;if(!(a+o<=t))return n=this.colorSchemes[s].colors[t-a],this._isGreyScale(i,r)&&0==n.indexOf("#")?oe.jqx.toGreyScale(n):n;a+=o,s++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,r,s,a){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!oe.isFunction(i))return e.toString();try{return i(e,a,s,r)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,r,s,a){var n=this.seriesGroups[e],o=n.series[t],l="",h=r,d=(d=s)||(o.formatFunction||n.formatFunction),h=h||(o.formatSettings||n.formatSettings),u=(!o.formatFunction&&o.formatSettings&&(d=void 0),{}),f=0;for(c in o)0==c.indexOf("dataField")&&(u[c.substring(9).toLowerCase()]=this._getDataValue(i,o[c],e),f++);if(0==f&&(u=this._getDataValue(i,void 0,e)),-1!=n.type.indexOf("waterfall")&&this._isSummary(e,i)&&(u=this._renderData[e].offsets[t][i].value,f=0),d&&oe.isFunction(d))try{return d(1==f?u[""]:u,i,o,n)}catch(e){return e.message}if(1==f&&this._isPieGroup(e))return this._formatValue(u[""],h,d,e,t,i);if(0<f){var c,g=0;for(c in u){0<g&&""!=l&&(l+="<br>");var p="dataField"+(0<c.length?c.substring(0,1).toUpperCase()+c.substring(1):""),p=o["displayText"+(0<c.length?c.substring(0,1).toUpperCase()+c.substring(1):"")]||o[p],x=u[c];null!=x&&(x=this._formatValue(x,h,d,e,t,i),l+=!0===a?x:p+": "+x,g++)}}else null!=u&&(l=this._formatValue(u,h,d,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=oe.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=oe.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(i=oe.jqx.dataFormat.parsedate(e,this._autoDateFormats[r]),this._isDate(i))return i;t=this._detectDateFormat(e);return t&&(i=oe.jqx.dataFormat.parsedate(e,t),this._isDate(i))?(this._autoDateFormats.push(t),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"number"==typeof(e="string"==typeof e&&this._isNumberAsString(e)?parseFloat(e):e)&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||oe.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=oe.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;var i=".",r="",s=this,s=(s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),(t=t||{}).decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator),t.prefix||""),a=t.sufix||"",n=t.decimalPlaces,o=(isNaN(n)&&(n=this._getDecimalPlaces([e],void 0,3)),t.negativeWithBrackets||!1),l=e<0,h=(l&&o&&(e*=-1),e.toString()),t=Math.pow(10,n),h=(Math.round(e*t)/t).toString();if(d=(h=isNaN(h)?"":h).lastIndexOf("."),0<n)for(d<0?d=(h+=i).length-1:"."!==i&&(h=h.replace(".",i));h.length-1-d<n;)h+="0";for(var d=-1<(d=h.lastIndexOf(i))?d:h.length,u=h.substring(d),f=0,c=d;0<c;c--,f++)f%3==0&&c!==d&&(!l||1<c||l&&o)&&(u=r+u),u=h.charAt(c-1)+u;return h=u,s+(h=l&&o?"("+h+")":h)+a},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],e=e[t+5],t=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),o=t+Math.sqrt(Math.pow(n-s,2)+Math.pow(e-a,2)),t=.4*t/(o=0==o?1:o),o=.4-t;return[s+t*(i-n),a+t*(r-e),s-o*(i-n),a-o*(r-e)]},_getBezierPoints:function(e){for(var t="",i=[],r=[],s=e.split(" "),a=0;a<s.length;a++){var n=s[a].split(",");i.push(parseFloat(n[0])),i.push(parseFloat(n[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var o=i.length;if(o<=1)return"";if(2==o)return t="M"+oe.jqx._ptrnd(i[0])+","+oe.jqx._ptrnd(i[1])+" L"+oe.jqx._ptrnd(i[0]+1)+","+oe.jqx._ptrnd(i[1]+1)+" ";for(a=0;a<o-4;a+=2)r=r.concat(this._calculateControlPoints(i,a));for(a=2;a<o-5;a+=2)t+=" C"+oe.jqx._ptrnd(r[2*a-2])+","+oe.jqx._ptrnd(r[2*a-1])+" "+oe.jqx._ptrnd(r[2*a])+","+oe.jqx._ptrnd(r[2*a+1])+" "+oe.jqx._ptrnd(i[a+2])+","+oe.jqx._ptrnd(i[a+3])+" ";return t=o<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+oe.jqx._ptrnd(i[0])+","+oe.jqx._ptrnd(i[1])+" L"+oe.jqx._ptrnd(i[2])+","+oe.jqx._ptrnd(i[3])+" "+t:"M"+oe.jqx._ptrnd(i[0])+","+oe.jqx._ptrnd(i[1])+" Q"+oe.jqx._ptrnd(r[0])+","+oe.jqx._ptrnd(r[1])+" "+oe.jqx._ptrnd(i[2])+","+oe.jqx._ptrnd(i[3])+" "+t,4<=o&&(Math.abs(i[o-2]-i[o-4])<3||Math.abs(i[o-1]-i[o-3])<3||this._isVML)?t+=" L"+oe.jqx._ptrnd(i[o-2])+","+oe.jqx._ptrnd(i[o-1])+" ":5<=o&&(t+=" Q"+oe.jqx._ptrnd(r[2*o-10])+","+oe.jqx._ptrnd(r[2*o-9])+" "+oe.jqx._ptrnd(i[o-2])+","+oe.jqx._ptrnd(i[o-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){this._animGroups[e].animations.push({key:t,properties:i,duration:r=r<0?0:r,fn:s,context:a,easing:n=null==n?"easeInOutSine":n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(f in this._animGroups){for(var r=this._animGroups[f].animations,s=this._animGroups[f].startTick,a=0,n=0;n<r.length;n++){var o=r[n],l=t-s,h=(o.duration>a&&(a=o.duration),0<o.duration?l/o.duration:1),d=h;if(o.easing&&0!=o.duration&&(d=oe.easing[o.easing](h,l,0,1,o.duration)),1<h&&(d=h=1),o.fn)o.fn(o.key,o.context,d);else{for(var u={},f=0;f<o.properties.length;f++){var c=o.properties[f],g=0,g=1==h?c.to:d*(c.to-c.from)+c.from;u[c.key]=g}this.renderer.attr(o.key,u)}}t<s+a&&(i[f]={startTick:s,animations:r})}this._animGroups=i,this.renderer instanceof oe.jqx.HTML5Renderer&&this.renderer.refresh()}for(var f in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;t=e.x,e.x=e.y,e.y=t+this._plotRect.y-this._plotRect.x,t=e.width;return e.width=e.height,e.height=t,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s,a,n=r.seriesGroups[e],o=n.series[t],i=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(i.x)||isNaN(i.y)||isNaN(i.fromAngle)||isNaN(i.toAngle))return{x:NaN,y:NaN};var r=this._plotRect,l=i.fromAngle*(Math.PI/180),h=i.toAngle*(Math.PI/180),d=r.x+i.center.x+Math.cos(l)*i.outerRadius,u=r.x+i.center.x+Math.cos(h)*i.outerRadius,l=r.y+i.center.y-Math.sin(l)*i.outerRadius,r=r.y+i.center.y-Math.sin(h)*i.outerRadius,h=Math.min(d,u),u=Math.abs(u-d);return i={x:h,y:d=Math.min(l,r),width:u,height:Math.abs(r-l),center:i.center,centerOffset:i.centerOffset,innerRadius:i.innerRadius,outerRadius:i.outerRadius,selectedRadiusChange:i.selectedRadiusChange,fromAngle:i.fromAngle,toAngle:i.toAngle}}return-1!=n.type.indexOf("column")||-1!=n.type.indexOf("waterfall")?(s=this._getColumnSerieWidthAndOffset(e,t),i.height=Math.abs(i.y.to-i.y.from),i.y=Math.min(i.y.to,i.y.from),i.x+=s.offset,i.width=s.width):-1!=n.type.indexOf("ohlc")||-1!=n.type.indexOf("candlestick")?(s=this._getColumnSerieWidthAndOffset(e,t),d=i.y,h=Math.min(d.Open,d.Close,d.Low,d.High),u=Math.max(d.Open,d.Close,d.Low,d.High),i.height=Math.abs(u-h),i.y=h,i.x+=s.offset,i.width=s.width):-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")?(i.width=i.height=0,i.y=i.y.to):-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(i.center={x:i.x,y:i.y.to},a=i.y.radius,"circle"!=o.symbolType&&null!=o.symbolType&&(a/=2),i.y=i.y.to,i.radius=a,i.width=2*a,i.height=2*a),i=this._fixCoords(i,e),(n.polar||n.spider)&&(r=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,i.x,i.y),i.x=r.x,i.y=r.y,i.center&&(i.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,i.center.x,i.center.y))),-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(i.x-=a,i.y-=a),i},_getItemCoord:function(e,t,i){var r=this.seriesGroups[e];if(!r||!this._renderData)return{x:NaN,y:NaN};if(!r.series[t])return{x:NaN,y:NaN};r=this._plotRect;if(this._isPieGroup(e)){var s=this._renderData[e].offsets[t][i];if(!s)return{x:NaN,y:NaN};var a,n,o=(s.fromAngle+s.toAngle)/2*(Math.PI/180);return{x:a=r.x+s.x+Math.cos(o)*s.outerRadius,y:n=r.y+s.y-Math.sin(o)*s.outerRadius,center:{x:s.x,y:s.y},centerOffset:s.centerOffset,innerRadius:s.innerRadius,outerRadius:s.outerRadius,selectedRadiusChange:s.selectedRadiusChange,fromAngle:s.fromAngle,toAngle:s.toAngle}}if(a=r.x+this._renderData[e].xoffsets.data[i],n=this._renderData[e].offsets[t][i],isNaN(a)||!n)return{x:NaN,y:NaN};var l,h={};for(l in n)h[l]=n[l];return{x:a,y:h}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getXAxis(t),s=this._plotRect,a=0,n=NaN,o=this._renderData[0].xoffsets.axisStats,l=0,h=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var d=this._getPolarAxisCoords(t,s);if(oe.jqx._ptdist(e.x,e.y,d.x,d.y)>d.r)return NaN;var u=Math.atan2(d.y-e.y,e.x-d.x),n=(u=(u=Math.PI/2-u)<0?2*Math.PI+u:u)*d.r,u=d.startAngle+Math.PI/2,f=d.endAngle+Math.PI/2,l=u*d.r,h=f*d.r,a=(f-u)*d.r,f=this._getPaddingSize(o,r,r.valuesOnTicks,a,!0,d.isClosedCircle,this._hasColumnSeries());d.isClosedCircle?(a-=f.left+f.right,h-=f.left+f.right):r.valuesOnTicks||(l+=f.left,h-=f.right)}else{if("horizontal"!=i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}this._renderData[t]&&this._renderData[t].xoffsets&&(a-=(f=this._renderData[t].xoffsets.padding).left+f.right,n-=f.left),h=a}return this._jqxPlot.scale(n,{min:l,max:h},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logAxis.enabled?"logarithmic":"linear",base:o.logAxis.base,flip:r.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getValueAxis(t),s=this._plotRect,a=0,n=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var o=this._getPolarAxisCoords(t,s),n=oe.jqx._ptdist(e.x,e.y,o.x,o.y);n=(a=o.r)-n}else if("horizontal"==i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}o=this._stats.seriesGroups[t];return this._jqxPlot.scale(n,{min:0,max:a},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logarithmic?"logarithmic":"linear",base:o.logBase,flip:!r.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"},r=(t&&(i=oe.extend({},i,t)),[]);for(n in oe.isArray(e)?r=e:r.push(e),i)i[n]={format:i[n],count:0};for(var s=0;s<r.length;s++){var a=r[s];if(null!=a)for(var n in i)null!=oe.jqx.dataFormat.parsedate(a,i[n].format)&&i[n].count++}var o={key:void 0,count:0};for(n in i)i[n].count>o.count&&(o.key=n,o.count=i[n].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<r&&o<10;o++){var l=t._getDataValue(o,i.dataField,e);null!=l&&n.push(l)}return t._detectDateFormat(n,s)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var r=this._renderData;return i&&r&&!(r.length<=e)&&i.series[t]?r[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var r=this.seriesGroups[e];if(r.polar||r.spider){for(var s=0;s<i.polarLabels.length;s++){var a=i.polarLabels[s];t.push({offset:{x:a.x,y:a.y},value:a.value})}return t}for(var n=this._getXAxis(e),o=this.getXAxisRect(e),l="top"==n.position||"right"==n.position,h="horizontal"==r.orientation,s=0;s<i.data.length;s++)h?t.push({offset:{x:o.x+(l?0:o.width),y:o.y+i.data.data[s]},value:i.data.xvalues[s]}):t.push({offset:{x:o.x+i.data.data[s],y:o.y+(l?o.height:0)},value:i.data.xvalues[s]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var r=this._getValueAxis(e),s="top"==r.position||"right"==r.position,r=this.seriesGroups[e],a="horizontal"==r.orientation;if(r.polar||r.spider){for(var n=0;n<i.polarLabels.length;n++){var o=i.polarLabels[n];t.push({offset:{x:o.x,y:o.y},value:o.value})}return t}for(n=0;n<i.items.length;n++)a?t.push({offset:{x:i.itemOffsets[i.items[n]].x+i.itemWidth/2,y:i.rect.y+(s?i.rect.height:0)},value:i.items[n]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[n]].y+i.itemWidth/2},value:i.items[n]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,r,s){var a=this.getItemCoord(e,t,i);isNaN(a.x)||isNaN(a.y)||this._startTooltipTimer(e,t,i,a.x,a.y,r,s)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(m){m.extend(m.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(e,t){var i=this,r=(i._isTouchDevice=m.jqx.mobile.isTouchDevice(),i.seriesGroups[e]),s=i._getXAxis(e),a=s?s.rangeSelector:void 0;if(i._isSelectorRefresh||(a&&a.renderTo?a.renderTo:i.host).find(".rangeSelector").remove(),!s||0==s.visible||"spider"==r.type)return!1;if(!i._isGroupVisible(e))return!1;if(!a)return!1;var n,o,r="horizontal"==r.orientation,i=(a.renderTo&&(r=!1),i.rtl&&(s.flip=!0),r?this.host.height():this.host.width()),l=this._getXAxisStats(e,s,i-=4),h=s.position;return a.renderTo&&a.position&&(h=a.position),this._isSelectorRefresh||(a=a.renderTo,n=m("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(a||this.renderer.getContainer()),a?(n.css({width:a.width(),height:a.height()}),t.width=a.width(),t.height=a.height()):((a=this.host.coord()).top=0,a.left=0,o=this._selectorGetSize(s),r?(n.css("left",a.left+1+t.x+("right"!=h?-o:t.width)),n.css("top",a.top),n.css("height",i),n.css("width",o),t.height=o):(n.css("left",a.left+1),n.css("top",a.top+t.y+("top"!=h?t.height:-o)),n.css("height",o),n.css("width",i))),this._refreshSelector(e,s,l,n,t,r)),!(this._isSelectorRefresh=!1)},_refreshSelector:function(e,t,i,r,s,a){var n={},o=t.rangeSelector;this.seriesGroups[e];for(c in o)n[c]=o[c];delete n.padding;var l=n.minValue,h=n.maxValue,i=(null==l&&(l=Math.min(i.min.valueOf(),i.dsRange.min.valueOf())),null==h&&(h=Math.max(i.max.valueOf(),i.dsRange.max.valueOf())),this._isDate(i.min)&&(l=new Date(l)),this._isDate(i.max)&&(h=new Date(h)),t.position),l=(o.renderTo&&o.position&&(i=o.position),n.dataField=t.dataField,delete n.rangeSelector,n.type=t.type,n.baseUnit=o.baseUnit||t.baseUnit,n.minValue=l,n.maxValue=h,n.flip=t.flip,n.position=i,2),h=2,d=2,u=2;o.renderTo||(l=a?0:s.x,h=a?0:this._rect.width-s.x-s.width,d=a?s.y:5,u=a?this._paddedRect.height-this._plotRect.height:5);for(var s=null!=(s=o.padding)||o.renderTo?{left:s&&s.left?s.left:l,top:s&&s.top?s.top:d,right:s&&s.right?s.right:h,bottom:s&&s.bottom?s.bottom:u}:{left:l,top:d,right:h,bottom:u},f=t.rangeSelector.dataField,c=0;null==f&&c<this.seriesGroups.length;c++)for(var g=0;null==f&&g<this.seriesGroups[c].series.length;g++)f=this.seriesGroups[c].series[g].dataField;var l={padding:s,_isRangeSelectorInstance:!0,title:o.title||"",description:o.description||"",titlePadding:o.titlePadding,colorScheme:o.colorScheme||this.colorScheme,backgroundColor:o.backgroundColor||this.backgroundColor||"transparent",backgroundImage:o.backgroundImage||"",showBorderLine:o.showBorderLine||!!o.renderTo,borderLineWidth:o.borderLineWidth||this.borderLineWidth,borderLineColor:o.borderLineColor||this.borderLineColor,rtl:o.rtl||this.rtl,greyScale:o.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:n,seriesGroups:[{orientation:a?"horizontal":"vertical",valueAxis:{visible:!1},type:t.rangeSelector.serieType||"area",skipOverlappingPoints:m.jqx.getByPriority([t.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:m.jqx.getByPriority([t.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:m.jqx.getByPriority([t.rangeSelector.columnsGapPercent,25]),seriesGapPercent:m.jqx.getByPriority([t.rangeSelector.seriesGapPercent,25]),series:[{dataField:f,opacity:.8,lineWidth:1}]}]},p=(t.rangeSelector.seriesGroups&&(l.seriesGroups=t.rangeSelector.seriesGroups),t.rangeSelector.valueAxis&&(l.valueAxis=t.rangeSelector.valueAxis),l.showBorderLine||(l.borderLineWidth=1,l.borderLineColor=m.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),l.showBorderLine=!0),this),d=(p._supressBindingRefresh=!0,r.empty(),r.jqxChart(l),p._rangeSelectorInstances[e]=r,p._supressBindingRefresh=!1,r.on(p._getEvent("mousemove"),function(){p._unselect(),p._hideToolTip()}),r.jqxChart("getInstance"));d._plotRect&&((h=d._paddedRect).height=d._plotRect.height,a||"top"!=i?a&&(u=d._renderData[0].xAxis.rect.width,h.width-=u,"right"!=i&&(h.x+=u)):h.y+=d._renderData[0].xAxis.rect.height,p._createSliderElements(e,r,h,o),p.removeHandler(m(document),p._getEvent("mousemove")+"."+this.element.id,p._onSliderMouseMove),p.removeHandler(m(document),p._getEvent("mousedown"),p._onSliderMouseDown),p.removeHandler(m(document),p._getEvent("mouseup")+"."+this.element.id,p._onSliderMouseUp),p.addHandler(m(document),p._getEvent("mousemove")+"."+this.element.id,p._onSliderMouseMove,{self:this,groupIndex:e,renderTo:r,swapXY:a}),p.addHandler(m(r),p._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:e,renderTo:r,swapXY:a}),p.addHandler(m(document),p._getEvent("mouseup")+"."+this.element.id,p._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:e,renderTo:r,swapXY:a}))},_createSliderElements:function(e,t,i,r){t.find(".slider").remove();var s=r.selectedRangeColor||"blue",a=m.jqx.getByPriority([r.selectedRangeOpacity,.1]),n=m.jqx.getByPriority([r.unselectedRangeOpacity,.5]),o=r.unselectedRangeColor||"white",r=r.rangeLineColor||"grey",l=m("<div class='slider' style='position: absolute;'></div>");for(l.css({background:s,opacity:a,left:i.x,top:i.y,width:i.width,height:i.height}),l.appendTo(t);this._sliders.length<e+1;)this._sliders.push({});s="<div class='slider' style='position: absolute;  background: "+o+"; opacity: "+n+";'></div>",a="<div class='slider' style='position: absolute; background:"+r+"; opacity: "+n+";'></div>",o="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+r+";'></div>";this._sliders[e]={element:l,host:t,_sliderInitialAbsoluteRect:{x:l.coord().left,y:l.coord().top,width:i.width,height:i.height},_hostInitialAbsolutePos:{x:t.coord().left,y:t.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:i,left:m(s),right:m(s),leftTop:m(a),rightTop:m(a),leftBorder:m(a),leftBar:m(o),rightBorder:m(a),rightBar:m(o)},this._sliders[e].left.appendTo(t),this._sliders[e].right.appendTo(t),this._sliders[e].leftTop.appendTo(t),this._sliders[e].rightTop.appendTo(t),this._sliders[e].leftBorder.appendTo(t),this._sliders[e].rightBorder.appendTo(t),this._sliders[e].leftBar.appendTo(t),this._sliders[e].rightBar.appendTo(t);n=this._renderData[e].xAxis.data.axisStats,r=n.min.valueOf(),s=n.max.valueOf(),a=this._valueToOffset(e,r),o=this._valueToOffset(e,s);o<a&&(t=o,o=a,a=t),"horizontal"!=this.seriesGroups[e].orientation?l.css({left:Math.round(i.x+a),top:i.y,width:Math.round(o-a),height:i.height}):l.css({top:Math.round(i.y+a),left:i.x,height:Math.round(o-a),width:i.width}),this._setSliderPositions(e,a,o)},_setSliderPositions:function(e,t,i){var r=this.seriesGroups[e],s=this._getXAxis(e),a=s.rangeSelector,r="horizontal"==r.orientation,s=(s.rangeSelector.renderTo&&(r=!1),s.position),a=(a.renderTo&&a.position&&(s=a.position),this._sliders[e]),e=r?"top":"left",n=r?"left":"top",o=r?"height":"width",l=r?"width":"height",h=r?"y":"x",d=r?"x":"y",u=a.rect,r=(a.startOffset=t,a.endOffset=i,a.left.css(e,u[h]),a.left.css(n,u[d]),a.left.css(o,t),a.left.css(l,u[l]),a.right.css(e,u[h]+i),a.right.css(n,u[d]),a.right.css(o,u[o]-i+1),a.right.css(l,u[l]),a.leftTop.css(e,u[h]),a.leftTop.css(n,u[d]+(r&&"right"==s||!r&&"top"!=s?0:u[l])),a.leftTop.css(o,t),a.leftTop.css(l,1),a.rightTop.css(e,u[h]+i),a.rightTop.css(n,u[d]+(r&&"right"==s||!r&&"top"!=s?0:u[l])),a.rightTop.css(o,u[o]-i+1),a.rightTop.css(l,1),a.leftBorder.css(e,u[h]+t),a.leftBorder.css(n,u[d]),a.leftBorder.css(o,1),a.leftBorder.css(l,u[l]),u[l]/4);(r=20<r?20:r)<3&&(r=3),a.leftBar.css(e,u[h]+t-3),a.leftBar.css(n,u[d]+u[l]/2-r/2),a.leftBar.css(o,5),a.leftBar.css(l,r),a.rightBorder.css(e,u[h]+i),a.rightBorder.css(n,u[d]),a.rightBorder.css(o,1),a.rightBorder.css(l,u[l]),a.rightBar.css(e,u[h]+i-3),a.rightBar.css(n,u[d]+u[l]/2-r/2),a.rightBar.css(o,5),a.rightBar.css(l,r)},_resizeState:{},_onSliderMouseDown:function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.data.self;t._sliders[e.data.groupIndex]&&(null==t._resizeState.state&&t._testAndSetReadyResize(e),"ready"==t._resizeState.state&&((m.jqx._rangeSelectorTarget=t)._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],r=this._sliders[e],s=r.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,a=s.min.valueOf(),s=s.max.valueOf()-a,e=(0==s&&(s=1),this._getXAxis(e)),i="horizontal"==i.orientation?"height":"width",t=(t.valueOf()-a)/s;return r.getRect()[i]*(e.flip?1-t:t)},_offsetToValue:function(e,t){var i=this._sliders[e],r=this.seriesGroups[e],e=this._getXAxis(e),r="horizontal"==r.orientation?"height":"width",r=i.getRect()[r],i=(r=0==r?1:r,i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats),s=i.min.valueOf(),a=i.max.valueOf(),n=t/r*(a-s)+s;return 1==e.flip&&(n=a-t/r*(a-s)),this._isDate(i.min)||this._isDate(i.max)?n=new Date(n):(n=(n=null!=e.dataField&&!i.useIndeces?n:Math.round(n))<i.min?i.min:n)>i.max&&(n=i.max),n},_onSliderMouseUp:function(e){var t=m.jqx._rangeSelectorTarget;if(t){var i=e.data.groupIndex,r=e.data.swapXY,s=t._sliders[i];if(s&&"resizing"==t._resizeState.state){e.stopImmediatePropagation(),e.stopPropagation(),t._resizeState={},t.host.css("cursor","default");var e=r?"top":"left",a=r?"y":"x",e=s.element.coord()[e],r=e+(r?s.element.height():s.element.width()),n=s.getRect(),o=t._offsetToValue(i,e-n[a]),l=t._offsetToValue(i,r-n[a]),h=(!s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&864e5<l.valueOf()-o.valueOf()&&(o.setHours(0,0,0,0),l.setDate(l.getDate()+1),l.setHours(0,0,0,0)),t._getXAxis(i));h.flip&&(e=o,o=l,l=e);for(var d=0;d<t.seriesGroups.length;d++)t._getXAxis(d)==h&&(t._selectorRange[d]={min:o,max:l});t._isSelectorRefresh=!0;r=t.enableAnimations;t._raiseEvent("rangeSelectionChanging",{instance:t,minValue:o,maxValue:l}),t.enableAnimations=!1,t.update(),t.enableAnimations=r,t._raiseEvent("rangeSelectionChanged",{instance:t,minValue:o,maxValue:l})}}},_onSliderMouseMove:function(e){var t,i,r,s,a,n,o,l,h,d,u,f,c=e.data.self,g=(e.data.renderTo,e.data.groupIndex),p=c._sliders[g],x=e.data.swapXY;p&&(t=p.getRect(),i=p.element,r=m.jqx.position(e),s=i.coord(),a=x?"top":"left",n=x?"height":"width",o=x?"y":"x","resizing"==c._resizeState.state?(e.stopImmediatePropagation(),e.stopPropagation(),"left"==c._resizeState.side?(d=Math.round(r[a]-s[a]),u=t[o],s[a]+d>=u&&s[a]+d<=u+t[n]&&(h=parseInt(i.css(a)),f=Math.max(2,(x?i.height():i.width())-d),i.css(n,f),i.css(a,h+d))):"right"==c._resizeState.side?(l=x?i.height():i.width(),d=Math.round(r[a]-s[a]-l),u=t[o],s[a]+l+d>=u&&s[a]+d+l<=u+t[n]&&(f=Math.max(2,l+d),i.css(n,f))):"move"==c._resizeState.side&&(l=x?i.height():i.width(),h=parseInt(i.css(a)),d=Math.round(r[a]-c._resizeState.startPos),s[a]+d>=t[o]&&s[a]+d+l<=t[o]+t[n]&&(c._resizeState.startPos=r[a],i.css(a,h+d))),f=(u=parseInt(i.css(a))-p.rect[o])+(x?i.height():i.width()),c._setSliderPositions(g,u,f)):c._testAndSetReadyResize(e))},_testAndSetReadyResize:function(e){var t=e.data.self,i=e.data.renderTo,r=e.data.groupIndex,r=t._sliders[r],s=e.data.swapXY,a=r.getRect(),r=r.element,e=m.jqx.position(e),n=r.coord(),o=s?"left":"top",l=s?"top":"left",h=t._isTouchDevice?30:5;e[o]>=n[o]&&e[o]<=n[o]+a[s?"width":"height"]?Math.abs(e[l]-n[l])<=h?(i.css("cursor",s?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"left"}):Math.abs(e[l]-n[l]-(s?r.height():r.width()))<=h?(i.css("cursor",s?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"right"}):e[l]+h>n[l]&&e[l]-h<n[l]+(s?r.height():r.width())?(i.css("cursor","pointer"),t._resizeState={state:"ready",side:"move",startPos:e[l]}):(i.css("cursor","default"),t._resizeState={}):(i.css("cursor","default"),t._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var r=this.seriesGroups[e],s=this.renderer;if(!isNaN(e)){var a=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),n=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),o=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if((r.polar||r.spider)&&(n=!(e=this.getPolarDataPointOffset(t.xValue,t.yValue,e))||isNaN(e.x)||isNaN(e.y)?(a=t.x,t.y):(a=e.x,e.y)),isNaN(n)||isNaN(a))return!1;"horizontal"==r.orientation&&(e=a,a=n,n=e,e=o,o=l,l=e),t.offset&&(isNaN(t.offset.x)||(a+=t.offset.x,o+=t.offset.x),isNaN(t.offset.y)||(n+=t.offset.y,l+=t.offset.y));var h,d,u,f=this._get([t.width,o-a]),c=this._get([t.height,l-n]);switch(isNaN(f)&&(f=90,c=20),t.type){case"rect":h=s.rect(a,n,f,c);break;case"circle":h=s.rect(a,n,t.radius);break;case"line":h=s.rect(a,n,o,l);break;case"path":h=s.path(t.path)}s.attr(h,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text&&(e=r=0,(u=t.text).offset&&(isNaN(u.offset.x)||(r+=u.offset.x),isNaN(u.offset.y)||(e+=u.offset.y)),d=s.text(u.value,a+r,n+e,NaN,NaN,u.angle,{},!0===u.clip,u.horizontalAlignment||"center",u.verticalAlignment||"center",u.rotationPoint||"centermiddle"),s.attr(d,{fill:u.fillColor,stroke:u.lineColor,class:u.class}));for(var g=["click","mouseenter","mouseleave"],p=this,x=0;x<g.length;x++){var m=this._getEvent(g[x])||g[x];h&&this.renderer.addHandler(h,m,function(){p._raiseAnnotationEvent(t,m)}),d&&this.renderer.addHandler(d,m,function(){p._raiseAnnotationEvent(t,m)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],r=0;r<i.series.length;r++)if(void 0!==i.series[r].summary&&void 0!==this._getDataValue(t,i.series[r].summary,e))return!0;return!1},_applyWaterfall:function(e,t,i,r,s,a,n,o,l){var h=this.seriesGroups[i];if(0==e.length)return e;for(var d=r,u={},f=[],c=void 0,g=[],p=0;p<h.series.length;p++)g.push(this._isSerieVisible(i,p));for(var x={},m=0;m<t;m++)for(var _,y,v,b,M=r,N=0,w=this._isSummary(i,m),p=0;p<e.length;p++)g[p]&&(_=0,w?(_=M==r?s:0,e[p][m].value=u[p],e[p][m].summary=!0,c=e[p][m].value<_,o&&(c=!c),b=0,b=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,_,_,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+N,0==N?s:N,_||s,a,n,r,o),e[p][m].to=M+(c?b:-b),e[p][m].from=M,l&&(N+=e[p][m].value,M=e[p][m].to)):(y=l?-1:p,isNaN(e[p][m].value)||(void 0===x[y]&&(_=s,x[y]=!0),c=e[p][m].value<_,o&&(c=!c),b=v=NaN,v=l?d:0==m?r:e[p][f[p]].to,b=0,b=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,_,_,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+(isNaN(u[y])?0:u[y]),isNaN(u[y])?s:u[y],_||s,a,n,v,o),e[p][m].to=d=v+(c?b:-b),e[p][m].from=v,isNaN(u[y])?u[y]=e[p][m].value:u[y]+=e[p][m].value,-1==y&&(isNaN(u[p])?u[p]=e[p][m].value:u[p]+=e[p][m].value),l||(f[p]=m))));return e}})}(jqxBaseFramework);