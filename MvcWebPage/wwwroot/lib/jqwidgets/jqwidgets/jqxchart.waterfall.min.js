!function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,a){for(var t=this.seriesGroups[e],i=0;i<t.series.length;i++)if(void 0!==t.series[i].summary&&void 0!==this._getDataValue(a,t.series[i].summary,e))return!0;return!1},_applyWaterfall:function(e,a,t,i,s,r,u,f,o){var l=this.seriesGroups[t];if(0==e.length)return e;for(var v=i,N={},n=[],h=void 0,m=[],_=0;_<l.series.length;_++)m.push(this._isSerieVisible(t,_));for(var g={},D=0;D<a;D++)for(var p,y,d,x,O=i,P=0,c=this._isSummary(t,D),_=0;_<e.length;_++)m[_]&&(p=0,c?(p=O==i?s:0,e[_][D].value=N[_],e[_][D].summary=!0,h=e[_][D].value<p,f&&(h=!h),x=0,x=isNaN(r)?this._getDataPointOffsetDiff(e[_][D].value,p,p,NaN,u,i,f):this._getDataPointOffsetDiff(e[_][D].value+P,0==P?s:P,p||s,r,u,i,f),e[_][D].to=O+(h?x:-x),e[_][D].from=O,o&&(P+=e[_][D].value,O=e[_][D].to)):(y=o?-1:_,isNaN(e[_][D].value)||(void 0===g[y]&&(p=s,g[y]=!0),h=e[_][D].value<p,f&&(h=!h),x=d=NaN,d=o?v:0==D?i:e[_][n[_]].to,x=0,x=isNaN(r)?this._getDataPointOffsetDiff(e[_][D].value,p,p,NaN,u,i,f):this._getDataPointOffsetDiff(e[_][D].value+(isNaN(N[y])?0:N[y]),isNaN(N[y])?s:N[y],p||s,r,u,d,f),e[_][D].to=v=d+(h?x:-x),e[_][D].from=d,isNaN(N[y])?N[y]=e[_][D].value:N[y]+=e[_][D].value,-1==y&&(isNaN(N[_])?N[_]=e[_][D].value:N[_]+=e[_][D].value),o||(n[_]=D))));return e}})}(jqxBaseFramework);