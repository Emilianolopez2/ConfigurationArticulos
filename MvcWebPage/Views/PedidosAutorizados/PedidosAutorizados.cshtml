@using MvcWebPage.MLAVID

@{
    ViewData["Title"] = "Pedidos Autorizados";
    Layout = "~/Views/Shared/_Layout.cshtml";


    var usuario = (string)ViewData["usuario"];
    var fecha = (string)ViewData["fecha"];
    var sucursal = (string)ViewData["sucursal"];
    var lbSucursal = (string)ViewData["lbSucursal"];

    var cbSucursales = Html.JqxDropDownList("cbSucursales");
    var Grid1 = Html.JqxGrid<IT_PEDIDOS_AUTResult>("Grid1");

}
<!--.SetDate(Html.GetFecha()) -->

<h4>Pedidos Autorizados, Sucursal: <span id="lbSucursal" style="text-transform: capitalize;"></span></h4>




<!---------------------------------------------------------------------------------------------------------------->
<div style="border-bottom: 1px solid silver; margin-top: 5px; margin-bottom: 4px;"></div>
<table style="width: 100%;">
    <tr>
        <td style="padding-right: 5px; font-weight: bold; width: 70px; height: 32px;" align="right">
            Usuario:
        </td>
        <td style="width: 10px; white-space: nowrap;">
            @usuario
        </td>
        <td style="width: 60px; padding-right: 5px; padding-left: 50px; font-weight: bold;" align="right">
            Fecha:
        </td>
        <td id="eFecha" style="width: 70px;" align="left">
            @fecha
        </td>

        
        
        <td class="Show2" style="width: 60px; padding-right: 5px; padding-left: 50px; font-weight: bold; white-space: nowrap;" align="right">
            Orden Compra:
        </td>
        <td class="Show2" id="ordCompra" style="width: 70px;" align="left">
            
        </td>
        


        @if (sucursal == "")
        {
            <td class="Show1" style="width: 60px; padding-right: 5px; padding-left: 50px; font-weight: bold;" align="right">
                Sucursal:
            </td>
            <td class="Show1" style="width: 70px;" align="left">
                @Html.Partial("cbSucursales")
            </td>
        }
        <td></td>
        <td style="width: 20px; padding-right: 3px; padding-left: 0px; font-weight: bold;" align="right">
            
            <div class="Show1">
                @Html.Partial("btnFiltro")
            </div>
            
        </td>
        <td style="width: 20px; padding-left: 0px; font-weight: bold;" align="right">
            
            <div class="Show1">
                @Html.Partial("BuscarPedidos")
            </div>

            
            <table class="Show2">
                <tr>
                    <td>
                        @Html.Partial("Regresar")
                    </td>
                    <td>
                        @Html.Partial("Imprimir")
                    </td>
                </tr>
            </table>
        </td>



    </tr>
</table>
<div style="border-bottom: 1px solid silver; margin-top: 5px; margin-bottom: 10px;"></div>
<!---------------------------------------------------------------------------------------------------------------->
<div class="Show1">
@Html.Partial("Grid1/Grid1")
</div>

<!---------------------------------------------------------------------------------------------------------------->




<div class="Show2">
    

    <table style="margin-bottom: 20px;">
        <tr>
            <td valign="top">
                <table>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Empresa:
                        </td>
                        <td id="lEmpresa">

                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 5px;" align="right">
                            RFC:
                        </td>
                        <td id="lRfc">

                        </td>
                    </tr>
                </table>
            </td>
            <td></td>
            <td valign="top" style="padding-left: 50px;">
                <table>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px;" align="right" valign="top">
                            Direccion:
                        </td>
                        <td id="lDireccion" style="">

                        </td>
                    </tr>
                </table>
            </td>
            
            <td valign="top" style="padding-left: 50px;">
                <table>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px;" align="right" valign="top">
                            Moneda y Tipo de Cambio:
                        </td>
                        <td id="lMoneda" style="">
                           
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <!------------------------------------------------------------------------------------------------------------>
    
    <table style="width: 100%; margin-bottom: 20px;">
        <tr>
            <td style="font-weight: bold; width: 530px;" align="center">
                Proveedor
            </td>
            <td></td>
            <td style="font-weight: bold; width: 530px;" align="center">
                Lugar de Entrega
            </td>
        </tr>
        <tr>
            <td style="border: antiquewhite solid 1px; padding-left: 7px;">
                
                <table>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Nombre:
                        </td>
                        <td id="pNombre">

                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Direccion:
                        </td>
                        <td id="pDireccion">

                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right">
                            Pais:
                        </td>
                        <td id="pPais">

                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right">
                            Telefonos:
                        </td>
                        <td id="pTelefonos">

                        </td>
                    </tr>
                </table>
                

            </td>
            <td></td>
            <td style="border: antiquewhite solid 1px; padding-left: 7px;" valign="top">
                
                <table>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Direccion:
                        </td>
                        <td id="leDireccion">

                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right">
                            Pais:
                        </td>
                        <td id="lePais">

                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold; padding-right: 5px; height: 10px;" align="right">
                            Telefonos:
                        </td>
                        <td id="leTelefonos">

                        </td>
                    </tr>
                </table>
                

            </td>
        </tr>
    </table>
    
    <!------------------------------------------------------------------------------------------------------------>

    <table style="width: 100%; margin-bottom: 20px;">
        <tr>
            <td style="width: 530px; padding-left: 7px;">

                <table style="width: 100%">
                    <tr>
                        <td style="white-space: nowrap; width: 10px; font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Fecha de Entrega:
                        </td>
                        <td id="" style="border-bottom: 1px solid antiquewhite">
                            
                        </td>
                    </tr>
                    <tr>
                        <td style="white-space: nowrap; font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Condiciones de Pago:
                        </td>
                        <td id="" style="border-bottom: 1px solid antiquewhite">
                        </td>
                    </tr>
                </table>


            </td>
            <td></td>
            <td style="width: 530px; padding-left: 7px;" valign="top">

                <table style="width: 100%;">
                    <tr>
                        <td style="white-space: nowrap; width: 10px; font-weight: bold; padding-right: 5px; height: 10px;" align="right" valign="top">
                            Embarcado por:
                        </td>
                        <td id="" style="border-bottom: 1px solid antiquewhite">
                        </td>
                    </tr>
                    <tr>
                        <td style="white-space: nowrap; width: 10px; font-weight: bold; padding-right: 5px; height: 10px;" align="right">
                            Concepto:
                        </td>
                        <td id="" style="border-bottom: 1px solid antiquewhite">
                        </td>
                    </tr>
                </table>


            </td>
        </tr>
    </table>


    @Html.Partial("Grid2/Grid2")
    <!---------------------------------------------------------------------------------------------------------------->
    
<table style="width: 100%; margin-top: 10px;">
    <tr>
        <td></td>
        <td style="width: 10px; white-space: nowrap; font-weight: bold;">
            Subtotal:
        </td>
        <td id="tSubTotal"  style="width: 150px; border-bottom: 1px solid silver" align="center">
                
        </td>
    </tr>
        
    <tr>
        <td></td>
        <td style="width: 10px; white-space: nowrap; font-weight: bold;">
            IEPS:
        </td>
        <td id="tIEPS" style="border-bottom: 1px solid silver" align="center">
                
        </td>
    </tr>

    <tr>
        <td></td>
        <td style="width: 10px; white-space: nowrap; font-weight: bold;">
            IVA:
        </td>
        <td id="tIVA"  style="border-bottom: 1px solid silver" align="center">
                
        </td>
    </tr>

    <tr>
        <td></td>
        <td style="width: 10px; white-space: nowrap; font-weight: bold;">
            TOTAL:
        </td>
        <td id="tTotal"  style="border-bottom: 1px solid silver" align="center">
                
        </td>
    </tr>
</table>
    <!---------------------------------------------------------------------------------------------------------------->
<table style="width: 100%; margin-top: 50px; ">
    <tr>
        <td style="padding-right: 20px; font-size: 12px;">
                EL NUMERO DE ESTA ORDEN DE COMPRA DEBERA ANOTARSE EN TODA CORRESPONDENCIA, FACTURA, REMISION, DOC. DE EMBARQUE, BULTOS INVARIABLEMENTE.
        </td>
            <td style="width: 250px; padding-right: 20px; font-size: 14px;">
                <table style="width: 100%;">
                    <tr>
                        <td style="font-weight: bold;" align="center">
                            COMPRADOR / SOLICITANTE
                        </td>
                    </tr>
                    <tr>
                        <td style="height: 24px;white-space: nowrap; border-bottom: 1px solid silver" align="center">
                            
                        </td>
                    </tr>
                </table>
        </td>
            <td style="width: 250px; font-size: 14px;">
            <table style="width: 100%;">
                <tr>
                    <td style="font-weight: bold;" align="center">
                            AUTORIZADO POR
                    </td>
                </tr>
                <tr>
                        <td style="height: 24px;white-space: nowrap; border-bottom: 1px solid silver" align="center">
                        
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

</div>

<!---------------------------------------------------------------------------------------------------------------->
@Html.Partial("MsgBox")
@Html.Partial("Filtro1")
@Html.Partial("JqxLoader")

<!---------------------------------------------------------------------------------------------------------------->
@section ScriptHeader
    {
    <script>
        //---------------------------------------------
        var flag = 0;

        var sucursal = "@sucursal";
        var tmp_sucursal = "";
        var sucursal2 = "@sucursal";

        var lbSucursal = "@lbSucursal";
        var fecha = "@fecha";
        
        //---------------------------------------------



    </script>
}


@section ScriptFooter{
    <script>

        //---------------------------------------------

        $(".Show2").css('display', 'none');

        if (lbSucursal != "") {
            $("#lbSucursal").html(lbSucursal.toLowerCase());
        }


        $("#Clear1").click(function (event) {
            event.preventDefault();

            $("#txProveedor").val('');
        });


        $("#txProveedor").jqxInput({ placeHolder: " Nombre:", height: 30, width: '100%' });



        getData2('@Url.Action("GetProveedores", "PedidosAutorizados")',
            {  },
            function (respuesta) {
                
                respuesta = JSON.parse(respuesta);

                
                if (respuesta.code == -1) {

                    return;
                }
                
                //(Grid2.SetSource("respuesta.rs"))


                $("#txProveedor").jqxInput({ source: respuesta.rs });

            });
        
        /*****************************************************/




        GetPedidosAutorizados();

        /*****************************************************/

    </script>
}

@section Style{
    <style type="text/css">
        .cellh > div {
            margin-top: 3px !important;
            font-size: 12px !important;

        }

        #Clear1 {
            text-indent: -1000em;
            width: 16px;
            height: 16px;
            display: inline-block;
            background-image: url("/images/Close_Icon_1.png");
            background-repeat: no-repeat;
            position: relative;
            left: -22px;
            top: 2px;
        }

        /*
                    left: -22px;
                    top: 6px;
        */


        .jqx-grid-column-header
        {
            font-weight: 600;
        }

        .jqx-grid-column-header > div > div
        {
            text-align: center !important;
        }

        .GridMP {
            /*color: red;*/
            white-space: normal !important;
            line-height: 17px !important;
            padding-top: 1px !important;
        }

        .jqx-grid-cell-hover .grid1Link {
            color: white;
        }

        .jqx-grid-cell-selected .grid1Link {
            color: white;
        }

        /**********************************************/
        .btnGrid_1 {
            background: #3175B0;
            color: white;
            width: 100%;
            height: 100%;
            border-radius: 5px;
            border: 1px outset black;
        }

        .btnGrid_1:hover {
            background: #245681;
            color: white;
        }

        .btnGrid_1:active {
            background-color: #3175B0;
        }
        /**********************************************/
        .btnGrid_2 {
            background: #58B358;
            color: white;
            width: 100%;
            height: 100%;
            border-radius: 5px;
            border: 1px outset black;
        }

        .btnGrid_2:hover {
            background: #3f803f;
            color: white;
        }

        .btnGrid_2:active {
            background-color: #58B358;
        }
        /**********************************************/
        .btnGrid_3 {
            background: #D64E4A;
            color: white;
            width: 100%;
            height: 100%;
            border-radius: 5px;
            border: 1px outset black;
        }

        .btnGrid_3:hover {
            background: #9d3936;
            color: white;
        }

        .btnGrid_3:active {
            background-color: #D64E4A;
        }
    </style>
}                    
